{"generatedAt":1718178736255,"generateTime":3745,"contents":[{"_path":"/articles/2023/buy_me_a_tea","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"關於我跟隨機手札的二三事","description":"總之就是做個簡單的自我介紹，並也描述一下這個部落格以及使用的技術（雖然 github 上都看得到），最後不知羞恥地附上贊助方式。","img":"923/Id0UIh.jpg","tags":["部落格","關於我","贊助"],"category":"life","readingTime":{"text":"4 min read","minutes":3.815,"time":228900,"words":763},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"總之就是做個簡單的自我介紹，並也描述一下這個部落格以及使用的技術（雖然 github 上都看得到），最後"},{"type":"element","tag":"del","props":{},"children":[{"type":"text","value":"不知羞恥地"}]},{"type":"text","value":"附上贊助方式。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"總之就是做個簡單的自我介紹，並也描述一下這個部落格以及使用的技術（雖然 github 上都看得到），最後"},{"type":"element","tag":"del","props":{},"children":[{"type":"text","value":"不知羞恥地"}]},{"type":"text","value":"附上贊助方式。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"關於我"},"children":[{"type":"text","value":"關於我"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"工作時若不喝上一杯飲料就無法做事的前端小碼農，三大前端框架陣營中屬於 Vue 陣營。由於畢業後茫茫然然，在大學同學的推坑下誤闖這片前端汪洋，發現自己還算做得來也覺得滿有趣且有成就感，就持續泅泳到現在。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"平時興趣是在下班後用一些簡易的器材鍛鍊身體，希望腰圍不要失控地太快，若沒鍛鍊大概就是在逛 Youtube、看動畫……各種族繁不及備載的串流影音，最近愛上 Netflix 的紀錄片們。也會玩玩手遊，目前長棲於"},{"type":"element","tag":"a","props":{"href":"https://www.octopathsp.com/tw/","rel":["nofollow"]},"children":[{"type":"text","value":"《歧路旅人：大陸的霸者》"}]},{"type":"text","value":"以及"},{"type":"element","tag":"a","props":{"href":"https://www.mobimon.com.tw/CC/","rel":["nofollow"]},"children":[{"type":"text","value":"《鎖鏈戰記》"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在大學接觸 Linux 後，漸漸認識到「開源」的概念，打開我對開源軟體的眼界，覺得原來世界上有這麼一群人熱心地分享並共築美好的數位世界後，漸漸將平常使用的電腦系統都轉換到 Linux 其中一個發行版——Fedora。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"關於隨機手札"},"children":[{"type":"text","value":"關於隨機手札"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在經歷 Blogger、Medium、Matters……等各大部落格平台，體驗過不同的優缺點之後，最後決定還是全部收回來自己手上，融合一下工作幾年後的經驗跟所學建立一個部落格，除了當作一個 side project，也算是完成自己架部落格的夢想。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之所以會叫做「隨機手札」，一方面是內容實在太雜亂（？），一方面也是勉勵自己多看、多聽、多想，接觸各種方面的人事物並記錄下來，讓文章內容多元得如同隨機產生。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"目前部落格主要使用 Vue 生態系中的 SSR 框架 "},{"type":"element","tag":"a","props":{"href":"https://v2.nuxt.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt 2"}]},{"type":"text","value":" ，建置於"},{"type":"element","tag":"a","props":{"href":"https://pages.github.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Github Pages"}]},{"type":"text","value":"上，UI 框架則使用 "},{"type":"element","tag":"a","props":{"href":"https://bootstrap-vue.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Bootstrap Vue"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"文章內容主要分成三大類："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Linux 心得： Linux 的使用心得（主要是"},{"type":"element","tag":"a","props":{"href":"https://getfedora.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Fedora"}]},{"type":"text","value":"），以及分享開源軟體的使用心得。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"前端筆記：在前端汪洋闖蕩的筆記，會有像是工作上處理 Bug 的紀錄、步驟過程……等等。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"生活雜記：無法歸類在前面兩類的就會放在這類"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"請我喝杯手搖飲吧"},"children":[{"type":"text","value":"請我喝杯手搖飲吧！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若這裡的經驗分享有幫助到你，歡迎直接斗內，請我喝杯手搖飲！畢竟工程師就是需要配一杯手搖飲，才能工作啊！目前開放贊助的方式如下："}]},{"type":"element","tag":"h3","props":{"id":"ko-fi"},"children":[{"type":"text","value":"Ko-fi"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若想透過信用卡或簽帳卡贊助我喝飲料，可以透過 Ko-fi 平台哦！"},{"type":"element","tag":"a","props":{"href":"https://ko-fi.com/chaoschaoshuang","rel":["nofollow"]},"children":[{"type":"text","value":"點這裡去 Ko-fi 贊助頁面"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h3","props":{"id":"加密貨幣"},"children":[{"type":"text","value":"加密貨幣"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"加密貨幣是無國界的資產轉移方式，若你是有在使用加密貨幣的朋友，歡迎拿幣砸我（？）喔。目前接受"},{"type":"element","tag":"a","props":{"href":"https://www.maicoin.com/docs/fees-limits/transfers","rel":["nofollow"]},"children":[{"type":"text","value":"MaiCoin 網站"}]},{"type":"text","value":"中主網類型為 ERC20 / BSC / Polygon 的幣種。"}]},{"type":"element","tag":"global-donations-crypto","props":{},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"關於我","depth":2,"text":"關於我"},{"id":"關於隨機手札","depth":2,"text":"關於隨機手札"},{"id":"請我喝杯手搖飲吧","depth":2,"text":"請我喝杯手搖飲吧！","children":[{"id":"ko-fi","depth":3,"text":"Ko-fi"},{"id":"加密貨幣","depth":3,"text":"加密貨幣"}]}]}},"_type":"markdown","_id":"content:articles:2023:buy_me_a_tea.md","_source":"content","_file":"articles/2023/buy_me_a_tea.md","_extension":"md","createdAt":"2023-01-05T14:11:03.000Z","updatedAt":"2024-01-19T10:08:29.000Z","slug":"buy_me_a_tea","plainTexts":["總之就是做個簡單的自我介紹，並也描述一下這個部落格以及使用的技術（雖然 github 上都看得到），最後","不知羞恥地","附上贊助方式。","關於我","工作時若不喝上一杯飲料就無法做事的前端小碼農，三大前端框架陣營中屬於 Vue 陣營。由於畢業後茫茫然然，在大學同學的推坑下誤闖這片前端汪洋，發現自己還算做得來也覺得滿有趣且有成就感，就持續泅泳到現在。","平時興趣是在下班後用一些簡易的器材鍛鍊身體，希望腰圍不要失控地太快，若沒鍛鍊大概就是在逛 Youtube、看動畫……各種族繁不及備載的串流影音，最近愛上 Netflix 的紀錄片們。也會玩玩手遊，目前長棲於","《歧路旅人：大陸的霸者》","以及","《鎖鏈戰記》","。","在大學接觸 Linux 後，漸漸認識到「開源」的概念，打開我對開源軟體的眼界，覺得原來世界上有這麼一群人熱心地分享並共築美好的數位世界後，漸漸將平常使用的電腦系統都轉換到 Linux 其中一個發行版——Fedora。","關於隨機手札","在經歷 Blogger、Medium、Matters……等各大部落格平台，體驗過不同的優缺點之後，最後決定還是全部收回來自己手上，融合一下工作幾年後的經驗跟所學建立一個部落格，除了當作一個 side project，也算是完成自己架部落格的夢想。","之所以會叫做「隨機手札」，一方面是內容實在太雜亂（？），一方面也是勉勵自己多看、多聽、多想，接觸各種方面的人事物並記錄下來，讓文章內容多元得如同隨機產生。","目前部落格主要使用 Vue 生態系中的 SSR 框架","Nuxt 2","，建置於","Github Pages","上，UI 框架則使用","Bootstrap Vue","。","文章內容主要分成三大類：","Linux 心得： Linux 的使用心得（主要是","Fedora","），以及分享開源軟體的使用心得。","前端筆記：在前端汪洋闖蕩的筆記，會有像是工作上處理 Bug 的紀錄、步驟過程……等等。","生活雜記：無法歸類在前面兩類的就會放在這類","請我喝杯手搖飲吧！","若這裡的經驗分享有幫助到你，歡迎直接斗內，請我喝杯手搖飲！畢竟工程師就是需要配一杯手搖飲，才能工作啊！目前開放贊助的方式如下：","Ko-fi","若想透過信用卡或簽帳卡贊助我喝飲料，可以透過 Ko-fi 平台哦！","點這裡去 Ko-fi 贊助頁面","。","加密貨幣","加密貨幣是無國界的資產轉移方式，若你是有在使用加密貨幣的朋友，歡迎拿幣砸我（？）喔。目前接受","MaiCoin 網站","中主網類型為 ERC20 / BSC / Polygon 的幣種。"]},{"_path":"/articles/2023/canned_fish_dha_epa","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"透過魚罐頭補充Omega 3(EPA / DHA)的可行性","description":"最近發現由於自己不是很愛吃魚的關係，有飲食中缺乏部分 Omega 3 來源的問題，所以轉向罐頭食品下手。在網路上 Google 一陣子之後發現這方面的中文資訊有點少，不然就是可能由內容農場網站撰寫，不知來源可信度，所以這篇文章就誕生了。","img":"922/YF2sjK.jpg","tags":["罐頭","飲食"],"category":"life","readingTime":{"text":"13 min read","minutes":12.42,"time":745200,"words":2484},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近發現由於自己不是很愛吃魚的關係，有飲食中缺乏部分 Omega 3 來源的問題，所以轉向罐頭食品下手。在網路上 Google 一陣子之後發現這方面的中文資訊有點少，不然就是可能由內容農場網站撰寫，不知來源可信度，所以這篇文章就誕生了。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近發現由於自己不是很愛吃魚的關係，有飲食中缺乏部分 Omega 3 來源的問題，所以轉向罐頭食品下手。在網路上 Google 一陣子之後發現這方面的中文資訊有點少，不然就是可能由內容農場網站撰寫，不知來源可信度，所以這篇文章就誕生了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"免責聲明"},"children":[{"type":"text","value":"免責聲明"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這篇文章是紀錄自己查找資訊的過程以及根據這些資訊作成的結論，若你有任何健康問題或是飲食上的疑問，最好的方式是尋求專業人士協助。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"關於-omega-3"},"children":[{"type":"text","value":"關於 Omega 3"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Omega 3 是一類不飽合脂肪酸的簡稱，其中最重要的三種就是 ALA、EPA、DHA。其中 ALA 因為人體無法自行合成，所以必須從食物中攝取；而雖然人體可以利用攝取到的 ALA 去合成 EPA 與 DHA，但合成效率低且會因個人身體狀況不同而有所差異，因此大部分的膳食建議仍然鼓勵從食物來源直接攝取 EPA 與 DHA。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於生物環境的關係，EPA 與 DHA 只能從海洋生物身上取得，其中又以動物來源最佳，因此魚類就成為直接攝取 EPA 與 DHA 的最佳選擇。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於 Omega 3，可參考衛福部發布的\n"},{"type":"element","tag":"a","props":{"href":"https://www.hpa.gov.tw/Pages/Detail.aspx?nodeid=544&pid=725","rel":["nofollow"]},"children":[{"type":"text","value":"《國人膳食營養素參考攝取量》"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"h3","props":{"id":"為何選擇魚罐頭"},"children":[{"type":"text","value":"為何選擇魚罐頭"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之所以那麼快就決定查找魚罐頭的原因就是方便兩個字。罐頭食品不需冷藏、好攜帶、使用後清洗完可直接回收、不用挑魚刺（對我來說超重要）、不用自己開火……，價格便宜也是一個原因。我現在都是蓋在沙拉上面就直接吃，老實說味道還不錯。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在健身風氣盛行之後，也有許多健康便當店會推出非炸而是煎或煮的主菜為魚肉的便當，也是不錯的選擇。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"關於魚罐頭的迷思"},"children":[{"type":"text","value":"關於魚罐頭的迷思"}]},{"type":"element","tag":"article-img","props":{"img":"922/bIgztk.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"罐頭食品並非完全沒有缺點，但在查詢這方面的資訊時，還是會看到很多人用錯誤甚至是移花接木的資訊來攻擊罐頭食品，所以順便整理一下。"}]},{"type":"element","tag":"h3","props":{"id":"防腐劑"},"children":[{"type":"text","value":"防腐劑"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有很多我們以為「有防腐劑才能放這麼久」的東西，實際上僅僅是因為食品工業中包裝工法的進步而已，罐頭就是其中之一。台灣的食品罐頭製造流程是參考先進國家標準，必須符合密閉、商業滅菌（俗稱高溫殺菌）與室溫保存三項原則，以杜絕微生物的生存條件，尤其是具有危害性命疑慮的肉毒桿菌，所以罐頭食品不需要，也沒有必要添加防腐劑。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n可參考衛福部食藥署網站的文章：\n"},{"type":"element","tag":"a","props":{"href":"https://article-consumer.fda.gov.tw/subject.aspx?subjectid=1&id=1134","rel":["nofollow"]},"children":[{"type":"text","value":"《顛覆！你對罐頭與真空包裝食物的錯誤迷思》"}]}]},{"type":"element","tag":"h3","props":{"id":"重金屬"},"children":[{"type":"text","value":"重金屬"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"魚罐頭的重金屬來源分為兩種，一種是罐頭本身材料與製程的部分，一種是魚類本身經生物鏈累積後而含有的重金屬。依據法規，前者是檢查鉛與錫，後者通常檢驗汞。而罐頭食品的鉛標準比起蕈菇乾貨以及水產貝類都來得低，錫則是金屬罐裝食品（如罐裝飲料）必檢驗的項目，基本上都不用太擔心。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"至於魚類本身累積的生物鏈重金屬，也是平常吃魚就會接觸到的，如果你並不害怕吃魚，那麼也沒有必要害怕罐頭魚才對。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於食品中各類重金屬標準，可參考\n"},{"type":"element","tag":"a","props":{"href":"https://msn.sgs.com/food/food_pollution.aspx","rel":["nofollow"]},"children":[{"type":"text","value":"SGS 網站"}]},{"type":"text","value":"\n。關於上述提及的重金屬，可參考食藥署網站介紹：\n"},{"type":"element","tag":"a","props":{"href":"https://www.fda.gov.tw/tc/siteContent.aspx?sid=3821","rel":["nofollow"]},"children":[{"type":"text","value":"鉛"}]},{"type":"text","value":"\n、\n"},{"type":"element","tag":"a","props":{"href":"https://www.fda.gov.tw/TC/siteContent.aspx?sid=3825","rel":["nofollow"]},"children":[{"type":"text","value":"錫"}]},{"type":"text","value":"\n、\n"},{"type":"element","tag":"a","props":{"href":"https://www.fda.gov.tw/TC/siteContent.aspx?sid=3820","rel":["nofollow"]},"children":[{"type":"text","value":"汞"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"h3","props":{"id":"酚甲烷"},"children":[{"type":"text","value":"酚甲烷"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"酚甲烷（俗稱雙酚Ａ）算是目前罐頭食品比較有疑慮的部分。由於為了防止罐頭鏽蝕，都會塗上一層塗料，其中的原料就包含酚甲烷，雖然經過食藥署統計，國人飲食中所暴露的量遠低於歐盟建議的容許值就是了。若對此有嚴重疑慮，那麼可能要盡量避免接觸罐頭食品。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於酚甲烷，可參考\n"},{"type":"element","tag":"a","props":{"href":"https://www.fda.gov.tw/tc/siteContent.aspx?sid=3822","rel":["nofollow"]},"children":[{"type":"text","value":"食藥署網站介紹"}]},{"type":"text","value":"\n及其頁面附件。\n"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"關於魚罐頭的缺點"},"children":[{"type":"text","value":"關於魚罐頭的缺點"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沒有什麼東西都是絕對好的，魚罐頭本身也有些（我自己認為的）缺點，一路這樣查找下來並實際去逛了一圈大賣場研究過各式魚罐頭之後，這些缺點大多來自於添加物。"}]},{"type":"element","tag":"h3","props":{"id":"鈉含量可能過高"},"children":[{"type":"text","value":"鈉含量「可能」過高"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"為了調整罐頭的風味，可能會在製作過程中加入一些合法的添加物，額外添加的鈉會使得罐頭食品的鈉含量飆高。我看過有些品牌一個魚罐頭就有 1.5g 的鈉，一罐就已經超過每日建議攝取量的一半；也有標榜無添加的魚罐頭，一整罐只會有 0.4g 的鈉。然後各家品牌罐頭大小也有不同，差異非常大，在挑選時可能也要仔細注意一下。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果本來是因為想要飲食均衡而吃，反而又吃進過多鈉可是本末倒置得不償失啊。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"魚罐頭作為-epa-dha-來源可行嗎"},"children":[{"type":"text","value":"魚罐頭作為 EPA / DHA 來源可行嗎？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那麼，在先了解關於 Omega 3 與罐頭資訊之後，終於進入正題：魚罐頭作為補充 EPA / DHA 的來源可行嗎？這個部分我分為幾個主題來查找，紀錄如下。"}]},{"type":"element","tag":"h3","props":{"id":"魚的種類"},"children":[{"type":"text","value":"魚的種類？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"國內魚罐頭種類眾多，有鮪魚、（海）鰻魚、鯖魚、沙丁魚……等等，而以 EPA / DHA 的來源考量，應以中小型深海魚為主，同時兼顧含量但又不會吃到過多由生物鏈累積的重金屬。最後我選擇了鮪魚罐頭，不過有機會的話也會試試鯖魚，鯖魚似乎是 EPA / DHA 含量最高的中小型魚之一。"}]},{"type":"element","tag":"h3","props":{"id":"罐頭的加工方式會影響-epa-dha-含量嗎"},"children":[{"type":"text","value":"罐頭的加工方式會影響 EPA / DHA 含量嗎？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於罐頭都須經過高溫高壓處理，EPA / DHA 可能在製程中喪失，而目前國內又沒有強制標示其含量，所以搜尋了一下。這部分缺乏中文資料真的耗費一番苦心，最後直接去 Google 學術搜尋找英文論文來看，由於資料眾多，就不特別一一講述，會列在最後的參考文件，有興趣的人可以自行查閱。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我這邊得到的結論如下："}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"魚罐頭的 Omega 3 含量可能會低於烹調過後的新鮮魚，但差異不大。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"魚罐頭的 Omega 3 含量會因為儲存時間增加而降低，因此購買時盡量購買離製造日期 6 個月內的鮪魚罐頭為佳。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"油漬罐頭使用的植物油，「可能」有助於減緩魚罐頭 Omega 3 在儲存過程中的降解。"}]}]},{"type":"element","tag":"h3","props":{"id":"國內魚罐頭的標示"},"children":[{"type":"text","value":"國內魚罐頭的標示？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"值得注意的是在逛大賣場的時候，有一家大品牌直接將 DHA 標示於營養成分中，而根據《包裝食品營養標示應遵行事項》對於自願標示營養素的規範，誤差容許在標示值的 80%以上，也就是說此牌此種鮪魚罐頭的 DHA 在合乎法規的狀況下有 208mg 以上。考慮到魚罐頭工業的處理都差不多，我想大廠牌之間應該不會差異太大才對，只是有沒有標示的差別。"}]},{"type":"element","tag":"article-img","props":{"img":"923/Q9WxM2.jpg"},"children":[]},{"type":"element","tag":"h3","props":{"id":"那要吃多少"},"children":[{"type":"text","value":"那要吃多少？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那如果可以吃的話，以罐頭鮪魚來說要吃到多少才能算是有補充到呢？關於魚類攝取的部分，國內並未訂定建議絕對值，只有相對值，因此這邊拿美國心臟協會文章"},{"type":"element","tag":"a","props":{"href":"https://www.heart.org/en/healthy-living/healthy-eating/eat-smart/fats/fish-and-omega-3-fatty-acids","rel":["nofollow"]},"children":[{"type":"text","value":"《Fish and Omega-3 Fatty Acids》"}]},{"type":"text","value":"中的建議作參考，文章建議成人每周應食用兩次魚，每次應有 3.5 盎司（約 100 克），換算過來就是每周可以吃個兩罐，感覺滿 OK 的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"順帶一提，在美國心臟協會的網站中，有許多文章明確把罐頭鮪魚視為是健康的飲食來源（例如"},{"type":"element","tag":"a","props":{"href":"https://www.heart.org/en/healthy-living/healthy-eating/add-color/healthy-snacking","rel":["nofollow"]},"children":[{"type":"text","value":"Healthy Snacking"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://www.heart.org/en/healthy-living/go-red-get-fit/lunch-ideas-for-work-heart-healthy-options","rel":["nofollow"]},"children":[{"type":"text","value":"Lunch Ideas for Work: Heart-Healthy Options"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://www.heart.org/en/news/2022/11/28/make-better-snack-choices-with-these-healthy-tips","rel":["nofollow"]},"children":[{"type":"text","value":"Make better snack choices with these healthy tips"}]},{"type":"text","value":"），也可以算是一種佐證了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"結論"},"children":[{"type":"text","value":"結論"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"看起來吃鮪魚罐頭也能補充 EPA / DHA，以美國心臟會的建議而言，每周吃兩罐應該也很難有什麼重金屬或其他汙染物過量的問題。而且因為會隔個幾天再吃，也不太容易會膩之類的，我目前就是每周兩罐，盡量隔兩、三天吃，感覺還不錯。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"台灣畢竟是海島國家，若能攝取新鮮煮熟的魚類，應該是都比吃罐頭來得好，但罐頭也有其方便性，就提供大家參考。"}]},{"type":"element","tag":"h3","props":{"id":"食用心得"},"children":[{"type":"text","value":"食用心得"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"市面上的鮪魚罐頭大多分成水煮跟油漬，其中自己覺得油漬比較好吃，水煮的腥味會較重，還在觀望中。目前食用方式都是開罐後先把多餘的湯汁濾掉，然後直接蓋在便利商店的沙拉上，非常方便。也有想過嘗試鯖魚罐頭，但目前還沒實行。除了要注意一下罐頭的鈉含量有沒有太高以外，基本上應該是沒什麼問題。"}]},{"type":"element","tag":"article-img","props":{"img":"923/NBwfxt.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後推薦一下 PTT 的"},{"type":"element","tag":"a","props":{"href":"https://www.ptt.cc/bbs/Canned/index.html","rel":["nofollow"]},"children":[{"type":"text","value":"罐頭版"}]},{"type":"text","value":"，上面有大家對於各種魚罐頭的試吃心得，對我選擇魚罐頭避雷幫助很大。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"參考文獻"},"children":[{"type":"text","value":"參考文獻"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.sciencedirect.com/science/article/abs/pii/S0889157584710118","rel":["nofollow"]},"children":[{"type":"text","value":"White Tuna Canning, Total Fat, and Fatty Acid Changes during Processing and Storage"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://onlinelibrary.wiley.com/doi/full/10.1111/j.1745-4522.2007.00109.x","rel":["nofollow"]},"children":[{"type":"text","value":"Changes of omega-3 fatty acid content and lipid composition in canned tuna during 12-month storage"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.sciencedirect.com/science/article/abs/pii/S0889157511000676","rel":["nofollow"]},"children":[{"type":"text","value":"Fatty acid composition and degradation level of the oils used in canned fish as a function of the different types of fish"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"免責聲明","depth":2,"text":"免責聲明"},{"id":"關於-omega-3","depth":2,"text":"關於 Omega 3","children":[{"id":"為何選擇魚罐頭","depth":3,"text":"為何選擇魚罐頭"}]},{"id":"關於魚罐頭的迷思","depth":2,"text":"關於魚罐頭的迷思","children":[{"id":"防腐劑","depth":3,"text":"防腐劑"},{"id":"重金屬","depth":3,"text":"重金屬"},{"id":"酚甲烷","depth":3,"text":"酚甲烷"}]},{"id":"關於魚罐頭的缺點","depth":2,"text":"關於魚罐頭的缺點","children":[{"id":"鈉含量可能過高","depth":3,"text":"鈉含量「可能」過高"}]},{"id":"魚罐頭作為-epa-dha-來源可行嗎","depth":2,"text":"魚罐頭作為 EPA / DHA 來源可行嗎？","children":[{"id":"魚的種類","depth":3,"text":"魚的種類？"},{"id":"罐頭的加工方式會影響-epa-dha-含量嗎","depth":3,"text":"罐頭的加工方式會影響 EPA / DHA 含量嗎？"},{"id":"國內魚罐頭的標示","depth":3,"text":"國內魚罐頭的標示？"},{"id":"那要吃多少","depth":3,"text":"那要吃多少？"}]},{"id":"結論","depth":2,"text":"結論","children":[{"id":"食用心得","depth":3,"text":"食用心得"}]},{"id":"參考文獻","depth":2,"text":"參考文獻"}]}},"_type":"markdown","_id":"content:articles:2023:canned_fish_dha_epa.md","_source":"content","_file":"articles/2023/canned_fish_dha_epa.md","_extension":"md","createdAt":"2023-10-17T09:54:19.000Z","updatedAt":"2023-12-11T03:54:57.000Z","slug":"canned_fish_dha_epa","plainTexts":["最近發現由於自己不是很愛吃魚的關係，有飲食中缺乏部分 Omega 3 來源的問題，所以轉向罐頭食品下手。在網路上 Google 一陣子之後發現這方面的中文資訊有點少，不然就是可能由內容農場網站撰寫，不知來源可信度，所以這篇文章就誕生了。","免責聲明","這篇文章是紀錄自己查找資訊的過程以及根據這些資訊作成的結論，若你有任何健康問題或是飲食上的疑問，最好的方式是尋求專業人士協助。","關於 Omega 3","Omega 3 是一類不飽合脂肪酸的簡稱，其中最重要的三種就是 ALA、EPA、DHA。其中 ALA 因為人體無法自行合成，所以必須從食物中攝取；而雖然人體可以利用攝取到的 ALA 去合成 EPA 與 DHA，但合成效率低且會因個人身體狀況不同而有所差異，因此大部分的膳食建議仍然鼓勵從食物來源直接攝取 EPA 與 DHA。","由於生物環境的關係，EPA 與 DHA 只能從海洋生物身上取得，其中又以動物來源最佳，因此魚類就成為直接攝取 EPA 與 DHA 的最佳選擇。","關於 Omega 3，可參考衛福部發布的","《國人膳食營養素參考攝取量》","。","為何選擇魚罐頭","之所以那麼快就決定查找魚罐頭的原因就是方便兩個字。罐頭食品不需冷藏、好攜帶、使用後清洗完可直接回收、不用挑魚刺（對我來說超重要）、不用自己開火……，價格便宜也是一個原因。我現在都是蓋在沙拉上面就直接吃，老實說味道還不錯。","在健身風氣盛行之後，也有許多健康便當店會推出非炸而是煎或煮的主菜為魚肉的便當，也是不錯的選擇。","關於魚罐頭的迷思","罐頭食品並非完全沒有缺點，但在查詢這方面的資訊時，還是會看到很多人用錯誤甚至是移花接木的資訊來攻擊罐頭食品，所以順便整理一下。","防腐劑","有很多我們以為「有防腐劑才能放這麼久」的東西，實際上僅僅是因為食品工業中包裝工法的進步而已，罐頭就是其中之一。台灣的食品罐頭製造流程是參考先進國家標準，必須符合密閉、商業滅菌（俗稱高溫殺菌）與室溫保存三項原則，以杜絕微生物的生存條件，尤其是具有危害性命疑慮的肉毒桿菌，所以罐頭食品不需要，也沒有必要添加防腐劑。","可參考衛福部食藥署網站的文章：","《顛覆！你對罐頭與真空包裝食物的錯誤迷思》","重金屬","魚罐頭的重金屬來源分為兩種，一種是罐頭本身材料與製程的部分，一種是魚類本身經生物鏈累積後而含有的重金屬。依據法規，前者是檢查鉛與錫，後者通常檢驗汞。而罐頭食品的鉛標準比起蕈菇乾貨以及水產貝類都來得低，錫則是金屬罐裝食品（如罐裝飲料）必檢驗的項目，基本上都不用太擔心。","至於魚類本身累積的生物鏈重金屬，也是平常吃魚就會接觸到的，如果你並不害怕吃魚，那麼也沒有必要害怕罐頭魚才對。","關於食品中各類重金屬標準，可參考","SGS 網站","。關於上述提及的重金屬，可參考食藥署網站介紹：","鉛","、","錫","、","汞","。","酚甲烷","酚甲烷（俗稱雙酚Ａ）算是目前罐頭食品比較有疑慮的部分。由於為了防止罐頭鏽蝕，都會塗上一層塗料，其中的原料就包含酚甲烷，雖然經過食藥署統計，國人飲食中所暴露的量遠低於歐盟建議的容許值就是了。若對此有嚴重疑慮，那麼可能要盡量避免接觸罐頭食品。","關於酚甲烷，可參考","食藥署網站介紹","及其頁面附件。","關於魚罐頭的缺點","沒有什麼東西都是絕對好的，魚罐頭本身也有些（我自己認為的）缺點，一路這樣查找下來並實際去逛了一圈大賣場研究過各式魚罐頭之後，這些缺點大多來自於添加物。","鈉含量「可能」過高","為了調整罐頭的風味，可能會在製作過程中加入一些合法的添加物，額外添加的鈉會使得罐頭食品的鈉含量飆高。我看過有些品牌一個魚罐頭就有 1.5g 的鈉，一罐就已經超過每日建議攝取量的一半；也有標榜無添加的魚罐頭，一整罐只會有 0.4g 的鈉。然後各家品牌罐頭大小也有不同，差異非常大，在挑選時可能也要仔細注意一下。","如果本來是因為想要飲食均衡而吃，反而又吃進過多鈉可是本末倒置得不償失啊。","魚罐頭作為 EPA / DHA 來源可行嗎？","那麼，在先了解關於 Omega 3 與罐頭資訊之後，終於進入正題：魚罐頭作為補充 EPA / DHA 的來源可行嗎？這個部分我分為幾個主題來查找，紀錄如下。","魚的種類？","國內魚罐頭種類眾多，有鮪魚、（海）鰻魚、鯖魚、沙丁魚……等等，而以 EPA / DHA 的來源考量，應以中小型深海魚為主，同時兼顧含量但又不會吃到過多由生物鏈累積的重金屬。最後我選擇了鮪魚罐頭，不過有機會的話也會試試鯖魚，鯖魚似乎是 EPA / DHA 含量最高的中小型魚之一。","罐頭的加工方式會影響 EPA / DHA 含量嗎？","由於罐頭都須經過高溫高壓處理，EPA / DHA 可能在製程中喪失，而目前國內又沒有強制標示其含量，所以搜尋了一下。這部分缺乏中文資料真的耗費一番苦心，最後直接去 Google 學術搜尋找英文論文來看，由於資料眾多，就不特別一一講述，會列在最後的參考文件，有興趣的人可以自行查閱。","我這邊得到的結論如下：","魚罐頭的 Omega 3 含量可能會低於烹調過後的新鮮魚，但差異不大。","魚罐頭的 Omega 3 含量會因為儲存時間增加而降低，因此購買時盡量購買離製造日期 6 個月內的鮪魚罐頭為佳。","油漬罐頭使用的植物油，「可能」有助於減緩魚罐頭 Omega 3 在儲存過程中的降解。","國內魚罐頭的標示？","值得注意的是在逛大賣場的時候，有一家大品牌直接將 DHA 標示於營養成分中，而根據《包裝食品營養標示應遵行事項》對於自願標示營養素的規範，誤差容許在標示值的 80%以上，也就是說此牌此種鮪魚罐頭的 DHA 在合乎法規的狀況下有 208mg 以上。考慮到魚罐頭工業的處理都差不多，我想大廠牌之間應該不會差異太大才對，只是有沒有標示的差別。","那要吃多少？","那如果可以吃的話，以罐頭鮪魚來說要吃到多少才能算是有補充到呢？關於魚類攝取的部分，國內並未訂定建議絕對值，只有相對值，因此這邊拿美國心臟協會文章","《Fish and Omega-3 Fatty Acids》","中的建議作參考，文章建議成人每周應食用兩次魚，每次應有 3.5 盎司（約 100 克），換算過來就是每周可以吃個兩罐，感覺滿 OK 的。","順帶一提，在美國心臟協會的網站中，有許多文章明確把罐頭鮪魚視為是健康的飲食來源（例如","Healthy Snacking","、","Lunch Ideas for Work: Heart-Healthy Options","、","Make better snack choices with these healthy tips","），也可以算是一種佐證了。","結論","看起來吃鮪魚罐頭也能補充 EPA / DHA，以美國心臟會的建議而言，每周吃兩罐應該也很難有什麼重金屬或其他汙染物過量的問題。而且因為會隔個幾天再吃，也不太容易會膩之類的，我目前就是每周兩罐，盡量隔兩、三天吃，感覺還不錯。","台灣畢竟是海島國家，若能攝取新鮮煮熟的魚類，應該是都比吃罐頭來得好，但罐頭也有其方便性，就提供大家參考。","食用心得","市面上的鮪魚罐頭大多分成水煮跟油漬，其中自己覺得油漬比較好吃，水煮的腥味會較重，還在觀望中。目前食用方式都是開罐後先把多餘的湯汁濾掉，然後直接蓋在便利商店的沙拉上，非常方便。也有想過嘗試鯖魚罐頭，但目前還沒實行。除了要注意一下罐頭的鈉含量有沒有太高以外，基本上應該是沒什麼問題。","最後推薦一下 PTT 的","罐頭版","，上面有大家對於各種魚罐頭的試吃心得，對我選擇魚罐頭避雷幫助很大。","參考文獻","White Tuna Canning, Total Fat, and Fatty Acid Changes during Processing and Storage","Changes of omega-3 fatty acid content and lipid composition in canned tuna during 12-month storage","Fatty acid composition and degradation level of the oils used in canned fish as a function of the different types of fish"]},{"_path":"/articles/2023/collections","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"個人作品集","description":"這篇是整理自己工作中產出或參與的可公開網站，以及自己開發的一些個人專案紀錄。","img":"924/j9gCap.jpg","tags":["portfolio","collections"],"category":"frontend","readingTime":{"text":"2 min read","minutes":1.935,"time":116100,"words":387},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這篇是整理自己工作中產出或參與的可公開網站，以及自己開發的一些個人專案紀錄。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這篇是整理自己工作中產出或參與的可公開網站，以及自己開發的一些個人專案紀錄。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"隨機手札"},"children":[{"type":"element","tag":"a","props":{"href":"https://huangchingchieh.github.io/blog/","rel":["nofollow"]},"children":[{"type":"text","value":"隨機手札"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"個人紀錄前端筆記以及 Linux 使用心得的部落格，為獨立完成。使用 Nuxt 2 預先生成靜態頁面以達到最佳效能，文章使用 Markdown 撰寫並搭配 Nuxt Content 管理，UI 部份使用 BootstrapVue 並經過 Tree Shaking 只使用有用到的元件與樣式，以求最小化編譯後的靜態資源。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"網站託管於 Github Pages 上，圖檔主機使用 ImageShack。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"使用框架：Nuxt 2(Static) + BootstrapVue + SCSS"}]}]},{"type":"element","tag":"article-img","props":{"img":"923/4y4ztl.png"},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"捷元-b2b-採購專區"},"children":[{"type":"element","tag":"a","props":{"href":"https://www.genb2b.com/","rel":["nofollow"]},"children":[{"type":"text","value":"捷元 B2B 採購專區"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"此網站前端部份與其他同事共同完成，開發時主要負責頁面為購物流程：首頁、商品列表頁、商品內頁及購物車頁。因 PM 指示，並未使用 RWD 模式開發。主要提供企業、經銷商採購電腦及其週邊產品的服務，目前未對一般消費者開放。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"使用框架：Nuxt 2(SSR) + BootstrapVue + SCSS"}]}]},{"type":"element","tag":"article-img","props":{"img":"923/QAsM7j.png"},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"hoho-好服務"},"children":[{"type":"element","tag":"a","props":{"href":"https://www.hohoho.com.tw/","rel":["nofollow"]},"children":[{"type":"text","value":"HoHo 好服務"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"此網站前端部份起初是獨力完成，後來與同事一起歷經兩次改版。Vue 的部份才剛自學，程式碼較亂也未切元件處理。主要提供如居家清潔、冷氣清洗、洗衣機清洗……等居家清潔服務，或是網路架構、電腦檢測、電腦安裝……等資訊硬體服務，也有部份的一般商品。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"使用框架：Vue 2 + Bootstrap 4 + SCSS + jQuery"}]}]},{"type":"element","tag":"article-img","props":{"img":"923/Nl4223.png"},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"隨機手札","depth":2,"text":"隨機手札"},{"id":"捷元-b2b-採購專區","depth":2,"text":"捷元 B2B 採購專區"},{"id":"hoho-好服務","depth":2,"text":"HoHo 好服務"}]}},"_type":"markdown","_id":"content:articles:2023:collections.md","_source":"content","_file":"articles/2023/collections.md","_extension":"md","createdAt":"2023-08-10T06:23:47.000Z","updatedAt":"2023-12-11T03:54:57.000Z","slug":"collections","plainTexts":["這篇是整理自己工作中產出或參與的可公開網站，以及自己開發的一些個人專案紀錄。","隨機手札","個人紀錄前端筆記以及 Linux 使用心得的部落格，為獨立完成。使用 Nuxt 2 預先生成靜態頁面以達到最佳效能，文章使用 Markdown 撰寫並搭配 Nuxt Content 管理，UI 部份使用 BootstrapVue 並經過 Tree Shaking 只使用有用到的元件與樣式，以求最小化編譯後的靜態資源。","網站託管於 Github Pages 上，圖檔主機使用 ImageShack。","使用框架：Nuxt 2(Static) + BootstrapVue + SCSS","捷元 B2B 採購專區","此網站前端部份與其他同事共同完成，開發時主要負責頁面為購物流程：首頁、商品列表頁、商品內頁及購物車頁。因 PM 指示，並未使用 RWD 模式開發。主要提供企業、經銷商採購電腦及其週邊產品的服務，目前未對一般消費者開放。","使用框架：Nuxt 2(SSR) + BootstrapVue + SCSS","HoHo 好服務","此網站前端部份起初是獨力完成，後來與同事一起歷經兩次改版。Vue 的部份才剛自學，程式碼較亂也未切元件處理。主要提供如居家清潔、冷氣清洗、洗衣機清洗……等居家清潔服務，或是網路架構、電腦檢測、電腦安裝……等資訊硬體服務，也有部份的一般商品。","使用框架：Vue 2 + Bootstrap 4 + SCSS + jQuery"]},{"_path":"/articles/2023/crypto_after_ftx","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"寫在FTX事件之後：冷錢包中那些看不見的管理及使用成本","description":"自 FTX 宣告破產後，對中心化交易所的絕望在幣圈掀起一波「自己保管資產」的浪潮，往後一周，人們搜尋「冷錢包」（hardware wallet）的熱度達到了當年度的最高峰。而那幾天，也是我第一次從身邊一些幣圈散戶朋友的口中聽到「冷錢包」三個字。","img":"924/QMpdb8.jpg","tags":["DeFi","冷錢包","加密貨幣","FTX"],"category":"life","readingTime":{"text":"15 min read","minutes":14.555,"time":873300,"words":2911},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自 "},{"type":"element","tag":"a","props":{"href":"https://www.mirrormedia.mg/story/20221116fin001","rel":["nofollow"]},"children":[{"type":"text","value":"FTX 宣告破產"}]},{"type":"text","value":"後，對中心化交易所的絕望在幣圈掀起一波「自己保管資產」的浪潮，"},{"type":"element","tag":"a","props":{"href":"https://trends.google.com.tw/trends/explore?date=2022-01-01%202022-12-31&q=hardware%20wallet","rel":["nofollow"]},"children":[{"type":"text","value":"往後一周，人們搜尋「冷錢包」（hardware wallet）的熱度達到了當年度的最高峰"}]},{"type":"text","value":"。而那幾天，也是我第一次從身邊一些幣圈散戶朋友的口中聽到「冷錢包」三個字。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自 "},{"type":"element","tag":"a","props":{"href":"https://www.mirrormedia.mg/story/20221116fin001","rel":["nofollow"]},"children":[{"type":"text","value":"FTX 宣告破產"}]},{"type":"text","value":"後，對中心化交易所的絕望在幣圈掀起一波「自己保管資產」的浪潮，"},{"type":"element","tag":"a","props":{"href":"https://trends.google.com.tw/trends/explore?date=2022-01-01%202022-12-31&q=hardware%20wallet","rel":["nofollow"]},"children":[{"type":"text","value":"往後一周，人們搜尋「冷錢包」（hardware wallet）的熱度達到了當年度的最高峰"}]},{"type":"text","value":"。而那幾天，也是我第一次從身邊一些幣圈散戶朋友的口中聽到「冷錢包」三個字。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n我們常說的冷錢包，大多是指硬體錢包（hardware wallet），但其實抄了私鑰的紙在定義上也可以算是冷錢包。\n"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"避免岐義及簡化寫作，以下提到的冷錢包皆是指稱硬體錢包。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"製作冷錢包的公司可說是百花齊放，每個公司的廣告都主打便於攜帶，讓這些冷錢包看起來像是隨身的、易於使用的裝置，是可以輕而易舉就融入生活中的配備。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然而，使用冷錢包的這段時間以來，我認為其隱藏成本比想像中多很多，絕對不是帳面上拿去購買冷錢包的幾千塊台幣而已。適逢幣圈重大變故，便寫下這篇文章，來分享我使用冷錢包時額外注意的細節以及心得，給大家作個參考，也算是個紀錄。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"冷錢包的作用"},"children":[{"type":"text","value":"冷錢包的作用"}]},{"type":"element","tag":"h3","props":{"id":"什麼是區塊鍊上的錢包"},"children":[{"type":"text","value":"什麼是（區塊鍊上的）錢包？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"相對於現實世界真的能夠放錢進去的錢包，幣圈所說的「錢包」在概念上有所差異。幣圈中的「幣」是儲存於區塊鏈上，能夠操作幣的人，就是掌管私鑰（類似密碼）的人，"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"幣圈所說的「錢包」指的便是能夠儲存私鑰的工具"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"比如說，把代表私鑰的 12 或 24 個單字抄在紙上時，這張紙便是你的「紙錢包」。當你將你的私鑰背在腦中時，你的腦便是你的「生物錢包」。"}]},{"type":"element","tag":"article-img","props":{"img":"922/tsomgx.jpg"},"children":[]},{"type":"element","tag":"h3","props":{"id":"軟體錢包熱錢包"},"children":[{"type":"text","value":"軟體錢包（熱錢包）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然而，僅是儲存私鑰是不夠的，我們還需要能夠與區塊鏈互動的工具，幫我們透過私鑰來簽署、產生與傳送交易資訊到區塊鏈，於是大家都會使用能夠同時儲存私鑰也能與區塊鏈互動的軟體錢包。像是隨著比特幣網路一同誕生的 "},{"type":"element","tag":"a","props":{"href":"https://bitcoin.org/zh_TW/download","rel":["nofollow"]},"children":[{"type":"text","value":"Bitcoin Core"}]},{"type":"text","value":"，就是這樣的軟體錢包，這種"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"會與網路（指的是我們平常使用的網路）連線的軟體錢包也被稱為熱錢包"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h3","props":{"id":"硬體錢包"},"children":[{"type":"text","value":"硬體錢包"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"能夠直接安裝在電腦或手機的熱錢包雖然方便，卻也危險。只要電腦或手機被駭客透過網路入侵，很容易連私鑰也一起失去保護而被盜走，駭客便能奪取你所有的鏈上資產。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"後來 Trezor 團隊將功能切割，將發送交易資訊至鏈上的功能留在軟體界面中，"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"把儲存私鑰、透過私鑰產生交易資訊的能力獨立出去，並斷絕網路連結，誕生了硬體錢包——也就是大家常說的冷錢包"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於世界上第一個硬體錢包的誕生，可參考\n"},{"type":"element","tag":"a","props":{"href":"https://blog.trezor.io/7-years-of-hardware-wallets-the-success-story-of-czech-crypto-enthusiasts-creating-a-brand-new-6648769d373a","rel":["nofollow"]},"children":[{"type":"text","value":"《7 Years of Hardware Wallets: The Success Story of Czech Crypto Enthusiasts Creating a Brand New Industry》"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Trezor 之後，各家公司開始用不同的方式實現冷錢包的概念。像是與 "},{"type":"element","tag":"a","props":{"href":"https://trezor.io/","rel":["nofollow"]},"children":[{"type":"text","value":"Trezor"}]},{"type":"text","value":" 相同以 USB 連結電腦的 "},{"type":"element","tag":"a","props":{"href":"https://www.ledger.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Ledger"}]},{"type":"text","value":"，以藍芽連結的 "},{"type":"element","tag":"a","props":{"href":"https://www.coolwallet.io/zh-hant/","rel":["nofollow"]},"children":[{"type":"text","value":"CoolWallet"}]},{"type":"text","value":"，或是使用相機掃描 QRCode 來傳送資訊的 "},{"type":"element","tag":"a","props":{"href":"https://store.safepal.com/safepal-s1-hardware-wallet.html","rel":["nofollow"]},"children":[{"type":"text","value":"Safepal"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://keyst.one/","rel":["nofollow"]},"children":[{"type":"text","value":"Keystone"}]},{"type":"text","value":"……等等。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h3","props":{"id":"私鑰安全了那中介軟體呢"},"children":[{"type":"text","value":"私鑰安全了，那中介軟體呢？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"綜上所述，在目前的架構下，我們所購買的冷錢包仍需要一個中介軟體來跟區塊鏈互動，而這個中介軟體勢必是要安裝在電腦或手機上，那麼問題來了，難道安裝中介軟體的電腦或手機被駭客入侵的話，不會影響交易嗎？當然會！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://abmedia.io/defi-nexus-mutual-founder-been-hacked","rel":["nofollow"]},"children":[{"type":"text","value":"2020 年時就發生了一起針對性的攻擊事件"}]},{"type":"text","value":"，被害者使用的是冷錢包，然而駭客駭入他安裝了 Metamask 並配合硬體錢包使用的電腦，誘導他把資產傳到了駭客的地址中。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在這起事件中，冷錢包發揮了完整的功能，它保護了私鑰沒有被竊取、也成功執行並發送交易。然而，慘劇仍然發生。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"隱藏的成本"},"children":[{"type":"text","value":"隱藏的成本"}]},{"type":"element","tag":"h3","props":{"id":"成本一你需要獨立的裝置來操作中介軟體"},"children":[{"type":"text","value":"成本一：你需要獨立的裝置來操作中介軟體"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"既然私鑰要獨立出去，為了安全性，其實作為區塊鍊與硬體錢包中介的軟體也必須獨立。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因此購入冷錢包後，我拿了家中一台閒置筆電，重灌了 Fedora（一種 Linux 發佈板）系統，讓這台電腦只專門用來在 DeFi 上操作。而且在每次開機後先作一次系統更新，才能與冷錢包互動，互動完即關機。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這些準備就是為了防止我日常生活中的任何行為，例如聽音樂、逛網路、看謎片，不小心替駭客開了後門，讓駭客有機會侵入我的電腦修改我的中介軟體。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但我是剛好有閒置而且年代不算舊的筆電可以用，省去了硬體的費用。若沒有的人，額外添置筆電、電腦或是手機的金額，想必是不亞於目前市面上主流的冷錢包。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當然也是可以不添購啦，只是你對自己日常生活的電腦使用習慣，又有幾分信心呢？"}]},{"type":"element","tag":"h3","props":{"id":"成本二你需要單獨儲存私鑰的錢包"},"children":[{"type":"text","value":"成本二：你需要單獨儲存私鑰的「錢包」"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接著，我們來設想一個故事情節："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"你熬夜工作，在工作完成、太陽也探出頭來的那刻，你打開 "},{"type":"element","tag":"a","props":{"href":"https://coinmarketcap.com/zh-tw/","rel":["nofollow"]},"children":[{"type":"text","value":"CoinMarketCap"}]},{"type":"text","value":" 發現自己買的 ABC 幣突然漲了 200%，你認為這已經達到你的止盈標準，打算將 ABC 幣兌換成穩定幣，於是急於打開冷錢包。然而不幸的是，你熬夜後的頹靡影響到你的肌肉控制，手一滑，冷錢包摔在地上成為了碎片。更不幸的是，你沒有額外儲存你的私鑰，你努力回想你的 12/24 個單字，然而終究想不起來。"}]},{"type":"element","tag":"article-img","props":{"img":"924/4M1v6w.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"呀～想到就覺得毛骨悚然。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沒錯，除了冷錢包，你應該還要有另外一個安全且可靠、專門拿來儲存私鑰的「錢包」以額外備份你的私鑰。畢竟冷錢包就是一個肉眼可見的實物，更何況還是精密的電子裝置，毀壞的可能性所在多有，若你的私鑰僅透過冷錢包儲存，豈不是風險太大嗎？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"關於這部份，有些人會選擇將私鑰直接抄在紙上，然而紙的強韌程度大家都心裡有數，只要遇到什麼火、水或甚至有白蟻、衣魚什麼的，那張紙就會被破壞。所以大部分的冷錢包公司，都會推出一種不鏽鋼板，來讓大家可以額外備份私鑰，大概長這樣："}]},{"type":"element","tag":"article-img","props":{"img":"923/dJi7sm.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然而這種不鏽鋼板的錢，通常也都要千元以上，有些甚至是等同於冷錢包的價格。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n絕對不要把私鑰放在什麼 Google Keep 啊、Dropbox 這種雲端空間！\n"}]},{"type":"element","tag":"h3","props":{"id":"成本-由你來決定"},"children":[{"type":"text","value":"成本 ∞：由你來決定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有的人可能會舉一反三說：就算我用了獨立電腦來安裝中介軟體，有沒有在操作中被駭的可能？當然有。我買了不鏽鋼板，但不鏽鋼板可能被偷啊？當然可能。那是不是還要再買個保險箱，把冷錢包、筆電、不鏽鋼板都放進去？可能要。那保險箱密碼要怎麼記……諸如此類，要是你剛好是很容易擔心的人，這條「安全的冷錢包」之路，可能會無窮無盡地延伸下去。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"畢竟從冷錢包發出交易資訊，最終到區塊鏈的這個過程中，有太多可以「準備」的空間了，當你持有幣圈資產的規模越大，你就越會發現自己管理資產有多麼讓人心神不寧，你就越能感受到所謂的「去中心化」，指的不只有權力的去中心化，同時還有責任的去中心化。能夠替你自己資產負全責的人，或許只有你自己。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以，我不認為每個人都適合使用冷錢包來管理資產，尤其是資安觀念薄弱的人，讓他們自己操作冷錢包，可能還不如放在經過驗證的國內中心化交易所並打開雙因子驗證來得安全。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"先想想為什麼要買冷錢包"},"children":[{"type":"text","value":"先想想：為什麼要買冷錢包？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"每個人當初選擇將資產放到 FTX 交易所的原因不盡相同，但不論原因為何，在 FTX 事件中損失卻又難以追回資產的人，我認為其面臨的風險其實不是中心化或去中心化的差異，而是機構是否受到監管。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果只是擔心錢放在總部不知道在哪裡的國際交易所，哪一天爆炸了之後錢拿不回來。那麼或許把資產轉移回國內合法合規的交易所放著，會比直接使用冷錢包來得方便。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若是覺得「不行，我就是想完全掌管我自己的幣！」，那麼冷錢包才會是你該考慮的選擇。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"總之，並不是所有人都適合立刻轉移到使用冷錢包的階段。就像幣安學院文章"},{"type":"element","tag":"a","props":{"href":"https://academy.binance.com/zt/articles/how-to-secure-your-cryptocurrency","rel":["nofollow"]},"children":[{"type":"text","value":"《如何保護您的加密貨幣》"}]},{"type":"text","value":"中所說："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"很可惜，沒有一個方法是最安全的，否則就不會有這篇長篇大論的文章。答案很大程度取決於您的風險狀況以及您如何使用加密貨幣。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也許你是 HODL 或是定期定額投入者，一個月甚至一季交易不到一次，可以在發薪日的晚上，無視市場漲跌幅、幣圈資訊悠哉地操作，那麼就真的很適合使用冷錢包。又或者你跟我一樣，對於 DeFi 有更大的興趣，因為要與 DeFi 互動不得不自行掌管幣，那麼購入冷錢包就變成提昇安全性的少數選擇。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但如果是須要隨身攜帶、把握市場瞬間動向的高頻率交易者呢？手機帶在身上都會不見了，何況是冷錢包？真的能接受在捷運上直接拿冷錢包出來交易嗎？我想這些都是購入冷錢包之前要考慮的部份。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我們生活中遍布著「中心化」的服務，電子信箱、雲端空間、影音串流……等等，長久以來，我想很多人都沒意識到管理這些服務的環節中，藏著無數個領域的專業。喊「去中心化」容易，真正體驗到自己管理有多困難的時候，又完全是另一回事了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"FTX 事件是個災難，然而直面此災難時，更要保持頭腦清醒，認真釐清自己想要分散的風險是什麼、想要避免的災害是什麼，想清楚了才能做出正確的決定。否則，因為使用了冷錢包卻忽略自行管理資產的風險，難道不是把坑越填越大而已嗎？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後，附上我覺得說得很好的"},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/channel/UC1EG67JfgUKaZ4Z_l4euycw","rel":["nofollow"]},"children":[{"type":"text","value":"腦哥 Chill 塊鏈"}]},{"type":"text","value":"影片，給大家參考。希望有受到影響的大家都能從這次災難中恢復過來，也都能好好的。"}]},{"type":"element","tag":"embed-youtube","props":{"id":"U_7JNU63mSs"},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"冷錢包的作用","depth":2,"text":"冷錢包的作用","children":[{"id":"什麼是區塊鍊上的錢包","depth":3,"text":"什麼是（區塊鍊上的）錢包？"},{"id":"軟體錢包熱錢包","depth":3,"text":"軟體錢包（熱錢包）"},{"id":"硬體錢包","depth":3,"text":"硬體錢包"},{"id":"私鑰安全了那中介軟體呢","depth":3,"text":"私鑰安全了，那中介軟體呢？"}]},{"id":"隱藏的成本","depth":2,"text":"隱藏的成本","children":[{"id":"成本一你需要獨立的裝置來操作中介軟體","depth":3,"text":"成本一：你需要獨立的裝置來操作中介軟體"},{"id":"成本二你需要單獨儲存私鑰的錢包","depth":3,"text":"成本二：你需要單獨儲存私鑰的「錢包」"},{"id":"成本-由你來決定","depth":3,"text":"成本 ∞：由你來決定"}]},{"id":"先想想為什麼要買冷錢包","depth":2,"text":"先想想：為什麼要買冷錢包？"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:crypto_after_ftx.md","_source":"content","_file":"articles/2023/crypto_after_ftx.md","_extension":"md","createdAt":"2023-10-26T09:40:37.000Z","updatedAt":"2023-10-26T09:40:37.000Z","slug":"crypto_after_ftx","plainTexts":["自","FTX 宣告破產","後，對中心化交易所的絕望在幣圈掀起一波「自己保管資產」的浪潮，","往後一周，人們搜尋「冷錢包」（hardware wallet）的熱度達到了當年度的最高峰","。而那幾天，也是我第一次從身邊一些幣圈散戶朋友的口中聽到「冷錢包」三個字。","我們常說的冷錢包，大多是指硬體錢包（hardware wallet），但其實抄了私鑰的紙在定義上也可以算是冷錢包。","避免岐義及簡化寫作，以下提到的冷錢包皆是指稱硬體錢包。","製作冷錢包的公司可說是百花齊放，每個公司的廣告都主打便於攜帶，讓這些冷錢包看起來像是隨身的、易於使用的裝置，是可以輕而易舉就融入生活中的配備。","然而，使用冷錢包的這段時間以來，我認為其隱藏成本比想像中多很多，絕對不是帳面上拿去購買冷錢包的幾千塊台幣而已。適逢幣圈重大變故，便寫下這篇文章，來分享我使用冷錢包時額外注意的細節以及心得，給大家作個參考，也算是個紀錄。","冷錢包的作用","什麼是（區塊鍊上的）錢包？","相對於現實世界真的能夠放錢進去的錢包，幣圈所說的「錢包」在概念上有所差異。幣圈中的「幣」是儲存於區塊鏈上，能夠操作幣的人，就是掌管私鑰（類似密碼）的人，","幣圈所說的「錢包」指的便是能夠儲存私鑰的工具","。","比如說，把代表私鑰的 12 或 24 個單字抄在紙上時，這張紙便是你的「紙錢包」。當你將你的私鑰背在腦中時，你的腦便是你的「生物錢包」。","軟體錢包（熱錢包）","然而，僅是儲存私鑰是不夠的，我們還需要能夠與區塊鏈互動的工具，幫我們透過私鑰來簽署、產生與傳送交易資訊到區塊鏈，於是大家都會使用能夠同時儲存私鑰也能與區塊鏈互動的軟體錢包。像是隨著比特幣網路一同誕生的","Bitcoin Core","，就是這樣的軟體錢包，這種","會與網路（指的是我們平常使用的網路）連線的軟體錢包也被稱為熱錢包","。","硬體錢包","能夠直接安裝在電腦或手機的熱錢包雖然方便，卻也危險。只要電腦或手機被駭客透過網路入侵，很容易連私鑰也一起失去保護而被盜走，駭客便能奪取你所有的鏈上資產。","後來 Trezor 團隊將功能切割，將發送交易資訊至鏈上的功能留在軟體界面中，","把儲存私鑰、透過私鑰產生交易資訊的能力獨立出去，並斷絕網路連結，誕生了硬體錢包——也就是大家常說的冷錢包","。","關於世界上第一個硬體錢包的誕生，可參考","《7 Years of Hardware Wallets: The Success Story of Czech Crypto Enthusiasts Creating a Brand New Industry》","。","在 Trezor 之後，各家公司開始用不同的方式實現冷錢包的概念。像是與","Trezor","相同以 USB 連結電腦的","Ledger","，以藍芽連結的","CoolWallet","，或是使用相機掃描 QRCode 來傳送資訊的","Safepal","、","Keystone","……等等。","私鑰安全了，那中介軟體呢？","綜上所述，在目前的架構下，我們所購買的冷錢包仍需要一個中介軟體來跟區塊鏈互動，而這個中介軟體勢必是要安裝在電腦或手機上，那麼問題來了，難道安裝中介軟體的電腦或手機被駭客入侵的話，不會影響交易嗎？當然會！","2020 年時就發生了一起針對性的攻擊事件","，被害者使用的是冷錢包，然而駭客駭入他安裝了 Metamask 並配合硬體錢包使用的電腦，誘導他把資產傳到了駭客的地址中。","在這起事件中，冷錢包發揮了完整的功能，它保護了私鑰沒有被竊取、也成功執行並發送交易。然而，慘劇仍然發生。","隱藏的成本","成本一：你需要獨立的裝置來操作中介軟體","既然私鑰要獨立出去，為了安全性，其實作為區塊鍊與硬體錢包中介的軟體也必須獨立。","因此購入冷錢包後，我拿了家中一台閒置筆電，重灌了 Fedora（一種 Linux 發佈板）系統，讓這台電腦只專門用來在 DeFi 上操作。而且在每次開機後先作一次系統更新，才能與冷錢包互動，互動完即關機。","這些準備就是為了防止我日常生活中的任何行為，例如聽音樂、逛網路、看謎片，不小心替駭客開了後門，讓駭客有機會侵入我的電腦修改我的中介軟體。","但我是剛好有閒置而且年代不算舊的筆電可以用，省去了硬體的費用。若沒有的人，額外添置筆電、電腦或是手機的金額，想必是不亞於目前市面上主流的冷錢包。","當然也是可以不添購啦，只是你對自己日常生活的電腦使用習慣，又有幾分信心呢？","成本二：你需要單獨儲存私鑰的「錢包」","接著，我們來設想一個故事情節：","你熬夜工作，在工作完成、太陽也探出頭來的那刻，你打開","CoinMarketCap","發現自己買的 ABC 幣突然漲了 200%，你認為這已經達到你的止盈標準，打算將 ABC 幣兌換成穩定幣，於是急於打開冷錢包。然而不幸的是，你熬夜後的頹靡影響到你的肌肉控制，手一滑，冷錢包摔在地上成為了碎片。更不幸的是，你沒有額外儲存你的私鑰，你努力回想你的 12/24 個單字，然而終究想不起來。","呀～想到就覺得毛骨悚然。","沒錯，除了冷錢包，你應該還要有另外一個安全且可靠、專門拿來儲存私鑰的「錢包」以額外備份你的私鑰。畢竟冷錢包就是一個肉眼可見的實物，更何況還是精密的電子裝置，毀壞的可能性所在多有，若你的私鑰僅透過冷錢包儲存，豈不是風險太大嗎？","關於這部份，有些人會選擇將私鑰直接抄在紙上，然而紙的強韌程度大家都心裡有數，只要遇到什麼火、水或甚至有白蟻、衣魚什麼的，那張紙就會被破壞。所以大部分的冷錢包公司，都會推出一種不鏽鋼板，來讓大家可以額外備份私鑰，大概長這樣：","然而這種不鏽鋼板的錢，通常也都要千元以上，有些甚至是等同於冷錢包的價格。","絕對不要把私鑰放在什麼 Google Keep 啊、Dropbox 這種雲端空間！","成本 ∞：由你來決定","有的人可能會舉一反三說：就算我用了獨立電腦來安裝中介軟體，有沒有在操作中被駭的可能？當然有。我買了不鏽鋼板，但不鏽鋼板可能被偷啊？當然可能。那是不是還要再買個保險箱，把冷錢包、筆電、不鏽鋼板都放進去？可能要。那保險箱密碼要怎麼記……諸如此類，要是你剛好是很容易擔心的人，這條「安全的冷錢包」之路，可能會無窮無盡地延伸下去。","畢竟從冷錢包發出交易資訊，最終到區塊鏈的這個過程中，有太多可以「準備」的空間了，當你持有幣圈資產的規模越大，你就越會發現自己管理資產有多麼讓人心神不寧，你就越能感受到所謂的「去中心化」，指的不只有權力的去中心化，同時還有責任的去中心化。能夠替你自己資產負全責的人，或許只有你自己。","所以，我不認為每個人都適合使用冷錢包來管理資產，尤其是資安觀念薄弱的人，讓他們自己操作冷錢包，可能還不如放在經過驗證的國內中心化交易所並打開雙因子驗證來得安全。","先想想：為什麼要買冷錢包？","每個人當初選擇將資產放到 FTX 交易所的原因不盡相同，但不論原因為何，在 FTX 事件中損失卻又難以追回資產的人，我認為其面臨的風險其實不是中心化或去中心化的差異，而是機構是否受到監管。","如果只是擔心錢放在總部不知道在哪裡的國際交易所，哪一天爆炸了之後錢拿不回來。那麼或許把資產轉移回國內合法合規的交易所放著，會比直接使用冷錢包來得方便。","若是覺得「不行，我就是想完全掌管我自己的幣！」，那麼冷錢包才會是你該考慮的選擇。","總之，並不是所有人都適合立刻轉移到使用冷錢包的階段。就像幣安學院文章","《如何保護您的加密貨幣》","中所說：","很可惜，沒有一個方法是最安全的，否則就不會有這篇長篇大論的文章。答案很大程度取決於您的風險狀況以及您如何使用加密貨幣。","也許你是 HODL 或是定期定額投入者，一個月甚至一季交易不到一次，可以在發薪日的晚上，無視市場漲跌幅、幣圈資訊悠哉地操作，那麼就真的很適合使用冷錢包。又或者你跟我一樣，對於 DeFi 有更大的興趣，因為要與 DeFi 互動不得不自行掌管幣，那麼購入冷錢包就變成提昇安全性的少數選擇。","但如果是須要隨身攜帶、把握市場瞬間動向的高頻率交易者呢？手機帶在身上都會不見了，何況是冷錢包？真的能接受在捷運上直接拿冷錢包出來交易嗎？我想這些都是購入冷錢包之前要考慮的部份。","後記","我們生活中遍布著「中心化」的服務，電子信箱、雲端空間、影音串流……等等，長久以來，我想很多人都沒意識到管理這些服務的環節中，藏著無數個領域的專業。喊「去中心化」容易，真正體驗到自己管理有多困難的時候，又完全是另一回事了。","FTX 事件是個災難，然而直面此災難時，更要保持頭腦清醒，認真釐清自己想要分散的風險是什麼、想要避免的災害是什麼，想清楚了才能做出正確的決定。否則，因為使用了冷錢包卻忽略自行管理資產的風險，難道不是把坑越填越大而已嗎？","最後，附上我覺得說得很好的","腦哥 Chill 塊鏈","影片，給大家參考。希望有受到影響的大家都能從這次災難中恢復過來，也都能好好的。"]},{"_path":"/articles/2023/crypto_liquidity_mining_v2","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"流動性挖礦v2心得記錄","description":"在幣圈跌撞這兩年，知道自己不是一個好的交易員，無法判斷買賣點更不會看線圖，也不想隨時都要盯著幣圈資訊，但對於 DeFi 蓬勃的生態與創新的概念感到很有興趣，最後選擇了有存幣色彩的流動性挖礦。","img":"923/58C075.jpg","tags":["DeFi","投資","流動性挖礦","加密貨幣"],"category":"life","readingTime":{"text":"15 min read","minutes":14.61,"time":876600,"words":2922},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在幣圈跌撞這兩年，知道自己不是一個好的交易員，無法判斷買賣點更不會看線圖，也不想隨時都要盯著幣圈資訊，但對於 DeFi 蓬勃的生態與創新的概念感到很有興趣，最後選擇了有存幣色彩的流動性挖礦。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當然一定要先聲明的就是，本篇文章僅是個人心得分享，不構成任何投資建議，投資有賺有賠，請詳閱公開白皮書（？）。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在幣圈跌撞這兩年，知道自己不是一個好的交易員，無法判斷買賣點更不會看線圖，也不想隨時都要盯著幣圈資訊，但對於 DeFi 蓬勃的生態與創新的概念感到很有興趣，最後選擇了有存幣色彩的流動性挖礦。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當然一定要先聲明的就是，本篇文章僅是個人心得分享，不構成任何投資建議，投資有賺有賠，請詳閱公開白皮書（？）。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"此篇文章是從原本使用的部落格平台轉移過來，目前在"},{"type":"element","tag":"a","props":{"href":"https://support.uniswap.org/hc/en-us/articles/14569783029645-Uniswap-v3-Licensing-","rel":["nofollow"]},"children":[{"type":"text","value":"Uniswap v3 原始碼許可證過期"}]},{"type":"text","value":"後，許多龍頭交易所已紛紛分叉 Uniswap v3 的原始碼並將流動性挖礦功能升級到 v3，大部分的 v2 流動性礦池已無利益可言，此篇文章僅為當時投入 v2 時的一份紀錄。"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"去中心化交易所鏈上生態的地基"},"children":[{"type":"text","value":"去中心化交易所：鏈上生態的地基"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"要說流動性挖礦之前，就得先介紹去中心化交易所與自動做市商。關於這兩個概念，大家可直接參考幣安學院的文章，相信會比我自己說明來的清楚許多："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://academy.binance.com/zt/articles/what-is-a-decentralized-exchange-dex","rel":["nofollow"]},"children":[{"type":"text","value":"什麼是去中心化交易所 (DEX)？"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://academy.binance.com/zt/articles/what-is-an-automated-market-maker-amm","rel":["nofollow"]},"children":[{"type":"text","value":"什麼是自動化做市商（Automated Market Maker, AMM）？"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"目前去中心化交易所大多採用不需要訂單簿配對的自動做市商模型，讓使用者能在鏈上快速將各種幣互相交換，每條鏈幾乎都會有至少一間去中心化交易所，像是 BNB Chain 上的 "},{"type":"element","tag":"a","props":{"href":"https://pancakeswap.finance/","rel":["nofollow"]},"children":[{"type":"text","value":"Pancakeswap"}]},{"type":"text","value":"、Cosmos 上的 "},{"type":"element","tag":"a","props":{"href":"https://app.osmosis.zone/","rel":["nofollow"]},"children":[{"type":"text","value":"Osmosis"}]},{"type":"text","value":"、Ethereum 的 "},{"type":"element","tag":"a","props":{"href":"https://app.uniswap.org/#/swap","rel":["nofollow"]},"children":[{"type":"text","value":"Uniswap"}]},{"type":"text","value":"……等等。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這些龍頭等級的去中心化交易所，可說是其鏈上生態的根基。看看上面幣安文章中所說的就能略見一二："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自動化做市商是 DeFi 領域的重要組成部分。基本上能允許任何人無縫及高效地創建市場。儘管它與訂單簿交易所相比仍有其局限性，但它們卻為加密貨幣技術帶來重大的創新。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"換句話說，鏈上的其他專案只要透過這些去中心化交易所建立資金池，或是透過各種方式（例如額外發幣）來鼓勵大家在去中心化交易所上提供資金（通常會是「專案幣 ←→ 鏈原生幣」或是「專案幣 ←→ 交易所幣」的形式），便能快速增加專案幣的流通性，而不用通過中心化交易所的層層審核才能建立市場，這對剛起步的專案來說至關緊要。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.mobox.io/home/#/iframe/momo","rel":["nofollow"]},"children":[{"type":"text","value":"BNB Chain 上的 MOBOX，便以發幣的方式來鼓勵大家投入 MBOX - BNB 資金池。"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"流動性挖礦"},"children":[{"type":"text","value":"流動性挖礦"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"初步認識了去中心化交易所與自動做市商之後，就會比較容易理解流動性挖礦。簡單來說，就是你"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"提供幣（資金）給去中心化交易所，支援自動做市商模型的交易行為（類似銀行換匯）並從中賺取收手續費分潤"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於流動性，可參考幣安學院文章\n"},{"type":"element","tag":"a","props":{"href":"https://academy.binance.com/zt/articles/liquidity-explained","rel":["nofollow"]},"children":[{"type":"text","value":"《關於流動性的解釋》"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於自動做市商模型的運作，提供幣本身就等於是提供流動性，資金池中幣的數量越多、流動性便越高。而去中心化交易所從每次資金池中的交易行為抽取手續費之後，會照你提供的資金比例分給你手續費分潤來感謝你提供資金，這種每次交易都得到微量報酬的感覺跟 PoW 鏈上幫助確認交易的挖礦行為很像，所以才稱為流動性挖礦。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n若想更深入了解流動性挖礦，可參考幣安學院文章\n"},{"type":"element","tag":"a","props":{"href":"https://academy.binance.me/zt/articles/what-is-yield-farming-in-decentralized-finance-defi","rel":["nofollow"]},"children":[{"type":"text","value":"《去中心化金融（DeFi）中的流動性挖礦到底是什麼？》"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"h3","props":{"id":"交易所額外發幣"},"children":[{"type":"text","value":"交易所額外發幣"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"為了鼓勵大家提供流動性，除了交易時的手續費分潤之外，交易所本身通常會額外發自己的幣給提供資金的人，大家在各家交易所看到的年化報酬率，有一部分可能就是透過交易所額外發幣達成的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然這對流動性提供者來說是額外獎勵，但要注意有的流動性池交易量低，獎勵結構會幾乎來自發幣，在挑選流動性幣對之前，也要考慮這方面的曝險。以 Pancakeswap 的「CAKE←→USDT」池為例，有 4 成的報酬率其實來自於交易所幣的配發。"}]},{"type":"element","tag":"article-img","props":{"img":"922/GysbnC.png"},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"流動性挖礦的風險"},"children":[{"type":"text","value":"流動性挖礦的風險"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不管什麼投資方式都一定會有其對應的風險，以下講我自己觀察到的風險。"}]},{"type":"element","tag":"h3","props":{"id":"持有幣的風險"},"children":[{"type":"text","value":"持有幣的風險"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於提供資金等於是持有資金池中的幣種，那麼首要承擔的當然是幣本身的風險，像是專案跑路、漲跌、幣本身的合約問題……等等。建議在進行流動性挖礦選擇幣池時以大幣為主，或是選擇自己了解且想長期持有的幣種。"}]},{"type":"element","tag":"h3","props":{"id":"去中心化交易所本身的專案風險"},"children":[{"type":"text","value":"去中心化交易所本身的專案風險"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為去中心化交易所本身就是一個鏈上專案，專案本身的風險當然也是風險，像是專案跑路、合約程式有問題……等等。建議選擇知名、規模大、經營時間長的交易所，這些交易所的資本通常也較雄厚，若發生意外也比較能補償使用者。"}]},{"type":"element","tag":"h3","props":{"id":"無常損失"},"children":[{"type":"text","value":"無常損失"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"無常損失是提到流動性挖礦時最常被提及的風險，概念上比較難理解，總之就是：你領出幣的時候，兩個幣種的價格比如果跟你存的時候不同，那你領出幣的總價值其實會比你當時只是單純持有到現在來得少。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於無常損失，可參考幣安學院文章\n"},{"type":"element","tag":"a","props":{"href":"https://academy.binance.me/zt/articles/impermanent-loss-explained","rel":["nofollow"]},"children":[{"type":"text","value":"《什麼是無常損失》"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以網路上常見的無常損失計算機（採用 Uniswap 模型）舉例："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若存入時幣值比是 1 : 3，領出時是 1.5 : 6，其中一個幣值漲了 100%而另外一個只漲 50%，無常損失其實只有-1.03%，也就是會比你單純持有幣少賺-1.03%。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若漲跌相反，其中一個幣值跌了 100%而另外一個只跌 50%，無常損失仍然會是-1.03%，也就是會比你單純持有幣多虧-1.03%。"}]}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n網路上有很多\n"},{"type":"element","tag":"a","props":{"href":"https://whiteboardcrypto.com/impermanent-loss-calculator/#","rel":["nofollow"]},"children":[{"type":"text","value":"無常損失計算機"}]},{"type":"text","value":"\n，大家有興趣可以按按看。\n"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這裡有幾個關鍵："}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"無常損失是"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"相對於你如果當時只是單純持有幣而言的損失"}]},{"type":"text","value":"，是因為自動做市商模型本身造成的額外損失。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"只有從資金池提出幣時，無常損失才有機會實現。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"只要價格比有差距，不論整體是漲是跌，都會有無常損失。"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"考慮到沒有人可以準確地讓存入與領出兩個時間點的幣值比完全一樣，所以只要有領出的行為，無常損失幾乎都會實現，但幣值漲跌差與無常損失的比例換算下來其實不大。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除非遇到其中一個幣種狂漲另一種狂跌的狀況導致漲跌差過大，才有可能會讓無常損失實現起來很痛，大部分的流動性挖礦透過手續費分潤及交易所發幣後填平無常損失後，還是有賺。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"自己執行的流動性挖礦策略"},"children":[{"type":"text","value":"自己執行的流動性挖礦策略"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"要說策略其實也算不上，其實就是求一個放了之後不用花太多心力去注意的懶人風格。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"剛開始做過逐水草而居只看報酬率不論幣種之類的行為，但覺得心臟真的要很大顆，畢竟報酬率高的幾乎都是市值很小的小幣，風險自然也跟著高；也做過每天收成交易所幣後立刻換成穩定幣追求現金流的行為，但後來發現手續費算下來其實所費不眥。"}]},{"type":"element","tag":"h3","props":{"id":"優先選擇鏈原生幣交易所幣穩定幣組合的幣池"},"children":[{"type":"text","value":"優先選擇鏈原生幣、交易所幣、穩定幣組合的幣池"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前面說過，由於鏈上的龍頭去中心化交易所——很小的那種免洗交易所不算——幾乎是鏈生態的根基，交易所中的流動性池幾乎都圍繞著鏈原生幣及交易所幣去變化組合，在 Pancakeswap 的例子中來說就是 BNB 與 CAKE。這樣做的好處是不同小幣之間若要直接兌換，交易所只要先換成這兩種幣就能輕易達成，而不用額外需要一個小幣之間的池。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而穩定幣可說是傳統金融世界連結區塊鏈次元的蟲洞，是以去中心化交易所通常都會提供「鏈原生幣、交易所幣、穩定幣」三取二的組合池，這些池的資金量通常也相對較高、報酬也不會太低（那種 APY 動輒數百數千數萬%的小幣池不在討論範圍）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"考慮到風險與報酬的平衡，自己覺得優先選擇這些組合是更好的。"}]},{"type":"element","tag":"h3","props":{"id":"搭配自動複投協議"},"children":[{"type":"text","value":"搭配自動複投協議"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"交易所額外配發的幣通常都需要自己手動收割，但搭配複投協議自動複投交易所額外配發的幣，不僅能夠最大化複利效益，也非常省事。並且由於持續在不同的時間點複投，也有平均鏈原生幣價格的效果。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當然多了一層的操作，就必須多承擔一層的專案風險，所以還是盡量選擇可信的協議比較好。"}]},{"type":"element","tag":"h3","props":{"id":"我選擇了鏈原生幣-穩定幣幣池"},"children":[{"type":"text","value":"我選擇了「鏈原生幣 ←→ 穩定幣」幣池"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於穩定幣的漲跌相對小很多，因此選擇投入這種幣池幾乎是注定會有無常損失，之所以還是選擇這個幣池的原因有幾個："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"剛開始就先將資金拆成一半穩定幣，可以抵抗未來波動。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"複投時等於自動將收成的一部分即時換成穩定幣儲存起來，較能平衡交易所幣價格波動造成的收益波動。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然比較能抵抗波動，但到了牛市時，資金成長的幅度會不如選擇非穩定幣組合的幣池來得高，但這本來就是有不同的考量就是了。總而言之，就是我比較保守啦。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為自己是 BNB Chain（前身為幣安鏈與幣安智能鏈）的使用者，上面主要都用 BNB Chain 的專案舉例，但我相信 DeFi 在不同鏈的概念應該都差不多。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"幣圈的投資方法非常多種，不管性格是狂野還是保守，大概都能找到適合自己的定位，不像是外界所想像的那種一定都是非常大起大落、暴富暴貧的類型（當然整體而言還是要隨著幣圈上上下下啦）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自己覺得流動性挖礦在其中就算是保守的作法（也是少數讓我能安穩睡覺的作法），持有幣的同時賺取一些收益，本質還是投資幣本身。甚至要極端保守的話，用穩定幣對（例如 USDT-USDC、BUSD-USDT、DAI-USDT……）去做流動性挖礦，基本上就跟美金存款差不多了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"衷心希望未來 DeFi 能夠與現實社會整合，形成新的金融世界，並給人類文明帶來更好的改變。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"去中心化交易所鏈上生態的地基","depth":2,"text":"去中心化交易所：鏈上生態的地基"},{"id":"流動性挖礦","depth":2,"text":"流動性挖礦","children":[{"id":"交易所額外發幣","depth":3,"text":"交易所額外發幣"}]},{"id":"流動性挖礦的風險","depth":2,"text":"流動性挖礦的風險","children":[{"id":"持有幣的風險","depth":3,"text":"持有幣的風險"},{"id":"去中心化交易所本身的專案風險","depth":3,"text":"去中心化交易所本身的專案風險"},{"id":"無常損失","depth":3,"text":"無常損失"}]},{"id":"自己執行的流動性挖礦策略","depth":2,"text":"自己執行的流動性挖礦策略","children":[{"id":"優先選擇鏈原生幣交易所幣穩定幣組合的幣池","depth":3,"text":"優先選擇鏈原生幣、交易所幣、穩定幣組合的幣池"},{"id":"搭配自動複投協議","depth":3,"text":"搭配自動複投協議"},{"id":"我選擇了鏈原生幣-穩定幣幣池","depth":3,"text":"我選擇了「鏈原生幣 ←→ 穩定幣」幣池"}]},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:crypto_liquidity_mining_v2.md","_source":"content","_file":"articles/2023/crypto_liquidity_mining_v2.md","_extension":"md","createdAt":"2023-10-25T09:56:52.000Z","updatedAt":"2024-01-24T07:26:04.000Z","slug":"crypto_liquidity_mining_v2","plainTexts":["在幣圈跌撞這兩年，知道自己不是一個好的交易員，無法判斷買賣點更不會看線圖，也不想隨時都要盯著幣圈資訊，但對於 DeFi 蓬勃的生態與創新的概念感到很有興趣，最後選擇了有存幣色彩的流動性挖礦。","當然一定要先聲明的就是，本篇文章僅是個人心得分享，不構成任何投資建議，投資有賺有賠，請詳閱公開白皮書（？）。","此篇文章是從原本使用的部落格平台轉移過來，目前在","Uniswap v3 原始碼許可證過期","後，許多龍頭交易所已紛紛分叉 Uniswap v3 的原始碼並將流動性挖礦功能升級到 v3，大部分的 v2 流動性礦池已無利益可言，此篇文章僅為當時投入 v2 時的一份紀錄。","去中心化交易所：鏈上生態的地基","要說流動性挖礦之前，就得先介紹去中心化交易所與自動做市商。關於這兩個概念，大家可直接參考幣安學院的文章，相信會比我自己說明來的清楚許多：","什麼是去中心化交易所 (DEX)？","什麼是自動化做市商（Automated Market Maker, AMM）？","目前去中心化交易所大多採用不需要訂單簿配對的自動做市商模型，讓使用者能在鏈上快速將各種幣互相交換，每條鏈幾乎都會有至少一間去中心化交易所，像是 BNB Chain 上的","Pancakeswap","、Cosmos 上的","Osmosis","、Ethereum 的","Uniswap","……等等。","這些龍頭等級的去中心化交易所，可說是其鏈上生態的根基。看看上面幣安文章中所說的就能略見一二：","自動化做市商是 DeFi 領域的重要組成部分。基本上能允許任何人無縫及高效地創建市場。儘管它與訂單簿交易所相比仍有其局限性，但它們卻為加密貨幣技術帶來重大的創新。","換句話說，鏈上的其他專案只要透過這些去中心化交易所建立資金池，或是透過各種方式（例如額外發幣）來鼓勵大家在去中心化交易所上提供資金（通常會是「專案幣 ←→ 鏈原生幣」或是「專案幣 ←→ 交易所幣」的形式），便能快速增加專案幣的流通性，而不用通過中心化交易所的層層審核才能建立市場，這對剛起步的專案來說至關緊要。","BNB Chain 上的 MOBOX，便以發幣的方式來鼓勵大家投入 MBOX - BNB 資金池。","流動性挖礦","初步認識了去中心化交易所與自動做市商之後，就會比較容易理解流動性挖礦。簡單來說，就是你","提供幣（資金）給去中心化交易所，支援自動做市商模型的交易行為（類似銀行換匯）並從中賺取收手續費分潤","。","關於流動性，可參考幣安學院文章","《關於流動性的解釋》","。","由於自動做市商模型的運作，提供幣本身就等於是提供流動性，資金池中幣的數量越多、流動性便越高。而去中心化交易所從每次資金池中的交易行為抽取手續費之後，會照你提供的資金比例分給你手續費分潤來感謝你提供資金，這種每次交易都得到微量報酬的感覺跟 PoW 鏈上幫助確認交易的挖礦行為很像，所以才稱為流動性挖礦。","若想更深入了解流動性挖礦，可參考幣安學院文章","《去中心化金融（DeFi）中的流動性挖礦到底是什麼？》","。","交易所額外發幣","為了鼓勵大家提供流動性，除了交易時的手續費分潤之外，交易所本身通常會額外發自己的幣給提供資金的人，大家在各家交易所看到的年化報酬率，有一部分可能就是透過交易所額外發幣達成的。","雖然這對流動性提供者來說是額外獎勵，但要注意有的流動性池交易量低，獎勵結構會幾乎來自發幣，在挑選流動性幣對之前，也要考慮這方面的曝險。以 Pancakeswap 的「CAKE←→USDT」池為例，有 4 成的報酬率其實來自於交易所幣的配發。","流動性挖礦的風險","不管什麼投資方式都一定會有其對應的風險，以下講我自己觀察到的風險。","持有幣的風險","由於提供資金等於是持有資金池中的幣種，那麼首要承擔的當然是幣本身的風險，像是專案跑路、漲跌、幣本身的合約問題……等等。建議在進行流動性挖礦選擇幣池時以大幣為主，或是選擇自己了解且想長期持有的幣種。","去中心化交易所本身的專案風險","因為去中心化交易所本身就是一個鏈上專案，專案本身的風險當然也是風險，像是專案跑路、合約程式有問題……等等。建議選擇知名、規模大、經營時間長的交易所，這些交易所的資本通常也較雄厚，若發生意外也比較能補償使用者。","無常損失","無常損失是提到流動性挖礦時最常被提及的風險，概念上比較難理解，總之就是：你領出幣的時候，兩個幣種的價格比如果跟你存的時候不同，那你領出幣的總價值其實會比你當時只是單純持有到現在來得少。","關於無常損失，可參考幣安學院文章","《什麼是無常損失》","。","以網路上常見的無常損失計算機（採用 Uniswap 模型）舉例：","若存入時幣值比是 1 : 3，領出時是 1.5 : 6，其中一個幣值漲了 100%而另外一個只漲 50%，無常損失其實只有-1.03%，也就是會比你單純持有幣少賺-1.03%。","若漲跌相反，其中一個幣值跌了 100%而另外一個只跌 50%，無常損失仍然會是-1.03%，也就是會比你單純持有幣多虧-1.03%。","網路上有很多","無常損失計算機","，大家有興趣可以按按看。","這裡有幾個關鍵：","無常損失是","相對於你如果當時只是單純持有幣而言的損失","，是因為自動做市商模型本身造成的額外損失。","只有從資金池提出幣時，無常損失才有機會實現。","只要價格比有差距，不論整體是漲是跌，都會有無常損失。","考慮到沒有人可以準確地讓存入與領出兩個時間點的幣值比完全一樣，所以只要有領出的行為，無常損失幾乎都會實現，但幣值漲跌差與無常損失的比例換算下來其實不大。","除非遇到其中一個幣種狂漲另一種狂跌的狀況導致漲跌差過大，才有可能會讓無常損失實現起來很痛，大部分的流動性挖礦透過手續費分潤及交易所發幣後填平無常損失後，還是有賺。","自己執行的流動性挖礦策略","要說策略其實也算不上，其實就是求一個放了之後不用花太多心力去注意的懶人風格。","剛開始做過逐水草而居只看報酬率不論幣種之類的行為，但覺得心臟真的要很大顆，畢竟報酬率高的幾乎都是市值很小的小幣，風險自然也跟著高；也做過每天收成交易所幣後立刻換成穩定幣追求現金流的行為，但後來發現手續費算下來其實所費不眥。","優先選擇鏈原生幣、交易所幣、穩定幣組合的幣池","前面說過，由於鏈上的龍頭去中心化交易所——很小的那種免洗交易所不算——幾乎是鏈生態的根基，交易所中的流動性池幾乎都圍繞著鏈原生幣及交易所幣去變化組合，在 Pancakeswap 的例子中來說就是 BNB 與 CAKE。這樣做的好處是不同小幣之間若要直接兌換，交易所只要先換成這兩種幣就能輕易達成，而不用額外需要一個小幣之間的池。","而穩定幣可說是傳統金融世界連結區塊鏈次元的蟲洞，是以去中心化交易所通常都會提供「鏈原生幣、交易所幣、穩定幣」三取二的組合池，這些池的資金量通常也相對較高、報酬也不會太低（那種 APY 動輒數百數千數萬%的小幣池不在討論範圍）。","考慮到風險與報酬的平衡，自己覺得優先選擇這些組合是更好的。","搭配自動複投協議","交易所額外配發的幣通常都需要自己手動收割，但搭配複投協議自動複投交易所額外配發的幣，不僅能夠最大化複利效益，也非常省事。並且由於持續在不同的時間點複投，也有平均鏈原生幣價格的效果。","當然多了一層的操作，就必須多承擔一層的專案風險，所以還是盡量選擇可信的協議比較好。","我選擇了「鏈原生幣 ←→ 穩定幣」幣池","由於穩定幣的漲跌相對小很多，因此選擇投入這種幣池幾乎是注定會有無常損失，之所以還是選擇這個幣池的原因有幾個：","剛開始就先將資金拆成一半穩定幣，可以抵抗未來波動。","複投時等於自動將收成的一部分即時換成穩定幣儲存起來，較能平衡交易所幣價格波動造成的收益波動。","雖然比較能抵抗波動，但到了牛市時，資金成長的幅度會不如選擇非穩定幣組合的幣池來得高，但這本來就是有不同的考量就是了。總而言之，就是我比較保守啦。","後記","因為自己是 BNB Chain（前身為幣安鏈與幣安智能鏈）的使用者，上面主要都用 BNB Chain 的專案舉例，但我相信 DeFi 在不同鏈的概念應該都差不多。","幣圈的投資方法非常多種，不管性格是狂野還是保守，大概都能找到適合自己的定位，不像是外界所想像的那種一定都是非常大起大落、暴富暴貧的類型（當然整體而言還是要隨著幣圈上上下下啦）。","自己覺得流動性挖礦在其中就算是保守的作法（也是少數讓我能安穩睡覺的作法），持有幣的同時賺取一些收益，本質還是投資幣本身。甚至要極端保守的話，用穩定幣對（例如 USDT-USDC、BUSD-USDT、DAI-USDT……）去做流動性挖礦，基本上就跟美金存款差不多了。","衷心希望未來 DeFi 能夠與現實社會整合，形成新的金融世界，並給人類文明帶來更好的改變。"]},{"_path":"/articles/2023/fedora_disable_turbo_boost","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"在Fedora 38中關閉Intel Turbo Boost","description":"在 Macbook Air 2013 上 安裝 Fedora後，發現會有容易過熱的問題（溫度直上 90°C 甚至 100 °C），找到了一個解決方式是直接關閉 Intel Turbo Boost。因為過程稍微複雜一些，所以就把他紀錄下來了。","img":"922/JKLlrl.png","tags":["fedora","intel turbo boost"],"category":"linux","readingTime":{"text":"6 min read","minutes":5.15,"time":309000,"words":1030},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 "},{"type":"element","tag":"article-inner-link","props":{"slug":"macbook_air_2013_fedora"},"children":[{"type":"text","value":"Macbook Air 2013 上 安裝 Fedora"}]},{"type":"text","value":"後，發現會有容易過熱的問題（溫度直上 90°C 甚至 100 °C），找到了一個解決方式是直接關閉 Intel Turbo Boost。因為過程稍微複雜一些，所以就把他紀錄下來了。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 "},{"type":"element","tag":"article-inner-link","props":{"slug":"macbook_air_2013_fedora"},"children":[{"type":"text","value":"Macbook Air 2013 上 安裝 Fedora"}]},{"type":"text","value":"後，發現會有容易過熱的問題（溫度直上 90°C 甚至 100 °C），找到了一個解決方式是直接關閉 Intel Turbo Boost。因為過程稍微複雜一些，所以就把他紀錄下來了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"什麼是-intel-turbo-boost"},"children":[{"type":"text","value":"什麼是 Intel Turbo Boost"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"簡單說呢，就是讓處理器在沒事做的時候維持低頻率，有事做的時候變為高頻率但卻又不超過安全值。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為 CPU 頻率決定了特定時間內能夠吞吐的工作量，CPU 工作時的頻率越高，發熱量也越大，所以網路上就會出現關閉 Intel Turbo Boost 讓 CPU 不論有沒有事做都維持在基本頻率，以降低消耗電量以及發熱度的作法，雖然通常是在筆電上設定，但若想要桌機不要那麼熱情（？），也是可以設定的。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於 Intel Turbo Boost 可參考\n"},{"type":"element","tag":"a","props":{"href":"https://www.intel.com.tw/content/www/tw/zh/gaming/resources/turbo-boost.html","rel":["nofollow"]},"children":[{"type":"text","value":"官方說明"}]}]},{"type":"element","tag":"h3","props":{"id":"關閉的方式"},"children":[{"type":"text","value":"關閉的方式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在我所查到的資料裡， Fedora 38 中有兩種關閉 Intel Turbo Boost 的方式。一個是透過別人寫的 GNOME 擴充套件，一個則是直接修改設定值並把他設定成開機時自動關閉。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自己比較喜歡後者，因為前者須依靠別人更新的 GNOME 擴充套件，在迭代速度較快的 Fedora 中，常常升上新版本之後 GNOME 也會跟著升級，然後導致比較少見的擴充套件掛掉。但前者設定相對容易也不需要輸入什麼指令，大家可以自己挑自己喜歡的。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"透過-gnome-擴充套件關閉"},"children":[{"type":"text","value":"透過 GNOME 擴充套件關閉"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第一個方式就是透過"},{"type":"element","tag":"a","props":{"href":"https://extensions.gnome.org/extension/1082/cpufreq/","rel":["nofollow"]},"children":[{"type":"text","value":"cpufreq"}]},{"type":"text","value":"這個擴充套件來完成，這個套件甚至可以調整 CPU 的最低／最高頻率以及可使用的 CPU 核心數量。"}]},{"type":"element","tag":"article-img","props":{"img":"922/5do1r7.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但這個套件不在 Fedora 官方套件庫內，要從"},{"type":"element","tag":"a","props":{"href":"https://extensions.gnome.org/","rel":["nofollow"]},"children":[{"type":"text","value":"GNOMe Extensions 網站"}]},{"type":"text","value":"自行安裝。安裝後在頂端列將「Turbo Boost」這個選項關閉就可以了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"透過修改系統設定值關閉"},"children":[{"type":"text","value":"透過修改系統設定值關閉"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第二個方式就是我採用的方式了，自行修改設定值並設定為開機時自動開啟。首先建立一個 system service 檔案，可使用自己喜歡的文字編輯器："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 建立一個system service\nsudo gnome-text-editor /etc/systemd/system/disable-intel-turboboost.service\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 建立一個system service\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-text-editor"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /etc/systemd/system/disable-intel-turboboost.service\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接著貼上如下的內容："}]},{"type":"element","tag":"pre","props":{"className":"language-ini shiki shiki-themes github-dark","code":"[Unit]\nDescription=Disable Intel Turbo Boost using pstate driver\n\n[Service]\nExecStart=/bin/sh -c \"/usr/bin/echo 1 > /sys/devices/system/cpu/intel_pstate/no_turbo\"\nExecStop=/bin/sh -c \"/usr/bin/echo 0 > /sys/devices/system/cpu/intel_pstate/no_turbo\"\nRemainAfterExit=yes\n\n[Install]\nWantedBy=sysinit.target\n","filename":"disable-intel-turboboost.service","language":"ini","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"[Unit]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"Description=Disable Intel Turbo Boost using pstate driver\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"[Service]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"ExecStart=/bin/sh -c \"/usr/bin/echo 1 > /sys/devices/system/cpu/intel_pstate/no_turbo\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"ExecStop=/bin/sh -c \"/usr/bin/echo 0 > /sys/devices/system/cpu/intel_pstate/no_turbo\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"RemainAfterExit=yes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"[Install]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"WantedBy=sysinit.target\n"}]}]}]}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.fedoraproject.org/en-US/quick-docs/systemd-understanding-and-administering/#_common_service_parameters","rel":["nofollow"]},"children":[{"type":"text","value":"關於 system service 檔案的詳細說明，可參考 Fedora 官方文件。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後啟用這個我們自己寫的服務，就完成囉。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo systemctl daemon-reload\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" daemon-reload\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo systemctl enable disable-intel-turboboost\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" enable"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" disable-intel-turboboost\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo systemctl start disable-intel-turboboost\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" start"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" disable-intel-turboboost\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo systemctl status disable-intel-turboboost\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" status"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" disable-intel-turboboost\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果想要恢復使用，可以用下面兩個指令。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 永久性恢復使用Turbo Boost\nsudo systemctl disable disable-intel-turboboost\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 永久性恢復使用Turbo Boost\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" disable"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" disable-intel-turboboost\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 暫時恢復使用Turbo Boost（重開後仍停用）\nsudo systemctl stop disable-intel-turboboost\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 暫時恢復使用Turbo Boost（重開後仍停用）\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" stop"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" disable-intel-turboboost\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"檢驗"},"children":[{"type":"text","value":"檢驗"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其實也說不上是「檢驗」，就是做一些會讓電腦很忙的事情，比如說開一些很複雜的網站啊、工程師編譯一些專案啊……之類的，然後去感受一下溫度、使用可以看到溫度的 GNOME 擴充套件（例如"},{"type":"element","tag":"a","props":{"href":"https://extensions.gnome.org/extension/841/freon/","rel":["nofollow"]},"children":[{"type":"text","value":"Freon"}]},{"type":"text","value":"）或是直接看系統監控程式。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以我的"},{"type":"element","tag":"a","props":{"href":"https://www.intel.com.tw/content/www/tw/zh/products/sku/124967/intel-core-i58250u-processor-6m-cache-up-to-3-40-ghz/specifications.html","rel":["nofollow"]},"children":[{"type":"text","value":"i5-8250U"}]},{"type":"text","value":"來說，原本最高可以跑到 3.40 GHz，關掉 turbo 會直接剩 1.60 GHz，將近一半的效能損失想必是非常明顯的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若想更精確地確認，也可以使用這個指令："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"lscpu | grep \"MHz\"\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"lscpu"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" grep"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" \"MHz\"\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然後看輸出的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"CPU(s) scaling MHz"}]},{"type":"text","value":"項目，這可以解讀為 CPU 目前輸出的頻率佔最大輸出的比例，像我的就會被鎖在 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"1.6 / 3.4 ≒ 47%"}]},{"type":"text","value":"就上不去。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"CPU(s) scaling MHz: 47%\nCPU max MHz:        3400.0000\nCPU min MHz:        400.0000\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"CPU(s"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") scaling MHz: 47%\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"CPU"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" max"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" MHz:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"        3400.0000\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"CPU"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" min"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" MHz:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"        400.0000\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這種作法是用效率去交換發熱降低以及省電，若不是像我使用 2013 年的 Macbook Air 這種特殊情境或是真的比較老的裝置上，應該是都用不太到，但了解了一些事情的感覺還是不錯啦。希望這個作法可以讓那台 MBA 活久一點，環保嘛～不過物盡其用而已。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"參考文獻"},"children":[{"type":"text","value":"參考文獻"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.gadgethow2.com/2021/05/05/how-to-disable-intel-turboboost-using-systemd/","rel":["nofollow"]},"children":[{"type":"text","value":"How To: Disable Intel Turbo Boost on Linux using systemd + intel_pstate"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"什麼是-intel-turbo-boost","depth":2,"text":"什麼是 Intel Turbo Boost","children":[{"id":"關閉的方式","depth":3,"text":"關閉的方式"}]},{"id":"透過-gnome-擴充套件關閉","depth":2,"text":"透過 GNOME 擴充套件關閉"},{"id":"透過修改系統設定值關閉","depth":2,"text":"透過修改系統設定值關閉"},{"id":"檢驗","depth":2,"text":"檢驗"},{"id":"後記","depth":2,"text":"後記"},{"id":"參考文獻","depth":2,"text":"參考文獻"}]}},"_type":"markdown","_id":"content:articles:2023:fedora_disable_turbo_boost.md","_source":"content","_file":"articles/2023/fedora_disable_turbo_boost.md","_extension":"md","createdAt":"2023-10-31T00:01:43.000Z","updatedAt":"2024-02-19T10:00:23.000Z","slug":"fedora_disable_turbo_boost","plainTexts":["在","Macbook Air 2013 上 安裝 Fedora","後，發現會有容易過熱的問題（溫度直上 90°C 甚至 100 °C），找到了一個解決方式是直接關閉 Intel Turbo Boost。因為過程稍微複雜一些，所以就把他紀錄下來了。","什麼是 Intel Turbo Boost","簡單說呢，就是讓處理器在沒事做的時候維持低頻率，有事做的時候變為高頻率但卻又不超過安全值。","因為 CPU 頻率決定了特定時間內能夠吞吐的工作量，CPU 工作時的頻率越高，發熱量也越大，所以網路上就會出現關閉 Intel Turbo Boost 讓 CPU 不論有沒有事做都維持在基本頻率，以降低消耗電量以及發熱度的作法，雖然通常是在筆電上設定，但若想要桌機不要那麼熱情（？），也是可以設定的。","關於 Intel Turbo Boost 可參考","官方說明","關閉的方式","在我所查到的資料裡， Fedora 38 中有兩種關閉 Intel Turbo Boost 的方式。一個是透過別人寫的 GNOME 擴充套件，一個則是直接修改設定值並把他設定成開機時自動關閉。","自己比較喜歡後者，因為前者須依靠別人更新的 GNOME 擴充套件，在迭代速度較快的 Fedora 中，常常升上新版本之後 GNOME 也會跟著升級，然後導致比較少見的擴充套件掛掉。但前者設定相對容易也不需要輸入什麼指令，大家可以自己挑自己喜歡的。","透過 GNOME 擴充套件關閉","第一個方式就是透過","cpufreq","這個擴充套件來完成，這個套件甚至可以調整 CPU 的最低／最高頻率以及可使用的 CPU 核心數量。","但這個套件不在 Fedora 官方套件庫內，要從","GNOMe Extensions 網站","自行安裝。安裝後在頂端列將「Turbo Boost」這個選項關閉就可以了。","透過修改系統設定值關閉","第二個方式就是我採用的方式了，自行修改設定值並設定為開機時自動開啟。首先建立一個 system service 檔案，可使用自己喜歡的文字編輯器：","# 建立一個system service","sudo","gnome-text-editor","/etc/systemd/system/disable-intel-turboboost.service","接著貼上如下的內容：","[Unit]","Description=Disable Intel Turbo Boost using pstate driver","","[Service]","ExecStart=/bin/sh -c \"/usr/bin/echo 1 > /sys/devices/system/cpu/intel_pstate/no_turbo\"","ExecStop=/bin/sh -c \"/usr/bin/echo 0 > /sys/devices/system/cpu/intel_pstate/no_turbo\"","RemainAfterExit=yes","","[Install]","WantedBy=sysinit.target","關於 system service 檔案的詳細說明，可參考 Fedora 官方文件。","最後啟用這個我們自己寫的服務，就完成囉。","sudo","systemctl","daemon-reload","sudo","systemctl","enable","disable-intel-turboboost","sudo","systemctl","start","disable-intel-turboboost","sudo","systemctl","status","disable-intel-turboboost","如果想要恢復使用，可以用下面兩個指令。","# 永久性恢復使用Turbo Boost","sudo","systemctl","disable","disable-intel-turboboost","# 暫時恢復使用Turbo Boost（重開後仍停用）","sudo","systemctl","stop","disable-intel-turboboost","檢驗","其實也說不上是「檢驗」，就是做一些會讓電腦很忙的事情，比如說開一些很複雜的網站啊、工程師編譯一些專案啊……之類的，然後去感受一下溫度、使用可以看到溫度的 GNOME 擴充套件（例如","Freon","）或是直接看系統監控程式。","以我的","i5-8250U","來說，原本最高可以跑到 3.40 GHz，關掉 turbo 會直接剩 1.60 GHz，將近一半的效能損失想必是非常明顯的。","若想更精確地確認，也可以使用這個指令：","lscpu","|","grep","\"MHz\"","然後看輸出的","CPU(s) scaling MHz","項目，這可以解讀為 CPU 目前輸出的頻率佔最大輸出的比例，像我的就會被鎖在","1.6 / 3.4 ≒ 47%","就上不去。","CPU(s",") scaling MHz: 47%","CPU","max","MHz:","3400.0000","CPU","min","MHz:","400.0000","後記","這種作法是用效率去交換發熱降低以及省電，若不是像我使用 2013 年的 Macbook Air 這種特殊情境或是真的比較老的裝置上，應該是都用不太到，但了解了一些事情的感覺還是不錯啦。希望這個作法可以讓那台 MBA 活久一點，環保嘛～不過物盡其用而已。","參考文獻","How To: Disable Intel Turbo Boost on Linux using systemd + intel_pstate","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/fedora_docker_startup","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"在Fedora 38中安裝Docker","description":"本篇記錄了在 Fedora 中安裝及安裝後設定 Docker 的過程。","img":"924/lduYJH.jpg","tags":["fedora","docker"],"category":"linux","readingTime":{"text":"1 min read","minutes":0.875,"time":52500,"words":175},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本篇記錄了在 Fedora 中安裝及安裝後設定 Docker 的過程。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本篇記錄了在 Fedora 中安裝及安裝後設定 Docker 的過程。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝-docker"},"children":[{"type":"text","value":"安裝 Docker"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# Fedora 38已內建此套件\nsudo dnf -y install dnf-plugins-core\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# Fedora 38已內建此套件\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -y"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf-plugins-core\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 新增 Docker 的套件庫\nsudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 新增 Docker 的套件庫\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" config-manager"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --add-repo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://download.docker.com/linux/fedora/docker-ce.repo\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝 Docker\nsudo dnf install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝 Docker\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" docker-ce"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" docker-ce-cli"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" containerd.io"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" docker-buildx-plugin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" docker-compose-plugin\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 啟動 Docker\nsudo systemctl start docker\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 啟動 Docker\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" start"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" docker\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝後的設定"},"children":[{"type":"text","value":"安裝後的設定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"設定讓 Docker 可以無需特權（sudo）執行"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 將目前的使用者加入docker群組\nsudo usermod -aG docker $USER\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 將目前的使用者加入docker群組\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" usermod"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -aG"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" docker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" $USER\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 讓使用者設定生效\nnewgrp docker\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 讓使用者設定生效\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"newgrp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" docker\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 測試Docker是否安裝成功\ndocker run --rm hello-world\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 測試Docker是否安裝成功\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"docker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" run"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --rm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" hello-world\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 有成功執行的話刪除剛剛下載的image\ndocker image rm hello-world\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 有成功執行的話刪除剛剛下載的image\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"docker"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" image"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" rm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" hello-world\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"設定讓 Docker 於開機時自動啟動"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo systemctl enable docker.service containerd.service\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" enable"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" docker.service"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" containerd.service\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"參考文獻"},"children":[{"type":"text","value":"參考文獻"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.docker.com/engine/install/fedora/","rel":["nofollow"]},"children":[{"type":"text","value":"Install Docker Engine on Fedora"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.docker.com/engine/install/linux-postinstall/","rel":["nofollow"]},"children":[{"type":"text","value":"Linux post-installation steps for Docker Engine"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"安裝-docker","depth":2,"text":"安裝 Docker"},{"id":"安裝後的設定","depth":2,"text":"安裝後的設定"},{"id":"參考文獻","depth":2,"text":"參考文獻"}]}},"_type":"markdown","_id":"content:articles:2023:fedora_docker_startup.md","_source":"content","_file":"articles/2023/fedora_docker_startup.md","_extension":"md","createdAt":"2023-04-08T08:01:46.000Z","updatedAt":"2023-12-11T03:54:57.000Z","slug":"fedora_docker_startup","plainTexts":["本篇記錄了在 Fedora 中安裝及安裝後設定 Docker 的過程。","安裝 Docker","# Fedora 38已內建此套件","sudo","dnf","-y","install","dnf-plugins-core","# 新增 Docker 的套件庫","sudo","dnf","config-manager","--add-repo","https://download.docker.com/linux/fedora/docker-ce.repo","# 安裝 Docker","sudo","dnf","install","docker-ce","docker-ce-cli","containerd.io","docker-buildx-plugin","docker-compose-plugin","# 啟動 Docker","sudo","systemctl","start","docker","安裝後的設定","設定讓 Docker 可以無需特權（sudo）執行","# 將目前的使用者加入docker群組","sudo","usermod","-aG","docker","$USER","# 讓使用者設定生效","newgrp","docker","# 測試Docker是否安裝成功","docker","run","--rm","hello-world","# 有成功執行的話刪除剛剛下載的image","docker","image","rm","hello-world","設定讓 Docker 於開機時自動啟動","sudo","systemctl","enable","docker.service","containerd.service","參考文獻","Install Docker Engine on Fedora","Linux post-installation steps for Docker Engine","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/fedora_lineageos_sargo","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"在Fedora 38編譯Pixel 3a的LineageOS","description":"本篇文章是試圖移植之前的文章：的過程至 Fedora 上的心得紀錄，畢竟自己平常主要使用的系統為 Fedora，想說都是 Linux 應該是可以移植過來。","img":"924/LsYE8j.jpg","tags":["fedora","android","custom rom","Gooel Pixel 3a","lineageos"],"category":"linux","readingTime":{"text":"3 min read","minutes":2.765,"time":165900,"words":553},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本篇文章是試圖移植之前的文章："},{"type":"element","tag":"article-inner-link","props":{"slug":"ubuntu_lineageos_sargo"},"children":[]},{"type":"text","value":"的過程至 Fedora 上的心得紀錄，畢竟自己平常主要使用的系統為 Fedora，想說都是 Linux 應該是可以移植過來。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本篇文章是試圖移植之前的文章："},{"type":"element","tag":"article-inner-link","props":{"slug":"ubuntu_lineageos_sargo"},"children":[]},{"type":"text","value":"的過程至 Fedora 上的心得紀錄，畢竟自己平常主要使用的系統為 Fedora，想說都是 Linux 應該是可以移植過來。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"硬體需求"},"children":[{"type":"text","value":"硬體需求"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"請參考之前的文章："},{"type":"element","tag":"article-inner-link","props":{"slug":"ubuntu_lineageos_sargo"},"children":[]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不過記憶體的部分，我在 RAM 只有 16GB 的 Fedora，嘗試把 ZRAM 調高到 32GB，仍然會編譯失敗，不知道是不是有什麼其他的眉角需要調整。如果跟我一樣不是很瞭解這些運作機制的話，建議還是直接把電腦記憶體加到 32GB 吧！"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"建立編譯環境"},"children":[{"type":"text","value":"建立編譯環境"}]},{"type":"element","tag":"h3","props":{"id":"找到-fedora-中的相同套件"},"children":[{"type":"text","value":"找到 Fedora 中的相同套件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為官方的教學文件是使用 Ubuntu 編譯，有些編譯需要的套件名稱會不同，首先要做的麻煩事，就是要去把這些套件在 Fedora 中對應的名稱找出來。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"下面這些列出來的套件對應是自己在網路上搜尋、編譯嘗試錯誤排除以及猜測名稱之後得到的結果，可能可以比這更少，但我不具備這方面的知識，就當作參考吧。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Fedora 找不到的套件名稱對應如下，粗體為 Ubuntu 的套件名稱，Fedora 中對應的名稱會用子項目表示："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"build-essential"}]}]},{"type":"text","value":" / "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"g++-multilib"}]}]},{"type":"text","value":" / "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gcc-multilib"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@\"C Development Tools and Libraries\""}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@\"Development Tools\""}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gcc"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gcc-c++"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"glibc-devel"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"glibc-static"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libstdc++-devel"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libstdc++-static"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"imagemagick"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ImageMagick"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lib32ncurses5-dev"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ncurses-devel.i686"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ncurses-compat-libs.i686"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lib32readline-dev"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"readline-devel.i686"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lib32z1-dev"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"zlib-devel.i686"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libelf-dev"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"elfutils-libelf-devel"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"liblz4-tool"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lz4-libs"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libncurses5"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ncurses-libs"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ncurses-compat-libs.x86_64"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libncurses5-dev"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ncurses-devel.x86_64"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libsdl1.2-dev"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sdl12-compat-devel"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libssl-dev"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"openssl-devel"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libxml2-utils"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libxml2-devel"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"zlib1g-dev"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"zlib-devel.x86_64"}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"openjdk-11-jdk"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"java-11-openjdk"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"安裝編譯所需套件"},"children":[{"type":"text","value":"安裝編譯所需套件"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 先更新一下系統\nsudo dnf update\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 先更新一下系統\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" update\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝編譯需要的套件\nsudo dnf install android-tools bc @\"C Development Tools and Libraries\" @\"Development Tools\" gcc gcc-c++ glibc-devel glibc-static libstdc++-devel libstdc++-static curl git-lfs gnupg gperf ImageMagick ncurses-devel.i686 ncurses-devel.x86_64 ncurses-compat-libs.i686 ncurses-compat-libs.x86_64 readline-devel.i686 zlib-devel.i686 elfutils-libelf-devel lz4-libs ncurses-libs  sdl12-compat-devel openssl-devel libxml2 libxml2-devel lzop pngcrush rsync schedtool squashfs-tools xsltproc zip zlib-devel java-11-openjdk python3 repo wget python3-protobuf -y\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝編譯需要的套件\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" android-tools"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" bc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" @\"C Development Tools and Libraries\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" @\"Development Tools\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gcc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gcc-c++"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" glibc-devel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" glibc-static"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libstdc++-devel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libstdc++-static"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" curl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" git-lfs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnupg"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gperf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ImageMagick"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ncurses-devel.i686"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ncurses-devel.x86_64"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ncurses-compat-libs.i686"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ncurses-compat-libs.x86_64"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" readline-devel.i686"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" zlib-devel.i686"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" elfutils-libelf-devel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" lz4-libs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ncurses-libs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"  sdl12-compat-devel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" openssl-devel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libxml2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libxml2-devel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" lzop"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" pngcrush"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" rsync"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" schedtool"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" squashfs-tools"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" xsltproc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" zip"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" zlib-devel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" java-11-openjdk"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" python3"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" repo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" wget"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" python3-protobuf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -y\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 設定git身份(email)\ngit config --global user.email \"you@example.com\"\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 設定git身份(email)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" config"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --global"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" user.email"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" \"you@example.com\"\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 設定git身份(名稱)\ngit config --global user.name \"Your Name\"\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 設定git身份(名稱)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" config"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --global"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" user.name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" \"Your Name\"\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"確認-java-版本"},"children":[{"type":"text","value":"確認 Java 版本"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 確認Java版本\njava -version\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 確認Java版本\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"java"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -version\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若顯示的不是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"openjdk version"}]},{"type":"text","value":"不是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"11"}]},{"type":"text","value":"的話，就要調整。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 設定Java版本\nsudo alternatives --config java\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 設定Java版本\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" alternatives"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --config"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" java\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 會看到像這樣的畫面，要選擇是java-11-openjdk的那條。\n有 2 個程式提供「java」。\n\n  選擇     指令\n-----------------------------------\n*  1       java-17-openjdk.x86_64\n + 2       java-11-openjdk.x86_64\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 會看到像這樣的畫面，要選擇是java-11-openjdk的那條。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"有"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 個程式提供「java」。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"  選擇"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"     指令\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"-----------------------------------\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  1       java-17-openjdk.x86_64\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" +"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"       java-11-openjdk.x86_64\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 再次確認Java版本\njava -version\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 再次確認Java版本\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"java"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -version\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"取得原始碼及編譯"},"children":[{"type":"text","value":"取得原始碼及編譯"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之後步驟由於跟在 Ubuntu 中相同，請參考之前的文章："},{"type":"element","tag":"article-inner-link","props":{"slug":"ubuntu_lineageos_sargo","hash":"取得-lineageos-原始碼"},"children":[]},{"type":"text","value":"。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"參考文獻"},"children":[{"type":"text","value":"參考文獻"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://index.ros.org/deps/","rel":["nofollow"]},"children":[{"type":"text","value":"ROS Index"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.pragmaticlinux.com/2022/05/how-to-install-build-essential-on-fedora/","rel":["nofollow"]},"children":[{"type":"text","value":"How to install build-essential on Fedora"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://docs.fedoraproject.org/en-US/quick-docs/installing-java/#_switching_between_java_versions","rel":["nofollow"]},"children":[{"type":"text","value":"Switching between Java Versions"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://stackoverflow.com/questions/51698044/libncurses-so-5-cannot-open-shared-library-fedora","rel":["nofollow"]},"children":[{"type":"text","value":"libncurses.so.5 - cannot open shared library, Fedora"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"硬體需求","depth":2,"text":"硬體需求"},{"id":"建立編譯環境","depth":2,"text":"建立編譯環境","children":[{"id":"找到-fedora-中的相同套件","depth":3,"text":"找到 Fedora 中的相同套件"},{"id":"安裝編譯所需套件","depth":3,"text":"安裝編譯所需套件"},{"id":"確認-java-版本","depth":3,"text":"確認 Java 版本"}]},{"id":"取得原始碼及編譯","depth":2,"text":"取得原始碼及編譯"},{"id":"參考文獻","depth":2,"text":"參考文獻"}]}},"_type":"markdown","_id":"content:articles:2023:fedora_lineageos_sargo.md","_source":"content","_file":"articles/2023/fedora_lineageos_sargo.md","_extension":"md","createdAt":"2023-04-07T09:03:17.000Z","updatedAt":"2023-12-11T10:19:13.000Z","slug":"fedora_lineageos_sargo","plainTexts":["本篇文章是試圖移植之前的文章：","的過程至 Fedora 上的心得紀錄，畢竟自己平常主要使用的系統為 Fedora，想說都是 Linux 應該是可以移植過來。","硬體需求","請參考之前的文章：","。","不過記憶體的部分，我在 RAM 只有 16GB 的 Fedora，嘗試把 ZRAM 調高到 32GB，仍然會編譯失敗，不知道是不是有什麼其他的眉角需要調整。如果跟我一樣不是很瞭解這些運作機制的話，建議還是直接把電腦記憶體加到 32GB 吧！","建立編譯環境","找到 Fedora 中的相同套件","因為官方的教學文件是使用 Ubuntu 編譯，有些編譯需要的套件名稱會不同，首先要做的麻煩事，就是要去把這些套件在 Fedora 中對應的名稱找出來。","下面這些列出來的套件對應是自己在網路上搜尋、編譯嘗試錯誤排除以及猜測名稱之後得到的結果，可能可以比這更少，但我不具備這方面的知識，就當作參考吧。","在 Fedora 找不到的套件名稱對應如下，粗體為 Ubuntu 的套件名稱，Fedora 中對應的名稱會用子項目表示：","build-essential","/","g++-multilib","/","gcc-multilib","@\"C Development Tools and Libraries\"","@\"Development Tools\"","gcc","gcc-c++","glibc-devel","glibc-static","libstdc++-devel","libstdc++-static","imagemagick","ImageMagick","lib32ncurses5-dev","ncurses-devel.i686","ncurses-compat-libs.i686","lib32readline-dev","readline-devel.i686","lib32z1-dev","zlib-devel.i686","libelf-dev","elfutils-libelf-devel","liblz4-tool","lz4-libs","libncurses5","ncurses-libs","ncurses-compat-libs.x86_64","libncurses5-dev","ncurses-devel.x86_64","libsdl1.2-dev","sdl12-compat-devel","libssl-dev","openssl-devel","libxml2-utils","libxml2-devel","zlib1g-dev","zlib-devel.x86_64","openjdk-11-jdk","java-11-openjdk","安裝編譯所需套件","# 先更新一下系統","sudo","dnf","update","# 安裝編譯需要的套件","sudo","dnf","install","android-tools","bc","@\"C Development Tools and Libraries\"","@\"Development Tools\"","gcc","gcc-c++","glibc-devel","glibc-static","libstdc++-devel","libstdc++-static","curl","git-lfs","gnupg","gperf","ImageMagick","ncurses-devel.i686","ncurses-devel.x86_64","ncurses-compat-libs.i686","ncurses-compat-libs.x86_64","readline-devel.i686","zlib-devel.i686","elfutils-libelf-devel","lz4-libs","ncurses-libs","sdl12-compat-devel","openssl-devel","libxml2","libxml2-devel","lzop","pngcrush","rsync","schedtool","squashfs-tools","xsltproc","zip","zlib-devel","java-11-openjdk","python3","repo","wget","python3-protobuf","-y","# 設定git身份(email)","git","config","--global","user.email","\"you@example.com\"","# 設定git身份(名稱)","git","config","--global","user.name","\"Your Name\"","確認 Java 版本","# 確認Java版本","java","-version","若顯示的不是","openjdk version","不是","11","的話，就要調整。","# 設定Java版本","sudo","alternatives","--config","java","# 會看到像這樣的畫面，要選擇是java-11-openjdk的那條。","有","2","個程式提供「java」。","","選擇","指令","-----------------------------------","*","1       java-17-openjdk.x86_64","+","2","java-11-openjdk.x86_64","# 再次確認Java版本","java","-version","取得原始碼及編譯","之後步驟由於跟在 Ubuntu 中相同，請參考之前的文章：","。","參考文獻","ROS Index","How to install build-essential on Fedora","Switching between Java Versions","libncurses.so.5 - cannot open shared library, Fedora","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/fedora_megasync","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"MEGA - 完整支援Fedora Workstation 38的雲端硬碟","description":"在雲端硬碟供應商中，有官方原生支援 Fedora 的桌面應用程式可安裝，又有完整繁體中文界面的，就我所知只有Dropbox與MEGA兩家，個人是使用 MEGA。MEGA 能使用的免費容量非常佛心，有 20GB 這麼多（點我註冊），相對於 Dropbox 免費容量只有 2GB 差了十倍啊！","tags":["fedora","mega","megasync","雲端硬碟"],"img":"922/b56SXt.jpg","category":"linux","readingTime":{"text":"6 min read","minutes":5.715,"time":342900,"words":1143},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在雲端硬碟供應商中，有官方原生支援 Fedora 的桌面應用程式可安裝，又有完整繁體中文界面的，就我所知只有"},{"type":"element","tag":"a","props":{"href":"https://www.dropbox.com/zh_TW/","rel":["nofollow"]},"children":[{"type":"text","value":"Dropbox"}]},{"type":"text","value":"與"},{"type":"element","tag":"a","props":{"href":"https://mega.io/zh-hant/?aff=MxSxDVl4hAI","rel":["nofollow"]},"children":[{"type":"text","value":"MEGA"}]},{"type":"text","value":"兩家，個人是使用 MEGA。MEGA 能使用的免費容量非常佛心，有 "},{"type":"element","tag":"a","props":{"href":"https://mega.io/zh-hant/pricing?aff=MxSxDVl4hAI","rel":["nofollow"]},"children":[{"type":"text","value":"20GB"}]},{"type":"text","value":" 這麼多（"},{"type":"element","tag":"a","props":{"href":"https://mega.nz/register/?aff=MxSxDVl4hAI","rel":["nofollow"]},"children":[{"type":"text","value":"點我註冊"}]},{"type":"text","value":"），相對於 Dropbox 免費容量只有 2GB 差了十倍啊！"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在雲端硬碟供應商中，有官方原生支援 Fedora 的桌面應用程式可安裝，又有完整繁體中文界面的，就我所知只有"},{"type":"element","tag":"a","props":{"href":"https://www.dropbox.com/zh_TW/","rel":["nofollow"]},"children":[{"type":"text","value":"Dropbox"}]},{"type":"text","value":"與"},{"type":"element","tag":"a","props":{"href":"https://mega.io/zh-hant/?aff=MxSxDVl4hAI","rel":["nofollow"]},"children":[{"type":"text","value":"MEGA"}]},{"type":"text","value":"兩家，個人是使用 MEGA。MEGA 能使用的免費容量非常佛心，有 "},{"type":"element","tag":"a","props":{"href":"https://mega.io/zh-hant/pricing?aff=MxSxDVl4hAI","rel":["nofollow"]},"children":[{"type":"text","value":"20GB"}]},{"type":"text","value":" 這麼多（"},{"type":"element","tag":"a","props":{"href":"https://mega.nz/register/?aff=MxSxDVl4hAI","rel":["nofollow"]},"children":[{"type":"text","value":"點我註冊"}]},{"type":"text","value":"），相對於 Dropbox 免費容量只有 2GB 差了十倍啊！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Fedora 安裝 Megasync 的方式有數種，這篇紀錄了在 Fedora 中安裝 MEGA Sync 的過程、一些需要注意的地方，以及自己感受到的不同安裝方式的優缺點。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"透過官方套件庫安裝"},"children":[{"type":"text","value":"透過官方套件庫安裝"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"既然號稱有官方原生支援，個人最推薦的還是直接安裝官方提供的版本，首先點進去"},{"type":"element","tag":"a","props":{"href":"https://mega.io/zh-hant/desktop","rel":["nofollow"]},"children":[{"type":"text","value":"官方下載頁面"}]},{"type":"text","value":"，拉到下面的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"下載MEGA桌面應用程式"}]},{"type":"text","value":"後選擇"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Linux"}]},{"type":"text","value":"頁籤，並在下拉選單中選擇"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Fedora"}]},{"type":"text","value":"，按對應版本中的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"下載"}]},{"type":"text","value":"按鈕即可。"}]},{"type":"element","tag":"article-img","props":{"img":"922/H6rlOP.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"下載完後用自己喜歡的方式安裝（例如使用終端機），安裝完成後就會啟用 MEGA 官方的套件庫囉！"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# /some-path/megasync-Fedora_38.x86_64.rpm要更換成自己下載的目錄喔\nsudo dnf install /some-path/megasync-Fedora_38.x86_64.rpm\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# /some-path/megasync-Fedora_38.x86_64.rpm要更換成自己下載的目錄喔\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /some-path/megasync-Fedora_38.x86_64.rpm\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"安裝檔案管理器擴充套件"},"children":[{"type":"text","value":"安裝檔案管理器擴充套件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若是使用下面這四個檔案管理器的話，也推薦再安裝對應的擴充套件："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"nautilus"},{"type":"element","tag":"small","props":{},"children":[{"type":"text","value":"（GNOME 的預設檔案管理器）"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"dolphin"},{"type":"element","tag":"small","props":{},"children":[{"type":"text","value":"（KDE 的預設檔案管理器）"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"nemo"},{"type":"element","tag":"small","props":{},"children":[{"type":"text","value":"（CINNAMON 的預設檔案管理器）"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"thunar"},{"type":"element","tag":"small","props":{},"children":[{"type":"text","value":"（XFCE 的預設檔案管理器）"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"套件名稱會是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"{{檔案管理器名稱}}-megasync"}]},{"type":"text","value":"，例如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nautilus-megasync"}]},{"type":"text","value":"。這些套件能夠讓檔案管理器顯示出 MEGA Sync 的資料夾與檔案同步狀況。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 以nautilus為例\nsudo dnf install nautilus-megasync\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 以nautilus為例\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" nautilus-megasync\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"優缺點"},"children":[{"type":"text","value":"優缺點"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"透過官方套件庫安裝，最大的優點就是有提供幾個較知名的桌面檔案管理員的整合套件。但 Fedora 迭代週期較快，通常每半年可能就有一次系統更新，但 MEGA 官方不一定每次都跟得上，升級 Fedora 系統時要先確定 MEGA 官方已推出對應版本比較好。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"透過-flathub-安裝"},"children":[{"type":"text","value":"透過 Flathub 安裝"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若是不太在意檔案管理員整合支援的話，也可以考慮安裝 flatpak 版本，由於 flatpak 特殊的運作環境，較不用擔心 Fedora 升級時的支援問題。MEGA Sync 的 flatpak 版本可以在"},{"type":"element","tag":"a","props":{"href":"https://flathub.org/zh-Hant","rel":["nofollow"]},"children":[{"type":"text","value":"Flathub"}]},{"type":"text","value":"中找到。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 啟用Flathub軟體庫\nflatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo && flatpak remote-modify --enable flathub\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 啟用Flathub軟體庫\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"flatpak"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" remote-add"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --if-not-exists"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" flathub"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://flathub.org/repo/flathub.flatpakrepo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" && "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"flatpak"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" remote-modify"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --enable"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" flathub\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝MEGA Sync\nflatpak install flathub nz.mega.MEGAsync\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝MEGA Sync\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"flatpak"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" flathub"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" nz.mega.MEGAsync\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"優缺點-1"},"children":[{"type":"text","value":"優缺點"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"透過 Flathub 安裝，最大的優點（也是 Flatpak 的優點）就是與作業系統基本上是獨立的，不用擔心應用程式趕不上 Fedora 的升級，但就必須犧牲檔案管理程式的整合支援。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"透過-rpmfusion-nonfree-套件庫安裝"},"children":[{"type":"text","value":"透過 rpmfusion-nonfree 套件庫安裝"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"rpmfusion 包含了許多因為各種原因而無法被包含在 Fedora 套件庫的軟體，基本上是使用 Fedora 必裝的套件庫，而其中也包含 MEGA Sync。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 啟用rpmfusion套件庫\nsudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 啟用rpmfusion套件庫\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"rpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -E"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" %fedora"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":".noarch.rpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"rpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -E"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" %fedora"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":".noarch.rpm\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝megasync\nsudo dnf install megasync\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝megasync\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" megasync\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"優缺點-2"},"children":[{"type":"text","value":"優缺點"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自己覺得 rpmfusion 的優點比起透過官方套件庫或是 flathub 安裝而言比較少，因為若不在意檔案管理員整合支援，使用 flathub 可以較不用擔心 Fedora 系統升級週期較快的影響，而 rpmfusion 打包 MEGA Sync 更新的速度又沒有官方套件庫快。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"在-gnome-中額外的設定"},"children":[{"type":"text","value":"在 GNOME 中額外的設定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若是使用 GNOME 桌面的話，除了官方套件庫中的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nautilus-megasync"}]},{"type":"text","value":"，也推薦安裝"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"gnome-shell-extension-appindicator"}]},{"type":"text","value":"這個套件，它能夠讓 MEGA Sync 系統圖示出現在頂部的系統列中，會讓使用體驗大大加分。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo dnf install gnome-shell-extension-appindicator\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-shell-extension-appindicator\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安裝完後記得先登出再登入，然後在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"擴充套件"}]},{"type":"text","value":"中啟用，接著再設定 MEGA Sync，就會看到 MEGA 的圖案出現在 GNOME 桌面的頂部囉！"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"目前各家雲端硬碟都有 WEB 界面可以使用，基本的上傳下載功能可以說已沒有作業系統限制，但如果是需要更複雜的操作如自動化同步……等功能，就還是要下載桌面應用程式，這時候 Linux 的支援度就非常重要了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除了本篇所說的 Dropbox 與 MEGA，另外還有在 Linux 社群比較知名的可能是像 Next Cloud 這樣可託管、可自託管的解決方案，可惜 Next Cloud 還沒有繁中介面，不然或許我也會想一試。或是 pCloud，完整支援 Ubuntu，也提供 appImage 版本。又或者是由第三方開發者串接 Google Drive 的解決方案，所在多有。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"只是用來用去呢，自己還是最喜歡 MEGA，推薦給大家。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"透過官方套件庫安裝","depth":2,"text":"透過官方套件庫安裝","children":[{"id":"安裝檔案管理器擴充套件","depth":3,"text":"安裝檔案管理器擴充套件"},{"id":"優缺點","depth":3,"text":"優缺點"}]},{"id":"透過-flathub-安裝","depth":2,"text":"透過 Flathub 安裝","children":[{"id":"優缺點-1","depth":3,"text":"優缺點"}]},{"id":"透過-rpmfusion-nonfree-套件庫安裝","depth":2,"text":"透過 rpmfusion-nonfree 套件庫安裝","children":[{"id":"優缺點-2","depth":3,"text":"優缺點"}]},{"id":"在-gnome-中額外的設定","depth":2,"text":"在 GNOME 中額外的設定"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:fedora_megasync.md","_source":"content","_file":"articles/2023/fedora_megasync.md","_extension":"md","createdAt":"2023-09-27T05:59:25.000Z","updatedAt":"2023-12-11T10:19:13.000Z","slug":"fedora_megasync","plainTexts":["在雲端硬碟供應商中，有官方原生支援 Fedora 的桌面應用程式可安裝，又有完整繁體中文界面的，就我所知只有","Dropbox","與","MEGA","兩家，個人是使用 MEGA。MEGA 能使用的免費容量非常佛心，有","20GB","這麼多（","點我註冊","），相對於 Dropbox 免費容量只有 2GB 差了十倍啊！","在 Fedora 安裝 Megasync 的方式有數種，這篇紀錄了在 Fedora 中安裝 MEGA Sync 的過程、一些需要注意的地方，以及自己感受到的不同安裝方式的優缺點。","透過官方套件庫安裝","既然號稱有官方原生支援，個人最推薦的還是直接安裝官方提供的版本，首先點進去","官方下載頁面","，拉到下面的","下載MEGA桌面應用程式","後選擇","Linux","頁籤，並在下拉選單中選擇","Fedora","，按對應版本中的","下載","按鈕即可。","下載完後用自己喜歡的方式安裝（例如使用終端機），安裝完成後就會啟用 MEGA 官方的套件庫囉！","# /some-path/megasync-Fedora_38.x86_64.rpm要更換成自己下載的目錄喔","sudo","dnf","install","/some-path/megasync-Fedora_38.x86_64.rpm","安裝檔案管理器擴充套件","若是使用下面這四個檔案管理器的話，也推薦再安裝對應的擴充套件：","nautilus","（GNOME 的預設檔案管理器）","dolphin","（KDE 的預設檔案管理器）","nemo","（CINNAMON 的預設檔案管理器）","thunar","（XFCE 的預設檔案管理器）","套件名稱會是","{{檔案管理器名稱}}-megasync","，例如","nautilus-megasync","。這些套件能夠讓檔案管理器顯示出 MEGA Sync 的資料夾與檔案同步狀況。","# 以nautilus為例","sudo","dnf","install","nautilus-megasync","優缺點","透過官方套件庫安裝，最大的優點就是有提供幾個較知名的桌面檔案管理員的整合套件。但 Fedora 迭代週期較快，通常每半年可能就有一次系統更新，但 MEGA 官方不一定每次都跟得上，升級 Fedora 系統時要先確定 MEGA 官方已推出對應版本比較好。","透過 Flathub 安裝","若是不太在意檔案管理員整合支援的話，也可以考慮安裝 flatpak 版本，由於 flatpak 特殊的運作環境，較不用擔心 Fedora 升級時的支援問題。MEGA Sync 的 flatpak 版本可以在","Flathub","中找到。","# 啟用Flathub軟體庫","flatpak","remote-add","--if-not-exists","flathub","https://flathub.org/repo/flathub.flatpakrepo","&&","flatpak","remote-modify","--enable","flathub","# 安裝MEGA Sync","flatpak","install","flathub","nz.mega.MEGAsync","優缺點","透過 Flathub 安裝，最大的優點（也是 Flatpak 的優點）就是與作業系統基本上是獨立的，不用擔心應用程式趕不上 Fedora 的升級，但就必須犧牲檔案管理程式的整合支援。","透過 rpmfusion-nonfree 套件庫安裝","rpmfusion 包含了許多因為各種原因而無法被包含在 Fedora 套件庫的軟體，基本上是使用 Fedora 必裝的套件庫，而其中也包含 MEGA Sync。","# 啟用rpmfusion套件庫","sudo","dnf","install","https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-","$(","rpm","-E","%fedora",")",".noarch.rpm","https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-","$(","rpm","-E","%fedora",")",".noarch.rpm","# 安裝megasync","sudo","dnf","install","megasync","優缺點","自己覺得 rpmfusion 的優點比起透過官方套件庫或是 flathub 安裝而言比較少，因為若不在意檔案管理員整合支援，使用 flathub 可以較不用擔心 Fedora 系統升級週期較快的影響，而 rpmfusion 打包 MEGA Sync 更新的速度又沒有官方套件庫快。","在 GNOME 中額外的設定","若是使用 GNOME 桌面的話，除了官方套件庫中的","nautilus-megasync","，也推薦安裝","gnome-shell-extension-appindicator","這個套件，它能夠讓 MEGA Sync 系統圖示出現在頂部的系統列中，會讓使用體驗大大加分。","sudo","dnf","install","gnome-shell-extension-appindicator","安裝完後記得先登出再登入，然後在","擴充套件","中啟用，接著再設定 MEGA Sync，就會看到 MEGA 的圖案出現在 GNOME 桌面的頂部囉！","後記","目前各家雲端硬碟都有 WEB 界面可以使用，基本的上傳下載功能可以說已沒有作業系統限制，但如果是需要更複雜的操作如自動化同步……等功能，就還是要下載桌面應用程式，這時候 Linux 的支援度就非常重要了。","除了本篇所說的 Dropbox 與 MEGA，另外還有在 Linux 社群比較知名的可能是像 Next Cloud 這樣可託管、可自託管的解決方案，可惜 Next Cloud 還沒有繁中介面，不然或許我也會想一試。或是 pCloud，完整支援 Ubuntu，也提供 appImage 版本。又或者是由第三方開發者串接 Google Drive 的解決方案，所在多有。","只是用來用去呢，自己還是最喜歡 MEGA，推薦給大家。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/fedora_startup","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"Fedora初始設定紀錄","description":"本篇是將自己重灌 Fedora 時會做的一些事情，例如：移除沒在用的 Gnome 預設程式、安裝自己要用的程式、更新……等等的過程，以指令碼的形式紀錄下來，以求下次重灌完可以直接複製貼上執行之後就會最接近自己平常的使用狀態。","tags":["fedora"],"img":"922/m6wo1h.jpg","category":"linux","readingTime":{"text":"3 min read","minutes":2.505,"time":150300,"words":501},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本篇是將自己重灌 Fedora 時會做的一些事情，例如：移除沒在用的 Gnome 預設程式、安裝自己要用的程式、更新……等等的過程，以指令碼的形式紀錄下來，以求下次重灌完可以直接複製貼上執行之後就會最接近自己平常的使用狀態。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本篇是將自己重灌 Fedora 時會做的一些事情，例如：移除沒在用的 Gnome 預設程式、安裝自己要用的程式、更新……等等的過程，以指令碼的形式紀錄下來，以求下次重灌完可以直接複製貼上執行之後就會最接近自己平常的使用狀態。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"內容可能會隨著 Fedora 版本更新，有用到的套件都會盡量附上官網，有興趣的朋友可選擇參考，"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"並請自行承擔指令安裝責任"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"撰寫文章時使用版本："},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Fedora 40"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"前置作業"},"children":[{"type":"text","value":"前置作業"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 移除用不到的套件\nsudo dnf remove gnome-software gnome-connections gnome-maps gnome-calendar totem gnome-boxes gnome-contacts simple-scan ibus-libpinyin ibus-libzhuyin gnome-tour fedora-chromium-config libreoffice* rhythmbox -y\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 移除用不到的套件\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" remove"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-software"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-connections"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-maps"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-calendar"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" totem"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-boxes"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-contacts"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" simple-scan"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ibus-libpinyin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ibus-libzhuyin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-tour"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" fedora-chromium-config"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libreoffice"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" rhythmbox"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -y\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 移除用不到的 Gnome 擴充套件與 GNOME Classic\nsudo dnf remove gnome-shell-extension-*\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 移除用不到的 Gnome 擴充套件與 GNOME Classic\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" remove"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-shell-extension-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"*\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 更新\nsudo dnf update -y\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 更新\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" update"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -y\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"啟用第三方軟體庫rpm-fusion-flathub"},"children":[{"type":"text","value":"啟用第三方軟體庫（Rpm Fusion / Flathub）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"啟用 "},{"type":"element","tag":"a","props":{"href":"https://rpmfusion.org/","rel":["nofollow"]},"children":[{"type":"text","value":"RPM Fusion"}]},{"type":"text","value":" 軟體庫"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"rpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -E"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" %fedora"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":".noarch.rpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"rpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -E"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" %fedora"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":".noarch.rpm\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"啟用 "},{"type":"element","tag":"a","props":{"href":"https://flathub.org/home","rel":["nofollow"]},"children":[{"type":"text","value":"Flathub"}]},{"type":"text","value":" 軟體庫"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo && flatpak remote-modify --enable flathub\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"flatpak"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" remote-add"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --if-not-exists"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" flathub"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://flathub.org/repo/flathub.flatpakrepo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" && "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"flatpak"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" remote-modify"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --enable"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" flathub\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝日常使用軟體"},"children":[{"type":"text","value":"安裝日常使用軟體"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo dnf install p7zip gimp gnome-tweaks ibus-chewing VirtualBox android-tools mediawriter gnome-console megasync nautilus-megasync -y\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" p7zip"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gimp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-tweaks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ibus-chewing"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" VirtualBox"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" android-tools"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" mediawriter"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-console"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" megasync"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" nautilus-megasync"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -y\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝 Chrome\nsudo dnf install https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝 Chrome\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝多媒體編碼套件\nsudo dnf install gstreamer*plugin* --exclude=gstreamer*devel*\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝多媒體編碼套件\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gstreamer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"plugin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --exclude=gstreamer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"devel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"*\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"從-flathub-安裝日常軟體"},"children":[{"type":"text","value":"從 flathub 安裝日常軟體"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"flatpak install flathub org.mozilla.Thunderbird org.libreoffice.LibreOffice com.spotify.Client com.valvesoftware.Steam org.videolan.VLC com.github.unrud.VideoDownloader org.kde.kget\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"flatpak"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" flathub"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" org.mozilla.Thunderbird"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" org.libreoffice.LibreOffice"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" com.spotify.Client"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" com.valvesoftware.Steam"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" org.videolan.VLC"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" com.github.unrud.VideoDownloader"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" org.kde.kget\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝開發相關套件"},"children":[{"type":"text","value":"安裝開發相關套件"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝 Git / Gitg / Github CLI\nsudo dnf install git gh -y\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝 Git / Gitg / Github CLI\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -y\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"安裝-visual-studio-code"},"children":[{"type":"text","value":"安裝 Visual Studio Code"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 匯入微軟套件庫金鑰\nsudo rpm --import https://packages.microsoft.com/keys/microsoft.asc\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 匯入微軟套件庫金鑰\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" rpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://packages.microsoft.com/keys/microsoft.asc\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 新增VS Code套件庫\nsudo sh -c 'echo -e \"[code]\\nname=Visual Studio Code\\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\\nenabled=1\\ngpgcheck=1\\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc\" > /etc/yum.repos.d/vscode.repo'\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 新增VS Code套件庫\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" sh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -c"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 'echo -e \"[code]\\nname=Visual Studio Code\\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\\nenabled=1\\ngpgcheck=1\\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc\" > /etc/yum.repos.d/vscode.repo'\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝\nsudo dnf check-update && sudo dnf install code\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" check-update"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" && "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" code\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"github-cli-設定"},"children":[{"type":"text","value":"Github CLI 設定"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"gh auth login\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"gh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" auth"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" login\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝個人化相關套件"},"children":[{"type":"text","value":"安裝個人化相關套件"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝額外的桌布\nsudo dnf install *backgrounds*gnome* *gnome*backgrounds*\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝額外的桌布\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"backgrounds"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"gnome"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" *"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"gnome"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"backgrounds"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"*\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝 GTK 主題／圖示主題／字型\nsudo dnf install breeze-cursor-theme papirus-icon-theme cjkuni-ukai-fonts cjkuni-uming-fonts wqy-microhei-fonts google-noto-sans-cjk-tc-fonts google-noto-sans-mono-cjk-tc-fonts google-noto-serif-cjk-tc-fonts adobe-source-han-sans-tw-fonts adobe-source-han-serif-tw-fonts\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝 GTK 主題／圖示主題／字型\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" breeze-cursor-theme"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" papirus-icon-theme"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" cjkuni-ukai-fonts"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" cjkuni-uming-fonts"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" wqy-microhei-fonts"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" google-noto-sans-cjk-tc-fonts"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" google-noto-sans-mono-cjk-tc-fonts"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" google-noto-serif-cjk-tc-fonts"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" adobe-source-han-sans-tw-fonts"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" adobe-source-han-serif-tw-fonts\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 從內建的軟體庫安裝 Gnome 擴充套件\nsudo dnf install gnome-shell-extension-apps-menu gnome-shell-extension-blur-my-shell gnome-shell-extension-dash-to-dock gnome-shell-extension-drive-menu gnome-shell-extension-freon gnome-shell-extension-drive-menu gnome-shell-extension-places-menu -y\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 從內建的軟體庫安裝 Gnome 擴充套件\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-shell-extension-apps-menu"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-shell-extension-blur-my-shell"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-shell-extension-dash-to-dock"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-shell-extension-drive-menu"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-shell-extension-freon"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-shell-extension-drive-menu"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-shell-extension-places-menu"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -y\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"真的是紀錄了一下才發現，剛開始要裝的東西其實滿多的呢……辛苦你們了電腦跟網路，但我真的需要裝這些酷東西。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"前置作業","depth":2,"text":"前置作業"},{"id":"啟用第三方軟體庫rpm-fusion-flathub","depth":2,"text":"啟用第三方軟體庫（Rpm Fusion / Flathub）"},{"id":"安裝日常使用軟體","depth":2,"text":"安裝日常使用軟體","children":[{"id":"從-flathub-安裝日常軟體","depth":3,"text":"從 flathub 安裝日常軟體"}]},{"id":"安裝開發相關套件","depth":2,"text":"安裝開發相關套件","children":[{"id":"安裝-visual-studio-code","depth":3,"text":"安裝 Visual Studio Code"},{"id":"github-cli-設定","depth":3,"text":"Github CLI 設定"}]},{"id":"安裝個人化相關套件","depth":2,"text":"安裝個人化相關套件"}]}},"_type":"markdown","_id":"content:articles:2023:fedora_startup.md","_source":"content","_file":"articles/2023/fedora_startup.md","_extension":"md","createdAt":"2023-01-02T08:03:40.000Z","updatedAt":"2024-05-20T14:37:14.000Z","slug":"fedora_startup","plainTexts":["本篇是將自己重灌 Fedora 時會做的一些事情，例如：移除沒在用的 Gnome 預設程式、安裝自己要用的程式、更新……等等的過程，以指令碼的形式紀錄下來，以求下次重灌完可以直接複製貼上執行之後就會最接近自己平常的使用狀態。","內容可能會隨著 Fedora 版本更新，有用到的套件都會盡量附上官網，有興趣的朋友可選擇參考，","並請自行承擔指令安裝責任","。","撰寫文章時使用版本：","Fedora 40","。","前置作業","# 移除用不到的套件","sudo","dnf","remove","gnome-software","gnome-connections","gnome-maps","gnome-calendar","totem","gnome-boxes","gnome-contacts","simple-scan","ibus-libpinyin","ibus-libzhuyin","gnome-tour","fedora-chromium-config","libreoffice","*","rhythmbox","-y","# 移除用不到的 Gnome 擴充套件與 GNOME Classic","sudo","dnf","remove","gnome-shell-extension-","*","# 更新","sudo","dnf","update","-y","啟用第三方軟體庫（Rpm Fusion / Flathub）","啟用","RPM Fusion","軟體庫","sudo","dnf","install","https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-","$(","rpm","-E","%fedora",")",".noarch.rpm","https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-","$(","rpm","-E","%fedora",")",".noarch.rpm","啟用","Flathub","軟體庫","flatpak","remote-add","--if-not-exists","flathub","https://flathub.org/repo/flathub.flatpakrepo","&&","flatpak","remote-modify","--enable","flathub","安裝日常使用軟體","sudo","dnf","install","p7zip","gimp","gnome-tweaks","ibus-chewing","VirtualBox","android-tools","mediawriter","gnome-console","megasync","nautilus-megasync","-y","# 安裝 Chrome","sudo","dnf","install","https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm","# 安裝多媒體編碼套件","sudo","dnf","install","gstreamer","*","plugin","*","--exclude=gstreamer","*","devel","*","從 flathub 安裝日常軟體","flatpak","install","flathub","org.mozilla.Thunderbird","org.libreoffice.LibreOffice","com.spotify.Client","com.valvesoftware.Steam","org.videolan.VLC","com.github.unrud.VideoDownloader","org.kde.kget","安裝開發相關套件","# 安裝 Git / Gitg / Github CLI","sudo","dnf","install","git","gh","-y","安裝 Visual Studio Code","# 匯入微軟套件庫金鑰","sudo","rpm","--import","https://packages.microsoft.com/keys/microsoft.asc","# 新增VS Code套件庫","sudo","sh","-c","'echo -e \"[code]\\nname=Visual Studio Code\\nbaseurl=https://packages.microsoft.com/yumrepos/vscode\\nenabled=1\\ngpgcheck=1\\ngpgkey=https://packages.microsoft.com/keys/microsoft.asc\" > /etc/yum.repos.d/vscode.repo'","# 安裝","sudo","dnf","check-update","&&","sudo","dnf","install","code","Github CLI 設定","gh","auth","login","安裝個人化相關套件","# 安裝額外的桌布","sudo","dnf","install","*","backgrounds","*","gnome","*","*","gnome","*","backgrounds","*","# 安裝 GTK 主題／圖示主題／字型","sudo","dnf","install","breeze-cursor-theme","papirus-icon-theme","cjkuni-ukai-fonts","cjkuni-uming-fonts","wqy-microhei-fonts","google-noto-sans-cjk-tc-fonts","google-noto-sans-mono-cjk-tc-fonts","google-noto-serif-cjk-tc-fonts","adobe-source-han-sans-tw-fonts","adobe-source-han-serif-tw-fonts","# 從內建的軟體庫安裝 Gnome 擴充套件","sudo","dnf","install","gnome-shell-extension-apps-menu","gnome-shell-extension-blur-my-shell","gnome-shell-extension-dash-to-dock","gnome-shell-extension-drive-menu","gnome-shell-extension-freon","gnome-shell-extension-drive-menu","gnome-shell-extension-places-menu","-y","真的是紀錄了一下才發現，剛開始要裝的東西其實滿多的呢……辛苦你們了電腦跟網路，但我真的需要裝這些酷東西。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/fedora_unrar","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"在Fedora 38中使用unrar解壓縮RAR檔案","description":"在 Fedora 使用的libarchive中已經內建了對.rar 檔案的部分支援，所以遇到.rar 檔案的時候可以先嘗試直接使用桌面環境內建的解壓縮軟體開看看，如果失敗（例如我是遇到RAR encryption support unavailable.），再嘗試使用 rpmfusion 所打包的非開源版本。","tags":["fedora","rar","unrar"],"img":"922/yodiaF.jpg","category":"linux","readingTime":{"text":"2 min read","minutes":1.275,"time":76500,"words":255},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Fedora 使用的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libarchive"}]},{"type":"text","value":"中已經內建了對.rar 檔案的"},{"type":"element","tag":"a","props":{"href":"https://github.com/libarchive/libarchive#supported-formats","rel":["nofollow"]},"children":[{"type":"text","value":"部分支援"}]},{"type":"text","value":"，所以遇到.rar 檔案的時候可以先嘗試直接使用桌面環境內建的解壓縮軟體開看看，如果失敗（例如我是遇到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"RAR encryption support unavailable."}]},{"type":"text","value":"），再嘗試使用 rpmfusion 所打包的非開源版本。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Fedora 使用的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libarchive"}]},{"type":"text","value":"中已經內建了對.rar 檔案的"},{"type":"element","tag":"a","props":{"href":"https://github.com/libarchive/libarchive#supported-formats","rel":["nofollow"]},"children":[{"type":"text","value":"部分支援"}]},{"type":"text","value":"，所以遇到.rar 檔案的時候可以先嘗試直接使用桌面環境內建的解壓縮軟體開看看，如果失敗（例如我是遇到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"RAR encryption support unavailable."}]},{"type":"text","value":"），再嘗試使用 rpmfusion 所打包的非開源版本。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"前置作業"},"children":[{"type":"text","value":"前置作業"}]},{"type":"element","tag":"h3","props":{"id":"先移除原本安裝的-unrar選擇性"},"children":[{"type":"text","value":"先移除原本安裝的 unrar（選擇性）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於官方套件庫也有一個叫做 unrar 的套件，是用上面所說的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"libarchive"}]},{"type":"text","value":"去模擬"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"unrar"}]},{"type":"text","value":"的指令，若有先安裝須先移除。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo dnf remove unrar\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" remove"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" unrar\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"啟用-rpmfusiuon-nonfree"},"children":[{"type":"text","value":"啟用 rpmfusiuon-nonfree"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"rpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -E"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" %fedora"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":".noarch.rpm\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝-unrar"},"children":[{"type":"text","value":"安裝 unrar"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"啟用 rpmfusiuon-nonfree 後就能透過指令界面安裝了。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sud dnf install unrar\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sud"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" unrar\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"使用-unrar"},"children":[{"type":"text","value":"使用 unrar"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"unrar 的指令也很單純，如下所示，若檔案經由密碼壓縮，會有互動式指令介面讓你輸入密碼。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"unrar e ./壓縮檔案.rar\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"unrar"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" e"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ./壓縮檔案.rar\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"果然專利授權在 Linux 世界就是麻煩呀，建議大家還是擁抱像"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"7zip"}]},{"type":"text","value":"這種開源、多功能又跨平臺的壓縮格式吧。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"前置作業","depth":2,"text":"前置作業","children":[{"id":"先移除原本安裝的-unrar選擇性","depth":3,"text":"先移除原本安裝的 unrar（選擇性）"},{"id":"啟用-rpmfusiuon-nonfree","depth":3,"text":"啟用 rpmfusiuon-nonfree"}]},{"id":"安裝-unrar","depth":2,"text":"安裝 unrar"},{"id":"使用-unrar","depth":2,"text":"使用 unrar"}]}},"_type":"markdown","_id":"content:articles:2023:fedora_unrar.md","_source":"content","_file":"articles/2023/fedora_unrar.md","_extension":"md","createdAt":"2023-07-23T02:19:27.000Z","updatedAt":"2023-12-11T03:54:57.000Z","slug":"fedora_unrar","plainTexts":["在 Fedora 使用的","libarchive","中已經內建了對.rar 檔案的","部分支援","，所以遇到.rar 檔案的時候可以先嘗試直接使用桌面環境內建的解壓縮軟體開看看，如果失敗（例如我是遇到","RAR encryption support unavailable.","），再嘗試使用 rpmfusion 所打包的非開源版本。","前置作業","先移除原本安裝的 unrar（選擇性）","由於官方套件庫也有一個叫做 unrar 的套件，是用上面所說的","libarchive","去模擬","unrar","的指令，若有先安裝須先移除。","sudo","dnf","remove","unrar","啟用 rpmfusiuon-nonfree","sudo","dnf","install","https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-","$(","rpm","-E","%fedora",")",".noarch.rpm","安裝 unrar","啟用 rpmfusiuon-nonfree 後就能透過指令界面安裝了。","sud","dnf","install","unrar","使用 unrar","unrar 的指令也很單純，如下所示，若檔案經由密碼壓縮，會有互動式指令介面讓你輸入密碼。","unrar","e","./壓縮檔案.rar","果然專利授權在 Linux 世界就是麻煩呀，建議大家還是擁抱像","7zip","這種開源、多功能又跨平臺的壓縮格式吧。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/fedora_youtube_download","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"在Fedora 38中使用video-downloader下載Youtube影片","description":"之前在 Fedora 中我都是使用clipgrab下載 Youtube 影片，最近發現套件庫中多了一個叫做 video-downloader 的軟體就載來試用了一下，覺得比起 clipgrab 簡潔許多，而且界面也跟 GNOME 風格一致，就轉去使用它了。","tags":["fedora","youtube"],"img":"924/GXLkgw.jpg","category":"linux","readingTime":{"text":"2 min read","minutes":2,"time":120000,"words":400},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前在 Fedora 中我都是使用"},{"type":"element","tag":"a","props":{"href":"https://clipgrab.org/","rel":["nofollow"]},"children":[{"type":"text","value":"clipgrab"}]},{"type":"text","value":"下載 Youtube 影片，最近發現套件庫中多了一個叫做 video-downloader 的軟體就載來試用了一下，覺得比起 clipgrab 簡潔許多，而且界面也跟 GNOME 風格一致，就轉去使用它了。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前在 Fedora 中我都是使用"},{"type":"element","tag":"a","props":{"href":"https://clipgrab.org/","rel":["nofollow"]},"children":[{"type":"text","value":"clipgrab"}]},{"type":"text","value":"下載 Youtube 影片，最近發現套件庫中多了一個叫做 video-downloader 的軟體就載來試用了一下，覺得比起 clipgrab 簡潔許多，而且界面也跟 GNOME 風格一致，就轉去使用它了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝"},"children":[{"type":"text","value":"安裝"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以透過官方套件庫安裝或是 Flathub："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 透過官方套件庫安裝\nsudo dnf install video-downloader\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 透過官方套件庫安裝\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" video-downloader\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 或透過Flathub安裝\nflatpak install flathub com.github.unrud.VideoDownloader\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 或透過Flathub安裝\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"flatpak"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" flathub"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" com.github.unrud.VideoDownloader\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"使用"},"children":[{"type":"text","value":"使用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然目前還沒有正體漢語界面，但整體非常簡潔只有兩個頁籤：Audio 跟 Video。Audio 頁籤可以把 Youtube 影片直接轉成 MP3（無法選擇格式或位元速率），Video 頁籤就是下載影片，很直觀。"}]},{"type":"element","tag":"article-img","props":{"img":"924/F75Chy.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"video-downloader 的預設下載路徑是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"家目錄/下載/VideoDownloader"}]},{"type":"text","value":"，可以從設定值中修改（右上角三個點）。"}]},{"type":"element","tag":"h3","props":{"id":"下載播放清單"},"children":[{"type":"text","value":"下載播放清單"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"video-downloader 可以直接下載整個 Youtube 播放清單，只是若清單中影片越多，需要的解析時間也會越長，這部份就要稍微耐心等待一下。"}]},{"type":"element","tag":"article-img","props":{"img":"922/twnOo1.png"},"children":[]},{"type":"element","tag":"h3","props":{"id":"不只支援-youtube"},"children":[{"type":"text","value":"不只支援 Youtube"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"video-downloader 是建立在"},{"type":"element","tag":"a","props":{"href":"https://github.com/yt-dlp/yt-dlp","rel":["nofollow"]},"children":[{"type":"text","value":"yt-dlp"}]},{"type":"text","value":"專案之上，因此 yt-dlp 支援的網站都可以透過 video-downloader 下載，包含像是 bilibili、twitter、facebook……等較有名的社群網站，甚至還支援部份的謎片網站，功能強大。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"詳細的支援網站清單請參考："},{"type":"element","tag":"a","props":{"href":"https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md","rel":["nofollow"]},"children":[{"type":"text","value":"Supported sites"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概就是這樣，本來我是使用來下載 Youtube 而已，後來發現 video-downloader 也能下載其他網站的影片覺得很驚訝。不然之前都會用那種一堆廣告、看起來很危險、好像有埋病毒的那種線上下載網站。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"安裝","depth":2,"text":"安裝"},{"id":"使用","depth":2,"text":"使用","children":[{"id":"下載播放清單","depth":3,"text":"下載播放清單"},{"id":"不只支援-youtube","depth":3,"text":"不只支援 Youtube"}]}]}},"_type":"markdown","_id":"content:articles:2023:fedora_youtube_download.md","_source":"content","_file":"articles/2023/fedora_youtube_download.md","_extension":"md","createdAt":"2023-08-07T05:13:48.000Z","updatedAt":"2023-10-17T09:54:19.000Z","slug":"fedora_youtube_download","plainTexts":["之前在 Fedora 中我都是使用","clipgrab","下載 Youtube 影片，最近發現套件庫中多了一個叫做 video-downloader 的軟體就載來試用了一下，覺得比起 clipgrab 簡潔許多，而且界面也跟 GNOME 風格一致，就轉去使用它了。","安裝","可以透過官方套件庫安裝或是 Flathub：","# 透過官方套件庫安裝","sudo","dnf","install","video-downloader","# 或透過Flathub安裝","flatpak","install","flathub","com.github.unrud.VideoDownloader","使用","雖然目前還沒有正體漢語界面，但整體非常簡潔只有兩個頁籤：Audio 跟 Video。Audio 頁籤可以把 Youtube 影片直接轉成 MP3（無法選擇格式或位元速率），Video 頁籤就是下載影片，很直觀。","video-downloader 的預設下載路徑是","家目錄/下載/VideoDownloader","，可以從設定值中修改（右上角三個點）。","下載播放清單","video-downloader 可以直接下載整個 Youtube 播放清單，只是若清單中影片越多，需要的解析時間也會越長，這部份就要稍微耐心等待一下。","不只支援 Youtube","video-downloader 是建立在","yt-dlp","專案之上，因此 yt-dlp 支援的網站都可以透過 video-downloader 下載，包含像是 bilibili、twitter、facebook……等較有名的社群網站，甚至還支援部份的謎片網站，功能強大。","詳細的支援網站清單請參考：","Supported sites","。","大概就是這樣，本來我是使用來下載 Youtube 而已，後來發現 video-downloader 也能下載其他網站的影片覺得很驚訝。不然之前都會用那種一堆廣告、看起來很危險、好像有埋病毒的那種線上下載網站。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/fedora_zram_resize","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"調整Fedora中的ZRAM大小","description":"這篇是在 Fedora 環境中編譯 LineageOS時，嘗試複製在 Ubuntu 中可透過增加 SWAP 來補足記憶體不足的作法。後來發現即便把 ZRAM 增大也會編譯失敗，就很乾脆擴充實體 RAM，本篇就當個紀錄這樣。","img":"924/Rj6CAF.jpg","tags":["fedora","zram"],"category":"linux","readingTime":{"text":"2 min read","minutes":1.23,"time":73800,"words":246},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這篇是"},{"type":"element","tag":"article-inner-link","props":{"slug":"fedora_lineageos_sargo"},"children":[{"type":"text","value":"在 Fedora 環境中編譯 LineageOS"}]},{"type":"text","value":"時，嘗試複製在 Ubuntu 中可透過增加 SWAP 來補足記憶體不足的作法。後來發現即便把 ZRAM 增大也會編譯失敗，就很乾脆擴充實體 RAM，本篇就當個紀錄這樣。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這篇是"},{"type":"element","tag":"article-inner-link","props":{"slug":"fedora_lineageos_sargo"},"children":[{"type":"text","value":"在 Fedora 環境中編譯 LineageOS"}]},{"type":"text","value":"時，嘗試複製在 Ubuntu 中可透過增加 SWAP 來補足記憶體不足的作法。後來發現即便把 ZRAM 增大也會編譯失敗，就很乾脆擴充實體 RAM，本篇就當個紀錄這樣。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 首先檢查一下目前的ZRAM大小\nswapon\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 首先檢查一下目前的ZRAM大小\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"swapon\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 會看到這樣子的輸出，可以看到SIZE是8GB。\nNAME       TYPE      SIZE  USED PRIO\n/dev/zram0 partition   8G 15.8M  100\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 會看到這樣子的輸出，可以看到SIZE是8GB。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"NAME"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"       TYPE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"      SIZE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"  USED"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" PRIO\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"/dev/zram0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" partition"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"   8G"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 15.8M"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  100\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 透過管理權限使用文字編輯器開啟設定檔\nsudo gedit /usr/lib/systemd/zram-generator.conf\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 透過管理權限使用文字編輯器開啟設定檔\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gedit"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /usr/lib/systemd/zram-generator.conf\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"開啟這個檔案後，會看到如下的設定："}]},{"type":"element","tag":"pre","props":{"className":"language-ini shiki shiki-themes github-dark","code":"# This config file enables a /dev/zram0 device with the default settings:\n# — size — same as available RAM or 8GB, whichever is less\n# — compression — most likely lzo-rle\n#\n# To disable, uninstall zram-generator-defaults or create empty\n# /etc/systemd/zram-generator.conf file.\n[zram0]\nzram-size = min(ram, 8192)\n","filename":"zram-generator.conf","language":"ini","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# This config file enables a /dev/zram0 device with the default settings:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# — size — same as available RAM or 8GB, whichever is less\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# — compression — most likely lzo-rle\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"#\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# To disable, uninstall zram-generator-defaults or create empty\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"# /etc/systemd/zram-generator.conf file.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"[zram0]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"zram-size = min(ram, 8192)\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"把"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"min(ram, 8192)"}]},{"type":"text","value":"改為 16384(16GB)就可以了，改完存檔後重啟。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 檢查一下調整後的大小\nswapon\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 檢查一下調整後的大小\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"swapon\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# SIZE變成16GB就對囉\nNAME       TYPE      SIZE USED PRIO\n/dev/zram0 partition  16G   0B  100\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# SIZE變成16GB就對囉\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"NAME"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"       TYPE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"      SIZE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" USED"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" PRIO\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"/dev/zram0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" partition"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"  16G"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"   0B"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  100\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"參考文獻"},"children":[{"type":"text","value":"參考文獻"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/systemd/zram-generator","rel":["nofollow"]},"children":[{"type":"text","value":"zram-generator"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/systemd/zram-generator/blob/main/zram-generator.conf.example","rel":["nofollow"]},"children":[{"type":"text","value":"zram-generator.conf.example"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://fedoraproject.org/wiki/Changes/Scale_ZRAM_to_full_memory_size","rel":["nofollow"]},"children":[{"type":"text","value":"Changes/Scale ZRAM to full memory size"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"參考文獻","depth":2,"text":"參考文獻"}]}},"_type":"markdown","_id":"content:articles:2023:fedora_zram_resize.md","_source":"content","_file":"articles/2023/fedora_zram_resize.md","_extension":"md","createdAt":"2023-04-08T08:01:46.000Z","updatedAt":"2024-01-24T07:26:04.000Z","slug":"fedora_zram_resize","plainTexts":["這篇是","在 Fedora 環境中編譯 LineageOS","時，嘗試複製在 Ubuntu 中可透過增加 SWAP 來補足記憶體不足的作法。後來發現即便把 ZRAM 增大也會編譯失敗，就很乾脆擴充實體 RAM，本篇就當個紀錄這樣。","# 首先檢查一下目前的ZRAM大小","swapon","# 會看到這樣子的輸出，可以看到SIZE是8GB。","NAME","TYPE","SIZE","USED","PRIO","/dev/zram0","partition","8G","15.8M","100","# 透過管理權限使用文字編輯器開啟設定檔","sudo","gedit","/usr/lib/systemd/zram-generator.conf","開啟這個檔案後，會看到如下的設定：","# This config file enables a /dev/zram0 device with the default settings:","# — size — same as available RAM or 8GB, whichever is less","# — compression — most likely lzo-rle","#","# To disable, uninstall zram-generator-defaults or create empty","# /etc/systemd/zram-generator.conf file.","[zram0]","zram-size = min(ram, 8192)","把","min(ram, 8192)","改為 16384(16GB)就可以了，改完存檔後重啟。","# 檢查一下調整後的大小","swapon","# SIZE變成16GB就對囉","NAME","TYPE","SIZE","USED","PRIO","/dev/zram0","partition","16G","0B","100","參考文獻","zram-generator","zram-generator.conf.example","Changes/Scale ZRAM to full memory size","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/free_diving_seeing_friend_black_out_first_time","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"寫在第一次目睹潛友淺水昏迷之後","description":"推薦我去上 AIDA 2 課的朋友們因為跟我一樣都是沒上課時考過的好潛友（誤），於是乎這個夏天周末幾乎是沒有一周不去練習自潛的，不過在上周末的時候發生了一個意外，當時衝擊實在很大，這幾天情緒平復之後想紀錄一下。","img":"923/ELgOAu.jpg","tags":["自由潛水","潛水"],"category":"life","readingTime":{"text":"15 min read","minutes":14.7,"time":882000,"words":2940},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"推薦我去上 AIDA 2 課的朋友們因為跟我一樣都是沒上課時考過的好潛友（誤），於是乎這個夏天周末幾乎是沒有一周不去練習自潛的，不過在上周末的時候發生了一個意外，當時衝擊實在很大，這幾天情緒平復之後想紀錄一下。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"推薦我去上 AIDA 2 課的朋友們因為跟我一樣都是沒上課時考過的好潛友（誤），於是乎這個夏天周末幾乎是沒有一周不去練習自潛的，不過在上周末的時候發生了一個意外，當時衝擊實在很大，這幾天情緒平復之後想紀錄一下。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"什麼是淺水昏迷"},"children":[{"type":"text","value":"什麼是淺水昏迷"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"根據維基百科："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Shallow-water blackout"}]},{"type":"text","value":" refers to loss of consciousness due to hypoxia during a dive associated with a shallow depth in differing causative circumstances."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"個人亂翻譯："},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"淺水昏迷"}]},{"type":"text","value":"是指在不同的原因下，於潛水過程中因缺氧而失去知覺。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"對照上課時教練的講述，因為在閉氣下潛時，我們血液中的氧濃度就不斷下降。但在下潛又上升的過程中因為水壓的劇烈變化，我們身體的氧濃度會瞬間下降，如果本來的濃度其實就已經很低，這個下降程度低過了大腦運作的最低門檻，就會昏迷。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"事情經過"},"children":[{"type":"text","value":"事情經過"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那天的事件過程是這樣的：因為那天綁浮球時不慎綁到一個看似固定但其實會浮動的類似金屬物，幾次下潛後發現金屬物已經飄到卡在一個不會著地的地方，而且附近有很漂亮的海扇，在擔心浮球會隨著海流漂移以及傷害到海扇後，當時同行程度最好也是唯一有考過 AIDA 2 證照的潛友，決定將其鬆開重綁在比較淺的地方（這次的浮球也是他綁的）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那時候是由我作為潛伴一起跟隨下去戒護，在他下潛幾公尺後我隨即跟隨下潛，在還沒著地時看到他已經拆掉繩子準備上升，所以我也停止下潛準備上升。直到要出水面前都在眼角餘光中看到他踢著蛙鞋上升，但在我出水面作了幾次恢復呼吸後發現他沒有出水面，所以我就停止恢復呼吸把頭低到水面下去看一下。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然後就發現他眼神渙散直視前方，並不斷吐氣。沒錯，他 BO（Black out, 昏迷）了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當下腦中一片空白，立刻游過去將他抬出水面並往浮球拉。在其他潛友想要一起幫助將他抬上浮球的一陣慌亂中他就清醒了，過程大約十幾秒。在他咳了幾口痰之後請他恢復呼吸，確認狀況 OK 之後，就由另一位潛友撐著他與浮球，慢慢游上岸了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"事後討論為何會昏迷"},"children":[{"type":"text","value":"事後討論為何會昏迷"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在上岸之後，餘悸猶存的我們作了事件後的討論會議，並檢討剛才事件的經過。這裡也要感謝教練在上課時就已經建立起這樣的模式：每次潛水後都固定坐下來討論剛剛整個潛水的過程。"}]},{"type":"element","tag":"h3","props":{"id":"昏迷潛友的感受"},"children":[{"type":"text","value":"昏迷潛友的感受"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我們詢問他在上升過程中有怎樣的感受，他說他在快接近水面時看著水面覺得水好清澈，下一秒的記憶就已經是在浮球上了。也就是說他完全沒有意識到自己要昏迷了，這也跟上課時說的一樣，即將要昏迷的人，除了感覺到很舒服之外其實不會有其他徵兆。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以落實潛伴制度，並隨時保持警覺真的非常重要。當天其實有同行潛友在下潛前沒有告知其他潛友幫忙看，都是在聽到入水的聲音後才趕快指派人幫忙戒護。"}]},{"type":"element","tag":"h3","props":{"id":"其他潛友的想法"},"children":[{"type":"text","value":"其他潛友的想法"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我們在試著理清為何他會昏迷時，有發現幾個可能的因素："}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"身體勞累"}]},{"type":"text","value":"：前一天非常晚睡，約凌晨一點；而又在隔天潛水時很早起床，約早上七點。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"距離上次潛水較久"}]},{"type":"text","value":"：因為天氣的因素，我們大概有快要三周沒有潛水。需要時間再適應水性可能也是一個因素。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"因為壓力而緊張"}]},{"type":"text","value":"：因為他是程度最好的人，每次出團也幾乎是寄託他綁繩。但這次我們準備綁繩的地方其實有點深，他在第一次下潛嘗試綁繩時沒有到底就上來了，然後有說他覺得自己看不到底，有點緊張。後來幾次下潛都覺得他滿緊張的，當時的他應該就開始累積緊張的情緒，而緊張會增加耗氧量。我們沒有及時察覺讓他到淺一點的地方綁也是因素之一。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"勉強下潛"}]},{"type":"text","value":"：事後查看影片，有發現他在上升時會在水面前就會想吐掉氣，他也有自承說覺得快沒氣。後來想想，這其實是下潛深度有點超越他極限的表徵之一。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"準備不完全"}]},{"type":"text","value":"：後來有發現他每次下潛前的準備呼吸與放鬆時間似乎都很短，我們自己覺得他在這個階段可能沒有作完全準備就下潛了。"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"發現昏迷時的處理過程檢討"},"children":[{"type":"text","value":"發現昏迷時的處理過程檢討"}]},{"type":"element","tag":"h3","props":{"id":"第一時間的警覺"},"children":[{"type":"text","value":"第一時間的警覺"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"即時發現了這件事情並進行處理，讓他在很短的時間內就恢復意識，算是這次不幸事件處理過程中的大幸。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當時我看到他沒有出水面時，其實第一個想法是以為他是不是在看水中的什麼東西，但後來想想根本不可能，因為在下潛那麼久之後一定會很急著要回到水面呼吸。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也覺得我們很棒，有落實潛伴制度！"}]},{"type":"element","tag":"h3","props":{"id":"處理時的慌亂"},"children":[{"type":"text","value":"處理時的慌亂"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於我們整團四個人都沒有遇過這個情況，所以在當下也沒有任何剩餘的認知資源要去執行上課所教學的救援步驟。我在看到他昏迷時，腦中只能維持「不要再讓他沉到水中」、「找個可以浮的東西把他撐住」這種基本的概念而已，我現在甚至不記得我是怎麼把他抬出水面並往浮球拉的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在把他的頭部稍微固定到浮球的過程中，是由另一位潛友移除了他的面鏡（我完全忘記要移除面鏡）。在慌亂的時候，人類真的幾乎只能依據本能行動。將救援步驟練習到近乎本能，我想也是另一個課題。而在把他抬上浮球的過程中，我甚至不小心壓到他的脖子，他清醒後第一句話就是「有人壓到我的脖子」，這其實也非常危險。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而且後來想想，其實不用把他整個人抬到浮球上，以生理男性的體重來說真的很難抬。在上課教學的救援步驟中，其實也只有保持被救援者的面部是在水面上而已。"}]},{"type":"element","tag":"h3","props":{"id":"不准再下水"},"children":[{"type":"text","value":"不准再下水！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那一天因為是要讓沒有考過證照的人練習下潛，可能是害怕自己耽誤到其他人，他上岸後一直希望其他人可以下水，甚至還提出他自己覺得 OK 可以再一起下水的建議。當然完全被我們否決，BO 的人當天不准再下水也是自由潛水的鐵則之一。"}]},{"type":"element","tag":"h3","props":{"id":"事件後的醫院檢查"},"children":[{"type":"text","value":"事件後的醫院檢查"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然很快清醒，但由於上岸後他有出現食慾下降甚至輕微發燒的狀況，擔心他是不是有嗆到水或甚至受到感染，有請他的潛友伴侶陪同去醫院檢查，所幸檢查出來都沒事，這幾天身體也已恢復正常。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"我個人的情緒處理"},"children":[{"type":"text","value":"我個人的情緒處理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在我們順利上岸之後，我的身體才開始一直發抖，並不斷用雙手去碰觸坐在岸上休息的潛友肩膀，想確認他真的在。然後一直到現在只要想到潛友昏迷的畫面，我就覺得很恐懼、頭皮發麻。我在這之前真的完全沒有看過人類昏迷的樣子或是以類似那樣的狀態存在過，那種兩眼無神直視前方的樣子真的非常嚇人，再加上海水會讓整個人變得很陰藍，我想我應該這一生都會記得那一幕。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我觀察其他人似乎都很快就由事件的餘波中恢復過來，但我那天只要被問起早上去潛水的事，就會想到那個畫面，身體會不由自主顫抖並心跳加快、呼吸急促。可能是因為只有我看到那個畫面吧，已經是類似有點 PTSD 的狀況了。因為大學是念心理學，也有自我覺察到情緒狀況，有試著透過重述或是其他方式讓自己鎮靜與放鬆下來。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"後來晚上因為實在受不了，就試著在臉書上用文字把事件經過記錄下來當作發洩，也感謝很多朋友的鼓勵，當時真的滿消沉的，覺得為什麼自己完全把上課教的救援方式完全拋到腦後，好廢啊、好弱什麼的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但這幾天沉澱下來之後，我試著告訴自己：即便如此令人無法直視，這確實也是自由潛水的一部分。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自由潛水很棒，它不需要太多的裝備，可以專注於欣賞眼前的海中美景、可以用輕鬆的方式與魚兒共游，但伴隨而來的就是風險與責任。憋氣的不舒服以及隨時對自身的身心覺察，都是負擔這份「自由」必要的代價。只要繼續進行自由潛水，總有一天我就會遇見這樣子的事件，甚至是自己成為需要被救助的人。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"落實潛伴制度並保守地自潛"},"children":[{"type":"text","value":"落實潛伴制度並保守地自潛"}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"永遠不要超出你的極限，有一個簡單的檢查方法：如果你感到壓力或逐漸增加的恐慌感覺，那麼你已經超出了你的極限。在這種情況下，你不應該潛水。如果已經在水下，立刻中止你的嘗試，回到你的放鬆練習，直到你準備好，或改變你的潛水的目標。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Oli Christen (2018)，AIDA 2 手冊繁體中文版 v1.02.00（賀立宇譯），P. 71。AIDA International。"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在上課的時候不知為何我對教材寫的「保守地自潛」一直很有共鳴，每次出團時我都會稍微有點神經質。會對蛙鞋踢水入水的聲音很敏感，聽到聲音會立刻說「誰誰誰下去了，有人幫他看嗎？」；在大家覺得綁不夠深的時候，我就會覺得已經很深了啊。之類的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"只能說真的遇到事情時才發現潛伴制度真的非常重要，意外的發生完全就是一瞬間的。狹義來說，入水前確定有程度相當的潛伴戒護、不挑戰自己極限、保守地進行自潛活動、作好放鬆與準備呼吸，都能盡量避免意外發生；廣義來說，平常對自己身體的照顧、甚至是規律的作息與良好飲食，也多少能有幫助。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在大海的面前我們是如此渺小與脆弱，身體是脆弱的、心靈也是。但正因為如此渺小與脆弱，人類才需要守望著彼此、互相照顧著，也是因為如此人類才能走到今天。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"什麼是淺水昏迷","depth":2,"text":"什麼是淺水昏迷"},{"id":"事情經過","depth":2,"text":"事情經過"},{"id":"事後討論為何會昏迷","depth":2,"text":"事後討論為何會昏迷","children":[{"id":"昏迷潛友的感受","depth":3,"text":"昏迷潛友的感受"},{"id":"其他潛友的想法","depth":3,"text":"其他潛友的想法"}]},{"id":"發現昏迷時的處理過程檢討","depth":2,"text":"發現昏迷時的處理過程檢討","children":[{"id":"第一時間的警覺","depth":3,"text":"第一時間的警覺"},{"id":"處理時的慌亂","depth":3,"text":"處理時的慌亂"},{"id":"不准再下水","depth":3,"text":"不准再下水！"},{"id":"事件後的醫院檢查","depth":3,"text":"事件後的醫院檢查"}]},{"id":"我個人的情緒處理","depth":2,"text":"我個人的情緒處理"},{"id":"落實潛伴制度並保守地自潛","depth":2,"text":"落實潛伴制度並保守地自潛"}]}},"_type":"markdown","_id":"content:articles:2023:free_diving_seeing_friend_black_out_first_time.md","_source":"content","_file":"articles/2023/free_diving_seeing_friend_black_out_first_time.md","_extension":"md","createdAt":"2023-10-25T09:56:52.000Z","updatedAt":"2023-10-25T09:56:52.000Z","slug":"free_diving_seeing_friend_black_out_first_time","plainTexts":["推薦我去上 AIDA 2 課的朋友們因為跟我一樣都是沒上課時考過的好潛友（誤），於是乎這個夏天周末幾乎是沒有一周不去練習自潛的，不過在上周末的時候發生了一個意外，當時衝擊實在很大，這幾天情緒平復之後想紀錄一下。","什麼是淺水昏迷","根據維基百科：","Shallow-water blackout","refers to loss of consciousness due to hypoxia during a dive associated with a shallow depth in differing causative circumstances.","個人亂翻譯：","淺水昏迷","是指在不同的原因下，於潛水過程中因缺氧而失去知覺。","對照上課時教練的講述，因為在閉氣下潛時，我們血液中的氧濃度就不斷下降。但在下潛又上升的過程中因為水壓的劇烈變化，我們身體的氧濃度會瞬間下降，如果本來的濃度其實就已經很低，這個下降程度低過了大腦運作的最低門檻，就會昏迷。","事情經過","那天的事件過程是這樣的：因為那天綁浮球時不慎綁到一個看似固定但其實會浮動的類似金屬物，幾次下潛後發現金屬物已經飄到卡在一個不會著地的地方，而且附近有很漂亮的海扇，在擔心浮球會隨著海流漂移以及傷害到海扇後，當時同行程度最好也是唯一有考過 AIDA 2 證照的潛友，決定將其鬆開重綁在比較淺的地方（這次的浮球也是他綁的）。","那時候是由我作為潛伴一起跟隨下去戒護，在他下潛幾公尺後我隨即跟隨下潛，在還沒著地時看到他已經拆掉繩子準備上升，所以我也停止下潛準備上升。直到要出水面前都在眼角餘光中看到他踢著蛙鞋上升，但在我出水面作了幾次恢復呼吸後發現他沒有出水面，所以我就停止恢復呼吸把頭低到水面下去看一下。","然後就發現他眼神渙散直視前方，並不斷吐氣。沒錯，他 BO（Black out, 昏迷）了。","當下腦中一片空白，立刻游過去將他抬出水面並往浮球拉。在其他潛友想要一起幫助將他抬上浮球的一陣慌亂中他就清醒了，過程大約十幾秒。在他咳了幾口痰之後請他恢復呼吸，確認狀況 OK 之後，就由另一位潛友撐著他與浮球，慢慢游上岸了。","事後討論為何會昏迷","在上岸之後，餘悸猶存的我們作了事件後的討論會議，並檢討剛才事件的經過。這裡也要感謝教練在上課時就已經建立起這樣的模式：每次潛水後都固定坐下來討論剛剛整個潛水的過程。","昏迷潛友的感受","我們詢問他在上升過程中有怎樣的感受，他說他在快接近水面時看著水面覺得水好清澈，下一秒的記憶就已經是在浮球上了。也就是說他完全沒有意識到自己要昏迷了，這也跟上課時說的一樣，即將要昏迷的人，除了感覺到很舒服之外其實不會有其他徵兆。","所以落實潛伴制度，並隨時保持警覺真的非常重要。當天其實有同行潛友在下潛前沒有告知其他潛友幫忙看，都是在聽到入水的聲音後才趕快指派人幫忙戒護。","其他潛友的想法","我們在試著理清為何他會昏迷時，有發現幾個可能的因素：","身體勞累","：前一天非常晚睡，約凌晨一點；而又在隔天潛水時很早起床，約早上七點。","距離上次潛水較久","：因為天氣的因素，我們大概有快要三周沒有潛水。需要時間再適應水性可能也是一個因素。","因為壓力而緊張","：因為他是程度最好的人，每次出團也幾乎是寄託他綁繩。但這次我們準備綁繩的地方其實有點深，他在第一次下潛嘗試綁繩時沒有到底就上來了，然後有說他覺得自己看不到底，有點緊張。後來幾次下潛都覺得他滿緊張的，當時的他應該就開始累積緊張的情緒，而緊張會增加耗氧量。我們沒有及時察覺讓他到淺一點的地方綁也是因素之一。","勉強下潛","：事後查看影片，有發現他在上升時會在水面前就會想吐掉氣，他也有自承說覺得快沒氣。後來想想，這其實是下潛深度有點超越他極限的表徵之一。","準備不完全","：後來有發現他每次下潛前的準備呼吸與放鬆時間似乎都很短，我們自己覺得他在這個階段可能沒有作完全準備就下潛了。","發現昏迷時的處理過程檢討","第一時間的警覺","即時發現了這件事情並進行處理，讓他在很短的時間內就恢復意識，算是這次不幸事件處理過程中的大幸。","當時我看到他沒有出水面時，其實第一個想法是以為他是不是在看水中的什麼東西，但後來想想根本不可能，因為在下潛那麼久之後一定會很急著要回到水面呼吸。","也覺得我們很棒，有落實潛伴制度！","處理時的慌亂","由於我們整團四個人都沒有遇過這個情況，所以在當下也沒有任何剩餘的認知資源要去執行上課所教學的救援步驟。我在看到他昏迷時，腦中只能維持「不要再讓他沉到水中」、「找個可以浮的東西把他撐住」這種基本的概念而已，我現在甚至不記得我是怎麼把他抬出水面並往浮球拉的。","在把他的頭部稍微固定到浮球的過程中，是由另一位潛友移除了他的面鏡（我完全忘記要移除面鏡）。在慌亂的時候，人類真的幾乎只能依據本能行動。將救援步驟練習到近乎本能，我想也是另一個課題。而在把他抬上浮球的過程中，我甚至不小心壓到他的脖子，他清醒後第一句話就是「有人壓到我的脖子」，這其實也非常危險。","而且後來想想，其實不用把他整個人抬到浮球上，以生理男性的體重來說真的很難抬。在上課教學的救援步驟中，其實也只有保持被救援者的面部是在水面上而已。","不准再下水！","那一天因為是要讓沒有考過證照的人練習下潛，可能是害怕自己耽誤到其他人，他上岸後一直希望其他人可以下水，甚至還提出他自己覺得 OK 可以再一起下水的建議。當然完全被我們否決，BO 的人當天不准再下水也是自由潛水的鐵則之一。","事件後的醫院檢查","雖然很快清醒，但由於上岸後他有出現食慾下降甚至輕微發燒的狀況，擔心他是不是有嗆到水或甚至受到感染，有請他的潛友伴侶陪同去醫院檢查，所幸檢查出來都沒事，這幾天身體也已恢復正常。","我個人的情緒處理","在我們順利上岸之後，我的身體才開始一直發抖，並不斷用雙手去碰觸坐在岸上休息的潛友肩膀，想確認他真的在。然後一直到現在只要想到潛友昏迷的畫面，我就覺得很恐懼、頭皮發麻。我在這之前真的完全沒有看過人類昏迷的樣子或是以類似那樣的狀態存在過，那種兩眼無神直視前方的樣子真的非常嚇人，再加上海水會讓整個人變得很陰藍，我想我應該這一生都會記得那一幕。","我觀察其他人似乎都很快就由事件的餘波中恢復過來，但我那天只要被問起早上去潛水的事，就會想到那個畫面，身體會不由自主顫抖並心跳加快、呼吸急促。可能是因為只有我看到那個畫面吧，已經是類似有點 PTSD 的狀況了。因為大學是念心理學，也有自我覺察到情緒狀況，有試著透過重述或是其他方式讓自己鎮靜與放鬆下來。","後來晚上因為實在受不了，就試著在臉書上用文字把事件經過記錄下來當作發洩，也感謝很多朋友的鼓勵，當時真的滿消沉的，覺得為什麼自己完全把上課教的救援方式完全拋到腦後，好廢啊、好弱什麼的。","但這幾天沉澱下來之後，我試著告訴自己：即便如此令人無法直視，這確實也是自由潛水的一部分。","自由潛水很棒，它不需要太多的裝備，可以專注於欣賞眼前的海中美景、可以用輕鬆的方式與魚兒共游，但伴隨而來的就是風險與責任。憋氣的不舒服以及隨時對自身的身心覺察，都是負擔這份「自由」必要的代價。只要繼續進行自由潛水，總有一天我就會遇見這樣子的事件，甚至是自己成為需要被救助的人。","落實潛伴制度並保守地自潛","永遠不要超出你的極限，有一個簡單的檢查方法：如果你感到壓力或逐漸增加的恐慌感覺，那麼你已經超出了你的極限。在這種情況下，你不應該潛水。如果已經在水下，立刻中止你的嘗試，回到你的放鬆練習，直到你準備好，或改變你的潛水的目標。","Oli Christen (2018)，AIDA 2 手冊繁體中文版 v1.02.00（賀立宇譯），P. 71。AIDA International。","在上課的時候不知為何我對教材寫的「保守地自潛」一直很有共鳴，每次出團時我都會稍微有點神經質。會對蛙鞋踢水入水的聲音很敏感，聽到聲音會立刻說「誰誰誰下去了，有人幫他看嗎？」；在大家覺得綁不夠深的時候，我就會覺得已經很深了啊。之類的。","只能說真的遇到事情時才發現潛伴制度真的非常重要，意外的發生完全就是一瞬間的。狹義來說，入水前確定有程度相當的潛伴戒護、不挑戰自己極限、保守地進行自潛活動、作好放鬆與準備呼吸，都能盡量避免意外發生；廣義來說，平常對自己身體的照顧、甚至是規律的作息與良好飲食，也多少能有幫助。","在大海的面前我們是如此渺小與脆弱，身體是脆弱的、心靈也是。但正因為如此渺小與脆弱，人類才需要守望著彼此、互相照顧著，也是因為如此人類才能走到今天。"]},{"_path":"/articles/2023/linux_ten_years_experience","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"哪些人適合嘗試Linux發行版？｜Linux發行版十年使用心得","description":"想想自己從大學開始到現在，從接觸 Fedora，到桌機是 Windows 而不常用的筆電改用 Fedora，到前幾年連桌機都換成 Fedora 並正式擺脫 Windows；過程中也見證了 Linux 各家發行版的 GUI，是如何地變得成熟而到達能開箱即用的地步，甚至如今已經可以透過 Steam 無痛地玩許多遊戲，實是感觸良多。","img":"924/zSc9p4.jpg","tags":["linux","Windows"],"category":"linux","readingTime":{"text":"12 min read","minutes":11.675,"time":700500,"words":2335},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"想想自己從大學開始到現在，從接觸 Fedora，到桌機是 Windows 而不常用的筆電改用 Fedora，到前幾年連桌機都換成 Fedora 並正式擺脫 Windows；過程中也見證了 Linux 各家發行版的 GUI，是如何地變得成熟而到達能開箱即用的地步，甚至如今已經可以透過 Steam 無痛地玩許多遊戲，實是感觸良多。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"想想自己從大學開始到現在，從接觸 Fedora，到桌機是 Windows 而不常用的筆電改用 Fedora，到前幾年連桌機都換成 Fedora 並正式擺脫 Windows；過程中也見證了 Linux 各家發行版的 GUI，是如何地變得成熟而到達能開箱即用的地步，甚至如今已經可以透過 Steam 無痛地玩許多遊戲，實是感觸良多。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"於是想用幾篇文章記錄一下這十年使用的心得，並以自己的角度出發，試著提出建議給有意願擺脫 Windows 束縛，曾經想過轉移至 Linux 的朋友。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"什麼是-linux發行版又是什麼"},"children":[{"type":"text","value":"什麼是 Linux？發行版又是什麼？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那麼在一切開始之前，免不了要介紹 Linux 本身與發行版的差異（雖然我覺得以一般使用者的角度來說只需要認識發行版就夠了）。"}]},{"type":"element","tag":"h3","props":{"id":"linux"},"children":[{"type":"text","value":"Linux"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"簡言之，可以想像成 Linux 是核心功能，發行版本則是基於這個核心功能經由不同包裝後產生的作業系統。概念有點類似 Android，不同家公司的 Android 手機雖然核心系統都是 Android，但卻因為是各自的包裝與修改、加入自家 APP 或是調整 UI，產生了不同的樣貌。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://zh.m.wikipedia.org/zh-tw/Android","rel":["nofollow"]},"children":[{"type":"text","value":"Android 其實也是基於 Linux 製作出來的喔"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若對 Linux 的詳細介紹有興趣，網路已經有很多寫得更好的專文，在此就不獻醜。這邊引用幾個有公信力的文章來源："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://zh.m.wikipedia.org/zh-tw/Linux","rel":["nofollow"]},"children":[{"type":"text","value":"Linux - 維基百科，自由的百科全書 (wikipedia.org)"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://zh.m.wikipedia.org/zh-tw/Linux%E5%8F%91%E8%A1%8C%E7%89%88","rel":["nofollow"]},"children":[{"type":"text","value":"Linux 發行版 - 維基百科，自由的百科全書 (wikipedia.org)"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.redhat.com/zh-tw/topics/linux","rel":["nofollow"]},"children":[{"type":"text","value":"認識 Linux | Red Hat"}]}]}]},{"type":"element","tag":"h3","props":{"id":"發行版"},"children":[{"type":"text","value":"發行版"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沿用剛剛手機與 Android 的比喻，發行板就像是各家廠商在 Android 之上「加料」最後做出來的手機。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不同發行版會有自己的風格，如我自己在使用的 Fedora ，是 Red Hat 公司作為自家 Red Hat Enterprise Linux 的上游實驗場域存在，因此其中包含的軟體都會很新；"},{"type":"element","tag":"a","props":{"href":"https://ubuntu.com/download","rel":["nofollow"]},"children":[{"type":"text","value":"Ubuntu"}]},{"type":"text","value":" 則是追求開箱即用，因此在安裝過程中可以選擇預先許多媒體解碼器以及常用軟體，或是第三方的專有驅動程式（如 Nvidia）。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://distrowatch.com/","rel":["nofollow"]},"children":[{"type":"text","value":"想知道到底有多少發行版本可以看 DistroWatch 網站"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"與其他作業系統如-windowsmacos-的差異"},"children":[{"type":"text","value":"與其他作業系統如 Windows、macOS 的差異"}]},{"type":"element","tag":"h3","props":{"id":"free"},"children":[{"type":"text","value":"「Free」"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在我從 Windows 轉過來 Fedora 之後這段時間，我自己真切感受到 Linux 發行版與其他作業系統最大的差異就是「Free」。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個 Free 的淺層意義自然是免費——我知道很多 Linux 專家會想吐槽這點，但說真的與 Windows 比起來，這真的是讓我感受最深刻的一點——像是你換電腦完全不需要額外再買一套 Windows，或是去原價屋組電腦之後也不用額外再買 Windows，通常都可以省下幾千元。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而且，我覺得這個淺層意義在「不必被作業系統商強迫軟硬體結合」這件事情上（例如只能在 Apple 裝置上使用 OSX 或是限制你只能在特定裝置上安裝 Windows 11），也體現了「Free」的深層意義：自由。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這裡的自由意味著"},{"type":"element","tag":"a","props":{"href":"https://zh.m.wikipedia.org/wiki/%E8%87%AA%E7%94%B1%E5%8F%8A%E5%BC%80%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81%E8%BD%AF%E4%BB%B6","rel":["nofollow"]},"children":[{"type":"text","value":"程式碼是公開且可以被自由修改、散佈而無須任何人同意"}]},{"type":"text","value":"，雖然這層意義對於普通的使用者來說可能沒有特別的感覺，但這正是 Linux 發行版可以如此開枝散葉、豐富多元的原因。"}]},{"type":"element","tag":"h3","props":{"id":"自訂性高"},"children":[{"type":"text","value":"自訂性高"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於整個核心乃至系統是公開程式碼，有能力的人就會知道改了哪邊可以影響系統的樣貌，進而開發出工具讓更前端的使用者能夠去調整系統。因此 Linux 發行版的自訂性幾乎都很高，系統的顯示字體、圖案都可以改，桌面的配置方式也可以改，不喜歡視窗的縮小鍵？那就隱藏吧！想要視窗的關閉在左邊？那就改掉吧！"}]},{"type":"element","tag":"h3","props":{"id":"只有社群沒有客服"},"children":[{"type":"text","value":"只有社群沒有客服"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大部分的發行版因為沒有營利也不需要授權就能安裝使用，所以也不會像微軟或是蘋果那樣，會有個專門的客服部門給你問。取而代之的是社群、各種論壇與社團，遇到問題沒有客服信箱與電話，只能去網路上發問或查找。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但我覺得這一點其實也沒差很多，在網路發達的現在，誰不是遇到問題就先去問朋友或是丟 Google 查呢？"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"哪些人適合嘗試看看呢"},"children":[{"type":"text","value":"哪些人適合嘗試看看呢？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不同的人使用 Linux 發行版的過程中都有不同的感受，自己在使用 Fedora 的過程中也不是毫無問題，這邊分享自己的一些觀察與心得紀錄給大家參考。"}]},{"type":"element","tag":"h3","props":{"id":"可以用瀏覽器解決一切的人"},"children":[{"type":"text","value":"可以用瀏覽器解決一切的人"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在這個連 "},{"type":"element","tag":"a","props":{"href":"https://www.microsoft.com/zh-tw/microsoft-365/free-office-online-for-the-web","rel":["nofollow"]},"children":[{"type":"text","value":"M$ Office"}]},{"type":"text","value":" 都有線上版的時代，有很多公司都已經把自己的服務上到雲端，僅使用瀏覽器就能處理很多事情。如果你在日常生活中是個輕度電腦使用者，而且幾乎也都只有使用瀏覽器來完成想做的事情，那麼或許也能考慮轉用同樣可以安裝 Firefox、Chrome、甚至是 Edge……等瀏覽器的 Linux 發行版。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"像我平常用電腦就是收收信、看看 Youtube、聽聽 Spotify 而已，偶爾用 Steam 玩個遊戲這樣，在 Linux 發行版上這些事情都能做到。"}]},{"type":"element","tag":"h3","props":{"id":"喜歡自己探索未知領域與解決問題的人"},"children":[{"type":"text","value":"喜歡自己探索未知領域與解決問題的人"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"目前 Linux 發行版的介面已經非常成熟，但畢竟是不同系統，勢必都需要適應期，這期間遇到的問題幾乎都要靠自己上網查詢解決（除非剛好有認識會用的人），那麼有沒有自己解決問題的動力就很重要了。"}]},{"type":"element","tag":"h3","props":{"id":"能順暢閱讀英文的人或是使用-google-翻譯"},"children":[{"type":"text","value":"能順暢閱讀英文的人（或是使用 Google 翻譯）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"比較有名的 Linux 發行版都有很多漢語使用者，網路上也很多資源可以看，然而有時候遇到比較刁鑽或不常見的問題，搜尋英文還是比較快能獲得解答。"}]},{"type":"element","tag":"h3","props":{"id":"有多出來的閒置電腦或筆電的人"},"children":[{"type":"text","value":"有多出來的閒置電腦或筆電的人"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在其他系統上雖然可以透過虛擬電腦（如 Virtualbox）、或是製作 Live USB 試用，然而有些問題並不是短時間內試用就會發現，安裝雙系統則對於一般使用者來說門檻過高。所以如果有多出來閒置的電腦或筆電，直接整個重灌成 Linux 發行版然後試用幾個月，是最直接也是最好的方式。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"哪些人不適合呢"},"children":[{"type":"text","value":"哪些人不適合呢？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這邊列出幾個我認為轉移過去的關鍵痛點，這些痛點或許經過更複雜的步驟之後可以被解決，但畢竟要花費大量的時間與精力，大家可以自行斟酌看看。"}]},{"type":"element","tag":"h3","props":{"id":"付費軟體依賴者尤其是影音相關如-adobe"},"children":[{"type":"text","value":"付費軟體依賴者（尤其是影音相關如 Adobe）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於 Linux 消費者端的使用者市場小，付費軟體公司通常不會提供 Linux 發行版的安裝版本，常見的 Adobe 影音軟體就是其中一例。若你平常很常使用這些軟體，可能要先看一下官方是否原生支援安裝在 Linux 發行版，若不支援，考慮到轉移之後要在解決安裝問題上花費的時間成本，那麼繼續使用你現在的作業系統可能是比較好的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當然 Linux 的生態中，各種軟體幾乎都能找到類似的替代品，如 "},{"type":"element","tag":"a","props":{"href":"https://www.gimp.org/","rel":["nofollow"]},"children":[{"type":"text","value":"GIMP"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://inkscape.org/zh-hant/","rel":["nofollow"]},"children":[{"type":"text","value":"Inkscape"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://www.blender.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Blender"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://zh-tw.libreoffice.org/","rel":["nofollow"]},"children":[{"type":"text","value":"LibreOffice"}]},{"type":"text","value":"……等等，只是換用不同軟體的時間與學習成本也要考慮進去。"}]},{"type":"element","tag":"h3","props":{"id":"重度電腦遊戲玩家尤其是非-steam-使用者"},"children":[{"type":"text","value":"重度電腦遊戲玩家（尤其是非 Steam 使用者）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為 Valve 的努力，"},{"type":"element","tag":"a","props":{"href":"https://www.protondb.com/","rel":["nofollow"]},"children":[{"type":"text","value":"有許多 3A 遊戲大作已經能無痛透過 Steam 直接在 Linux 發行版上遊玩"}]},{"type":"text","value":"，但還是有遊戲不在相容範圍，若轉移過去發現 Steam 的收藏有大部分都不能玩的時候，心裡也會覺得很崩潰吧。至於不是 Steam 的玩家就不用考慮了，手動安裝 Windows 遊戲在 Linux 發行版裡面目前仍是一個高門檻事務。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"至於雲端遊戲串流服務（如 GeforceNow）要看各家廠商的支援程度，這部分我就不是很了解。"}]},{"type":"element","tag":"h3","props":{"id":"電腦版-line-依賴者"},"children":[{"type":"text","value":"電腦版 LINE 依賴者"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Linux 發行版中，可以"},{"type":"element","tag":"a","props":{"href":"https://chrome.google.com/webstore/detail/line/ophjlpahpchlmihnnnihgmmeilfjmjjc?hl=zh-TW","rel":["nofollow"]},"children":[{"type":"text","value":"透過 Chome 或 Chromium 的擴充套件使用 LINE"}]},{"type":"text","value":"，但只有基本功能，使用體驗無法等同桌機版的 LINE，若需要時常使用這些只有桌機版才有的 LINE 功能，就不建議轉用 Linux（但其實透過手機使用就好了）。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概就是這樣。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若真要說，我當然希望每個人都應該嘗試看看。畢竟 Linux 發行版是自由且（幾乎都）免費的，就算試了之後不喜歡，你隨時可以放棄。這篇文章只是提出一些建議，以及紀錄在我自己的使用心得來說，哪些人比較可以無痛嘗試、哪些人在轉用 Linux 發行版的時候可能會遇到更多困難。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"什麼是-linux發行版又是什麼","depth":2,"text":"什麼是 Linux？發行版又是什麼？","children":[{"id":"linux","depth":3,"text":"Linux"},{"id":"發行版","depth":3,"text":"發行版"}]},{"id":"與其他作業系統如-windowsmacos-的差異","depth":2,"text":"與其他作業系統如 Windows、macOS 的差異","children":[{"id":"free","depth":3,"text":"「Free」"},{"id":"自訂性高","depth":3,"text":"自訂性高"},{"id":"只有社群沒有客服","depth":3,"text":"只有社群沒有客服"}]},{"id":"哪些人適合嘗試看看呢","depth":2,"text":"哪些人適合嘗試看看呢？","children":[{"id":"可以用瀏覽器解決一切的人","depth":3,"text":"可以用瀏覽器解決一切的人"},{"id":"喜歡自己探索未知領域與解決問題的人","depth":3,"text":"喜歡自己探索未知領域與解決問題的人"},{"id":"能順暢閱讀英文的人或是使用-google-翻譯","depth":3,"text":"能順暢閱讀英文的人（或是使用 Google 翻譯）"},{"id":"有多出來的閒置電腦或筆電的人","depth":3,"text":"有多出來的閒置電腦或筆電的人"}]},{"id":"哪些人不適合呢","depth":2,"text":"哪些人不適合呢？","children":[{"id":"付費軟體依賴者尤其是影音相關如-adobe","depth":3,"text":"付費軟體依賴者（尤其是影音相關如 Adobe）"},{"id":"重度電腦遊戲玩家尤其是非-steam-使用者","depth":3,"text":"重度電腦遊戲玩家（尤其是非 Steam 使用者）"},{"id":"電腦版-line-依賴者","depth":3,"text":"電腦版 LINE 依賴者"}]},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:linux_ten_years_experience.md","_source":"content","_file":"articles/2023/linux_ten_years_experience.md","_extension":"md","createdAt":"2023-10-25T07:46:11.000Z","updatedAt":"2023-10-25T07:46:11.000Z","slug":"linux_ten_years_experience","plainTexts":["想想自己從大學開始到現在，從接觸 Fedora，到桌機是 Windows 而不常用的筆電改用 Fedora，到前幾年連桌機都換成 Fedora 並正式擺脫 Windows；過程中也見證了 Linux 各家發行版的 GUI，是如何地變得成熟而到達能開箱即用的地步，甚至如今已經可以透過 Steam 無痛地玩許多遊戲，實是感觸良多。","於是想用幾篇文章記錄一下這十年使用的心得，並以自己的角度出發，試著提出建議給有意願擺脫 Windows 束縛，曾經想過轉移至 Linux 的朋友。","什麼是 Linux？發行版又是什麼？","那麼在一切開始之前，免不了要介紹 Linux 本身與發行版的差異（雖然我覺得以一般使用者的角度來說只需要認識發行版就夠了）。","Linux","簡言之，可以想像成 Linux 是核心功能，發行版本則是基於這個核心功能經由不同包裝後產生的作業系統。概念有點類似 Android，不同家公司的 Android 手機雖然核心系統都是 Android，但卻因為是各自的包裝與修改、加入自家 APP 或是調整 UI，產生了不同的樣貌。","Android 其實也是基於 Linux 製作出來的喔","若對 Linux 的詳細介紹有興趣，網路已經有很多寫得更好的專文，在此就不獻醜。這邊引用幾個有公信力的文章來源：","Linux - 維基百科，自由的百科全書 (wikipedia.org)","Linux 發行版 - 維基百科，自由的百科全書 (wikipedia.org)","認識 Linux | Red Hat","發行版","沿用剛剛手機與 Android 的比喻，發行板就像是各家廠商在 Android 之上「加料」最後做出來的手機。","不同發行版會有自己的風格，如我自己在使用的 Fedora ，是 Red Hat 公司作為自家 Red Hat Enterprise Linux 的上游實驗場域存在，因此其中包含的軟體都會很新；","Ubuntu","則是追求開箱即用，因此在安裝過程中可以選擇預先許多媒體解碼器以及常用軟體，或是第三方的專有驅動程式（如 Nvidia）。","想知道到底有多少發行版本可以看 DistroWatch 網站","與其他作業系統如 Windows、macOS 的差異","「Free」","在我從 Windows 轉過來 Fedora 之後這段時間，我自己真切感受到 Linux 發行版與其他作業系統最大的差異就是「Free」。","這個 Free 的淺層意義自然是免費——我知道很多 Linux 專家會想吐槽這點，但說真的與 Windows 比起來，這真的是讓我感受最深刻的一點——像是你換電腦完全不需要額外再買一套 Windows，或是去原價屋組電腦之後也不用額外再買 Windows，通常都可以省下幾千元。","而且，我覺得這個淺層意義在「不必被作業系統商強迫軟硬體結合」這件事情上（例如只能在 Apple 裝置上使用 OSX 或是限制你只能在特定裝置上安裝 Windows 11），也體現了「Free」的深層意義：自由。","這裡的自由意味著","程式碼是公開且可以被自由修改、散佈而無須任何人同意","，雖然這層意義對於普通的使用者來說可能沒有特別的感覺，但這正是 Linux 發行版可以如此開枝散葉、豐富多元的原因。","自訂性高","由於整個核心乃至系統是公開程式碼，有能力的人就會知道改了哪邊可以影響系統的樣貌，進而開發出工具讓更前端的使用者能夠去調整系統。因此 Linux 發行版的自訂性幾乎都很高，系統的顯示字體、圖案都可以改，桌面的配置方式也可以改，不喜歡視窗的縮小鍵？那就隱藏吧！想要視窗的關閉在左邊？那就改掉吧！","只有社群沒有客服","大部分的發行版因為沒有營利也不需要授權就能安裝使用，所以也不會像微軟或是蘋果那樣，會有個專門的客服部門給你問。取而代之的是社群、各種論壇與社團，遇到問題沒有客服信箱與電話，只能去網路上發問或查找。","但我覺得這一點其實也沒差很多，在網路發達的現在，誰不是遇到問題就先去問朋友或是丟 Google 查呢？","哪些人適合嘗試看看呢？","不同的人使用 Linux 發行版的過程中都有不同的感受，自己在使用 Fedora 的過程中也不是毫無問題，這邊分享自己的一些觀察與心得紀錄給大家參考。","可以用瀏覽器解決一切的人","在這個連","M$ Office","都有線上版的時代，有很多公司都已經把自己的服務上到雲端，僅使用瀏覽器就能處理很多事情。如果你在日常生活中是個輕度電腦使用者，而且幾乎也都只有使用瀏覽器來完成想做的事情，那麼或許也能考慮轉用同樣可以安裝 Firefox、Chrome、甚至是 Edge……等瀏覽器的 Linux 發行版。","像我平常用電腦就是收收信、看看 Youtube、聽聽 Spotify 而已，偶爾用 Steam 玩個遊戲這樣，在 Linux 發行版上這些事情都能做到。","喜歡自己探索未知領域與解決問題的人","目前 Linux 發行版的介面已經非常成熟，但畢竟是不同系統，勢必都需要適應期，這期間遇到的問題幾乎都要靠自己上網查詢解決（除非剛好有認識會用的人），那麼有沒有自己解決問題的動力就很重要了。","能順暢閱讀英文的人（或是使用 Google 翻譯）","比較有名的 Linux 發行版都有很多漢語使用者，網路上也很多資源可以看，然而有時候遇到比較刁鑽或不常見的問題，搜尋英文還是比較快能獲得解答。","有多出來的閒置電腦或筆電的人","在其他系統上雖然可以透過虛擬電腦（如 Virtualbox）、或是製作 Live USB 試用，然而有些問題並不是短時間內試用就會發現，安裝雙系統則對於一般使用者來說門檻過高。所以如果有多出來閒置的電腦或筆電，直接整個重灌成 Linux 發行版然後試用幾個月，是最直接也是最好的方式。","哪些人不適合呢？","這邊列出幾個我認為轉移過去的關鍵痛點，這些痛點或許經過更複雜的步驟之後可以被解決，但畢竟要花費大量的時間與精力，大家可以自行斟酌看看。","付費軟體依賴者（尤其是影音相關如 Adobe）","由於 Linux 消費者端的使用者市場小，付費軟體公司通常不會提供 Linux 發行版的安裝版本，常見的 Adobe 影音軟體就是其中一例。若你平常很常使用這些軟體，可能要先看一下官方是否原生支援安裝在 Linux 發行版，若不支援，考慮到轉移之後要在解決安裝問題上花費的時間成本，那麼繼續使用你現在的作業系統可能是比較好的。","當然 Linux 的生態中，各種軟體幾乎都能找到類似的替代品，如","GIMP","、","Inkscape","、","Blender","、","LibreOffice","……等等，只是換用不同軟體的時間與學習成本也要考慮進去。","重度電腦遊戲玩家（尤其是非 Steam 使用者）","因為 Valve 的努力，","有許多 3A 遊戲大作已經能無痛透過 Steam 直接在 Linux 發行版上遊玩","，但還是有遊戲不在相容範圍，若轉移過去發現 Steam 的收藏有大部分都不能玩的時候，心裡也會覺得很崩潰吧。至於不是 Steam 的玩家就不用考慮了，手動安裝 Windows 遊戲在 Linux 發行版裡面目前仍是一個高門檻事務。","至於雲端遊戲串流服務（如 GeforceNow）要看各家廠商的支援程度，這部分我就不是很了解。","電腦版 LINE 依賴者","在 Linux 發行版中，可以","透過 Chome 或 Chromium 的擴充套件使用 LINE","，但只有基本功能，使用體驗無法等同桌機版的 LINE，若需要時常使用這些只有桌機版才有的 LINE 功能，就不建議轉用 Linux（但其實透過手機使用就好了）。","後記","大概就是這樣。","若真要說，我當然希望每個人都應該嘗試看看。畢竟 Linux 發行版是自由且（幾乎都）免費的，就算試了之後不喜歡，你隨時可以放棄。這篇文章只是提出一些建議，以及紀錄在我自己的使用心得來說，哪些人比較可以無痛嘗試、哪些人在轉用 Linux 發行版的時候可能會遇到更多困難。"]},{"_path":"/articles/2023/macbook_air_2013_fedora","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"在MacBook Air 2013上安裝Fedora 38","description":"日前從朋友那邊收到一台他塵封已久的 MacBook Air 2013，作為去沖繩幫他帶藥妝的回禮，沒想到平常極度排斥封閉環境的 Apple 產品的我，就這樣擁有了第一台萬惡的 Apple 裝置了。心想若灌成 Fedora 沒啥大問題，那似乎就這樣拿來當成個人筆電用也無不可，又環保（？）。","tags":["fedora","macbook air","apple","舊筆電復活"],"img":"922/4x6lR7.jpg","category":"linux","readingTime":{"text":"9 min read","minutes":8.3,"time":498000,"words":1660},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"日前從朋友那邊收到一台他塵封已久的 MacBook Air 2013，作為去沖繩幫他帶藥妝的回禮，沒想到平常極度排斥封閉環境的 Apple 產品的我，就這樣擁有了第一台萬惡的 Apple 裝置了。心想若灌成 Fedora 沒啥大問題，那似乎就這樣拿來當成個人筆電用也無不可，又環保（？）。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"日前從朋友那邊收到一台他塵封已久的 MacBook Air 2013，作為去沖繩幫他帶藥妝的回禮，沒想到平常極度排斥封閉環境的 Apple 產品的我，就這樣擁有了第一台萬惡的 Apple 裝置了。心想若灌成 Fedora 沒啥大問題，那似乎就這樣拿來當成個人筆電用也無不可，又環保（？）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上網做了一下功課之後，發現滿多前輩都做了類似的事情，只是大家灌的發行版本不同。過程中會面對三個問題："}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fedora 沒有原生支援 MacBook Air 2013 中 Wifi 的驅動程式"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Facetime HD 也需要額外動作去處理之後才能使用"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Macbook 溫度容易飆高的問題"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除了第 3.點比較複雜以外，步驟都不會太麻煩，以下開始。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"事前準備"},"children":[{"type":"text","value":"事前準備"}]},{"type":"element","tag":"h3","props":{"id":"fedora-安裝-usb"},"children":[{"type":"text","value":"Fedora 安裝 USB"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這就不用多說了吧。"}]},{"type":"element","tag":"h3","props":{"id":"製作-macbook-可開機磁碟"},"children":[{"type":"text","value":"製作 MacBook 可開機磁碟"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於我是打算整個重灌不保留原有的 macOS，日後若反悔或是想轉賣給別人，需要灌回 macOS。唯一可行的方式就是先製作好 MacBook 可開機磁碟，關於這部份可參考"},{"type":"element","tag":"a","props":{"href":"https://support.apple.com/zh-tw/HT201372","rel":["nofollow"]},"children":[{"type":"text","value":"官方文件"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h3","props":{"id":"暫時性的替代網路"},"children":[{"type":"text","value":"暫時性的替代網路"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在解決 Wifi 驅動程式的問題之前，必須要有其他手段讓 MacBook Air 連上網路來更新以及安裝正確的 Wifi 驅動程式，最簡單的方式就是透過"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"USB 無線網卡"}]},{"type":"text","value":"或是"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"手機進行 USB 網路共用"}]},{"type":"text","value":"，這邊附上"},{"type":"element","tag":"a","props":{"href":"https://support.google.com/android/answer/9059108?hl=zh-Hant","rel":["nofollow"]},"children":[{"type":"text","value":"Android"}]},{"type":"text","value":"以及"},{"type":"element","tag":"a","props":{"href":"https://support.apple.com/zh-tw/guide/iphone/iph45447ca6/ios","rel":["nofollow"]},"children":[{"type":"text","value":"iOS"}]},{"type":"text","value":"的官方說明文件。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝-fedora"},"children":[{"type":"text","value":"安裝 Fedora"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安裝過程跟在其他電腦上差不多，唯一要注意的是 MacBook Air 2013 進入選擇其他開機裝置的方式是按住 "},{"type":"element","tag":"kbd","props":{},"children":[{"type":"text","value":"option"}]},{"type":"text","value":" 再按開機鍵。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝-wifi-驅動程式"},"children":[{"type":"text","value":"安裝 Wifi 驅動程式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安裝並更新 Fedora 完成後，就要來解決 Wifi 跟 Facetime HD 的問題了。首先是 Wifi，因 MacBook Air 2013 使用的 Wifi 硬體需要專有驅動程式，Fedora 可透過啟用 rpmfusion-nonfree 來獲得。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 啟用RPM Fusion軟體庫\nsudo dnf install https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 啟用RPM Fusion軟體庫\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"rpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -E"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" %fedora"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":".noarch.rpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"rpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -E"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" %fedora"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":".noarch.rpm\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝專有驅動程式套件\nsudo dnf install broadcom-wl\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝專有驅動程式套件\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" broadcom-wl\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之後重新啟動電腦，若仍看不到無線網路再進行下列步驟："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 編譯驅動程式\nsudo akmods --force\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 編譯驅動程式\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" akmods"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --force\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 載入驅動程式模組\nsudo depmod -a && sudo modprobe wl\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 載入驅動程式模組\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" depmod"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" && "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" modprobe"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" wl\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝-facetime-hd-驅動程式"},"children":[{"type":"text","value":"安裝 Facetime HD 驅動程式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Facetime HD 驅動程式就稍微麻煩一點，目前還沒有直接可用的套件，必須要先自己編譯："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝編譯驅動程式必要的套件\nsudo dnf install git dkms kernel-devel\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝編譯驅動程式必要的套件\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dkms"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" kernel-devel\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 複製由大神抽取出來的韌體原始碼\ncd ~ && git clone https://github.com/patjak/facetimehd-firmware.git\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 複製由大神抽取出來的韌體原始碼\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" && "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" clone"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://github.com/patjak/facetimehd-firmware.git\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 編譯Facetime HD驅動程式\ncd facetimehd-firmware && make && sudo make install\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 編譯Facetime HD驅動程式\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" facetimehd-firmware"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" && "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"make"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" && "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" make"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下來的步驟簡單來說是建立一個文字內容為"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"install_items+=\" /usr/lib/firmware/facetimehd/firmware.bin \""}]},{"type":"text","value":"（注意要包含空格）的檔案儲存為"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/etc/dracut.conf.d/facetimehd.conf"}]},{"type":"text","value":"，方式就看自己習慣，這邊使用 GUI 工具來完成。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 使用GNOME內建的文字編輯器建立檔案\nsudo gnome-text-editor /etc/dracut.conf.d/facetimehd.conf\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 使用GNOME內建的文字編輯器建立檔案\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnome-text-editor"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /etc/dracut.conf.d/facetimehd.conf\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下來就在打開的文字編輯器中輸入"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"install_items+=\" /usr/lib/firmware/facetimehd/firmware.bin \""}]},{"type":"text","value":"然後儲存，最後啟用 copr 套件庫、安裝套件並啟用驅動程式就大功告成了。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 啟用套件褲\nsudo dnf copr enable frgt10/facetimehd-dkms\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 啟用套件褲\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" copr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" enable"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" frgt10/facetimehd-dkms\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝套件\nsudo dnf install facetimehd\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝套件\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" facetimehd\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 載入驅動程式模組\nmodprobe facetimehd\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 載入驅動程式模組\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"modprobe"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" facetimehd\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"測試-facetime-hd"},"children":[{"type":"text","value":"測試 Facetime HD"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因 GNOME 內建的 Cheese 程式不支援 Facetime HD，可透過 WebRTC 網站的範例來測試："},{"type":"element","tag":"a","props":{"href":"https://webrtc.github.io/samples/src/content/getusermedia/gum/","rel":["nofollow"]},"children":[{"type":"text","value":"https://webrtc.github.io/samples/src/content/getusermedia/gum/"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"處理溫度瘋狂起飛問題"},"children":[{"type":"text","value":"處理溫度瘋狂起飛問題"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個問題是我安裝完解決了前兩個問題後，試用了一陣子才發現的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"電腦的溫度常常會飆很高，就算只是用 Chrome 開了個 Youtube 都會衝到 9X°C 以上，剛開始以為只是 Macbook 太舊、灰塵太多或是電池該換了，但換了電池也清了內部後，還是有一樣問題。而且當他飆高的時候，耳朵貼近出風口卻完全沒聽到風扇聲！"}]},{"type":"element","tag":"h3","props":{"id":"安裝-mbpfan-讓風扇功能正常發揮"},"children":[{"type":"text","value":"安裝 mbpfan 讓風扇功能正常發揮"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上網查了一下才發現要安裝另一個套件"},{"type":"element","tag":"a","props":{"href":"https://github.com/linux-on-mac/mbpfan","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mbpfan"}]}]},{"type":"text","value":"，這個套件我是有看沒有懂，似乎就是使用 Apple 在 Kernel 中貢獻的模組去調校風扇運轉與溫度之間的作用（？）。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# mbpfan內建在官方套件庫中，直接安裝就行囉。\nsudo dnf install mbpfan\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# mbpfan內建在官方套件庫中，直接安裝就行囉。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" mbpfan\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下來要設定"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"mbpfan"}]},{"type":"text","value":"在開機後就自動啟動："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo systemctl enable mbpfan.service\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" enable"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" mbpfan.service\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo systemctl daemon-reload\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" daemon-reload\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo systemctl start mbpfan.service\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systemctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" start"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" mbpfan.service\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"成功安裝之後就會發現當溫度升高的時候，會聽到伴隨起飛、努力工作的風扇聲了（原來 MBA 2013 的風扇是可以這麼大聲的呀）。最高目前會到 8X°C，但也不會突然就到 9X°C 甚至 100°C 了。"}]},{"type":"element","tag":"h3","props":{"id":"關閉-intel-turbo-boost選擇性"},"children":[{"type":"text","value":"關閉 Intel Turbo Boost（選擇性）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不過，8X°C 對於我來說還是覺得有點高，上網又查了一下資料，可以透過關閉 Intel Turbo Boost 來讓 CPU 的運作時脈降低，進而省電跟降低熱度。這個部份因為步驟較多較複雜，篇幅較長，就不在這邊記述，有興趣的人可參考"},{"type":"element","tag":"article-inner-link","props":{"slug":"fedora_disable_turbo_boost"},"children":[{"type":"text","value":"另一篇文章"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"關閉 Intel Turbo Boost，就不太會超過 80°C 了，平常在冷氣房大概會是 6X°C 左右。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"關閉開機音效"},"children":[{"type":"text","value":"關閉開機音效"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然有些果迷好像覺得很棒，但在咖啡店開機的時候，那個「咚」的音效真的太引人注目了，還是關掉得好。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 先安裝efivar\nsudo dnf install efivar\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 先安裝efivar\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" efivar\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下來的指令因為要暫時切換到 root 身份，務必確認指令正確，並不要做多餘的事，以免對電腦造成無法逆轉的後果。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 切換到root身份\nsudo su\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 切換到root身份\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" su\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 讓控制開機音效的efivar變數可以被覆寫\nchattr -i /sys/firmware/efi/efivars/SystemAudioVolume-7c436110-ab2a-4bbb-a880-fe41995c9f82\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 讓控制開機音效的efivar變數可以被覆寫\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"chattr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -i"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /sys/firmware/efi/efivars/SystemAudioVolume-7c436110-ab2a-4bbb-a880-fe41995c9f82\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 將代表「靜音」的值寫入變數\nprintf \"\\x07\\x00\\x00\\x00\\x00\" > /sys/firmware/efi/efivars/SystemAudioVolume-7c436110-ab2a-4bbb-a880-fe41995c9f82\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 將代表「靜音」的值寫入變數\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"printf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" \"\\x07\\x00\\x00\\x00\\x00\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" >"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /sys/firmware/efi/efivars/SystemAudioVolume-7c436110-ab2a-4bbb-a880-fe41995c9f82\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 讓變數恢復為無法被覆寫的狀態\nchattr +i /sys/firmware/efi/efivars/SystemAudioVolume-7c436110-ab2a-4bbb-a880-fe41995c9f82\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 讓變數恢復為無法被覆寫的狀態\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"chattr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" +i"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /sys/firmware/efi/efivars/SystemAudioVolume-7c436110-ab2a-4bbb-a880-fe41995c9f82\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 離開root身份\nexit\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 離開root身份\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"exit\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概就是這樣，其實有預料到 MacBook 封閉的環境可能要多一點步驟才能正常使用，不過過程比想像中的簡單些，主要原因是滿多前人也這樣子做，所以找資料、解決方法什麼的都很快，幾乎都是 Google 第一篇文章就有解答。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用上的部份，在關閉 Intel Turbo Boost 後，日常工作、瀏覽器簡單幾個分頁查查資料，甚至簡單寫寫前端的程式碼似乎都沒啥問題。雖然是 2013 年上市的筆電，即便在只有 4GB 的環境下，Fedora 仍跑得頗順暢，完勝我另外一台 ASUS E203NA，只能說 CPU 還是滿重要的呀。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"參考文獻"},"children":[{"type":"text","value":"參考文獻"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://boilingsteam.com/liberating-the-macbook-air-2013-with-linux-complete-guide/#facetimehd","rel":["nofollow"]},"children":[{"type":"text","value":"LIBERATING THE MACBOOK AIR 2013"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.reddit.com/r/Fedora/comments/tgyrxv/comment/i157pyq/","rel":["nofollow"]},"children":[{"type":"text","value":"Macbook pro 2013 camera drivers - Reddit"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://gist.github.com/0xbb/ae298e2798e1c06d0753","rel":["nofollow"]},"children":[{"type":"text","value":"macbook-mute.sh"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"事前準備","depth":2,"text":"事前準備","children":[{"id":"fedora-安裝-usb","depth":3,"text":"Fedora 安裝 USB"},{"id":"製作-macbook-可開機磁碟","depth":3,"text":"製作 MacBook 可開機磁碟"},{"id":"暫時性的替代網路","depth":3,"text":"暫時性的替代網路"}]},{"id":"安裝-fedora","depth":2,"text":"安裝 Fedora"},{"id":"安裝-wifi-驅動程式","depth":2,"text":"安裝 Wifi 驅動程式"},{"id":"安裝-facetime-hd-驅動程式","depth":2,"text":"安裝 Facetime HD 驅動程式","children":[{"id":"測試-facetime-hd","depth":3,"text":"測試 Facetime HD"}]},{"id":"處理溫度瘋狂起飛問題","depth":2,"text":"處理溫度瘋狂起飛問題","children":[{"id":"安裝-mbpfan-讓風扇功能正常發揮","depth":3,"text":"安裝 mbpfan 讓風扇功能正常發揮"},{"id":"關閉-intel-turbo-boost選擇性","depth":3,"text":"關閉 Intel Turbo Boost（選擇性）"}]},{"id":"關閉開機音效","depth":2,"text":"關閉開機音效"},{"id":"後記","depth":2,"text":"後記"},{"id":"參考文獻","depth":2,"text":"參考文獻"}]}},"_type":"markdown","_id":"content:articles:2023:macbook_air_2013_fedora.md","_source":"content","_file":"articles/2023/macbook_air_2013_fedora.md","_extension":"md","createdAt":"2023-09-18T14:35:32.000Z","updatedAt":"2024-01-01T08:53:27.000Z","slug":"macbook_air_2013_fedora","plainTexts":["日前從朋友那邊收到一台他塵封已久的 MacBook Air 2013，作為去沖繩幫他帶藥妝的回禮，沒想到平常極度排斥封閉環境的 Apple 產品的我，就這樣擁有了第一台萬惡的 Apple 裝置了。心想若灌成 Fedora 沒啥大問題，那似乎就這樣拿來當成個人筆電用也無不可，又環保（？）。","上網做了一下功課之後，發現滿多前輩都做了類似的事情，只是大家灌的發行版本不同。過程中會面對三個問題：","Fedora 沒有原生支援 MacBook Air 2013 中 Wifi 的驅動程式","Facetime HD 也需要額外動作去處理之後才能使用","Macbook 溫度容易飆高的問題","除了第 3.點比較複雜以外，步驟都不會太麻煩，以下開始。","事前準備","Fedora 安裝 USB","這就不用多說了吧。","製作 MacBook 可開機磁碟","由於我是打算整個重灌不保留原有的 macOS，日後若反悔或是想轉賣給別人，需要灌回 macOS。唯一可行的方式就是先製作好 MacBook 可開機磁碟，關於這部份可參考","官方文件","。","暫時性的替代網路","在解決 Wifi 驅動程式的問題之前，必須要有其他手段讓 MacBook Air 連上網路來更新以及安裝正確的 Wifi 驅動程式，最簡單的方式就是透過","USB 無線網卡","或是","手機進行 USB 網路共用","，這邊附上","Android","以及","iOS","的官方說明文件。","安裝 Fedora","安裝過程跟在其他電腦上差不多，唯一要注意的是 MacBook Air 2013 進入選擇其他開機裝置的方式是按住","option","再按開機鍵。","安裝 Wifi 驅動程式","安裝並更新 Fedora 完成後，就要來解決 Wifi 跟 Facetime HD 的問題了。首先是 Wifi，因 MacBook Air 2013 使用的 Wifi 硬體需要專有驅動程式，Fedora 可透過啟用 rpmfusion-nonfree 來獲得。","# 啟用RPM Fusion軟體庫","sudo","dnf","install","https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-","$(","rpm","-E","%fedora",")",".noarch.rpm","https://mirrors.rpmfusion.org/free/fedora/rpmfusion-nonfree-release-","$(","rpm","-E","%fedora",")",".noarch.rpm","# 安裝專有驅動程式套件","sudo","dnf","install","broadcom-wl","之後重新啟動電腦，若仍看不到無線網路再進行下列步驟：","# 編譯驅動程式","sudo","akmods","--force","# 載入驅動程式模組","sudo","depmod","-a","&&","sudo","modprobe","wl","安裝 Facetime HD 驅動程式","Facetime HD 驅動程式就稍微麻煩一點，目前還沒有直接可用的套件，必須要先自己編譯：","# 安裝編譯驅動程式必要的套件","sudo","dnf","install","git","dkms","kernel-devel","# 複製由大神抽取出來的韌體原始碼","cd","~","&&","git","clone","https://github.com/patjak/facetimehd-firmware.git","# 編譯Facetime HD驅動程式","cd","facetimehd-firmware","&&","make","&&","sudo","make","install","接下來的步驟簡單來說是建立一個文字內容為","install_items+=\" /usr/lib/firmware/facetimehd/firmware.bin \"","（注意要包含空格）的檔案儲存為","/etc/dracut.conf.d/facetimehd.conf","，方式就看自己習慣，這邊使用 GUI 工具來完成。","# 使用GNOME內建的文字編輯器建立檔案","sudo","gnome-text-editor","/etc/dracut.conf.d/facetimehd.conf","接下來就在打開的文字編輯器中輸入","install_items+=\" /usr/lib/firmware/facetimehd/firmware.bin \"","然後儲存，最後啟用 copr 套件庫、安裝套件並啟用驅動程式就大功告成了。","# 啟用套件褲","sudo","dnf","copr","enable","frgt10/facetimehd-dkms","# 安裝套件","sudo","dnf","install","facetimehd","# 載入驅動程式模組","modprobe","facetimehd","測試 Facetime HD","因 GNOME 內建的 Cheese 程式不支援 Facetime HD，可透過 WebRTC 網站的範例來測試：","https://webrtc.github.io/samples/src/content/getusermedia/gum/","。","處理溫度瘋狂起飛問題","這個問題是我安裝完解決了前兩個問題後，試用了一陣子才發現的。","電腦的溫度常常會飆很高，就算只是用 Chrome 開了個 Youtube 都會衝到 9X°C 以上，剛開始以為只是 Macbook 太舊、灰塵太多或是電池該換了，但換了電池也清了內部後，還是有一樣問題。而且當他飆高的時候，耳朵貼近出風口卻完全沒聽到風扇聲！","安裝 mbpfan 讓風扇功能正常發揮","上網查了一下才發現要安裝另一個套件","mbpfan","，這個套件我是有看沒有懂，似乎就是使用 Apple 在 Kernel 中貢獻的模組去調校風扇運轉與溫度之間的作用（？）。","# mbpfan內建在官方套件庫中，直接安裝就行囉。","sudo","dnf","install","mbpfan","接下來要設定","mbpfan","在開機後就自動啟動：","sudo","systemctl","enable","mbpfan.service","sudo","systemctl","daemon-reload","sudo","systemctl","start","mbpfan.service","成功安裝之後就會發現當溫度升高的時候，會聽到伴隨起飛、努力工作的風扇聲了（原來 MBA 2013 的風扇是可以這麼大聲的呀）。最高目前會到 8X°C，但也不會突然就到 9X°C 甚至 100°C 了。","關閉 Intel Turbo Boost（選擇性）","不過，8X°C 對於我來說還是覺得有點高，上網又查了一下資料，可以透過關閉 Intel Turbo Boost 來讓 CPU 的運作時脈降低，進而省電跟降低熱度。這個部份因為步驟較多較複雜，篇幅較長，就不在這邊記述，有興趣的人可參考","另一篇文章","。","關閉 Intel Turbo Boost，就不太會超過 80°C 了，平常在冷氣房大概會是 6X°C 左右。","關閉開機音效","雖然有些果迷好像覺得很棒，但在咖啡店開機的時候，那個「咚」的音效真的太引人注目了，還是關掉得好。","# 先安裝efivar","sudo","dnf","install","efivar","接下來的指令因為要暫時切換到 root 身份，務必確認指令正確，並不要做多餘的事，以免對電腦造成無法逆轉的後果。","# 切換到root身份","sudo","su","# 讓控制開機音效的efivar變數可以被覆寫","chattr","-i","/sys/firmware/efi/efivars/SystemAudioVolume-7c436110-ab2a-4bbb-a880-fe41995c9f82","# 將代表「靜音」的值寫入變數","printf","\"\\x07\\x00\\x00\\x00\\x00\"",">","/sys/firmware/efi/efivars/SystemAudioVolume-7c436110-ab2a-4bbb-a880-fe41995c9f82","# 讓變數恢復為無法被覆寫的狀態","chattr","+i","/sys/firmware/efi/efivars/SystemAudioVolume-7c436110-ab2a-4bbb-a880-fe41995c9f82","# 離開root身份","exit","後記","大概就是這樣，其實有預料到 MacBook 封閉的環境可能要多一點步驟才能正常使用，不過過程比想像中的簡單些，主要原因是滿多前人也這樣子做，所以找資料、解決方法什麼的都很快，幾乎都是 Google 第一篇文章就有解答。","使用上的部份，在關閉 Intel Turbo Boost 後，日常工作、瀏覽器簡單幾個分頁查查資料，甚至簡單寫寫前端的程式碼似乎都沒啥問題。雖然是 2013 年上市的筆電，即便在只有 4GB 的環境下，Fedora 仍跑得頗順暢，完勝我另外一台 ASUS E203NA，只能說 CPU 還是滿重要的呀。","參考文獻","LIBERATING THE MACBOOK AIR 2013","Macbook pro 2013 camera drivers - Reddit","macbook-mute.sh","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/mark_forster","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"完全不懂德文的人喜歡上的Mark Forster","description":"來介紹我眾多老公之一（？）：Mark Forster。","img":"924/rhxHZ5.jpg","tags":["德國男歌手","音樂"],"category":"life","readingTime":{"text":"10 min read","minutes":9.15,"time":549000,"words":1830},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"來介紹我眾多老公之一（？）：Mark Forster。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"來介紹我眾多老公之一（？）：Mark Forster。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"在the-voice擔任評審的片段"},"children":[{"type":"text","value":"在《The Voice》擔任評審的片段"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前有一陣子（不是疫情時）很喜歡看 Youtube 的 The Voice 片段，類似像好聲音那種節目，看那種很厲害的素人詮釋一些歌曲，順便也發掘一些沒聽過的歌。而《The Voice》在許多不同國家都有拍攝，也會找來當地知名的歌手來當導師，德國有幾季就是由 Mark Forster 擔任其中之一。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那時候看了兩個片段，深深被這個真性情又可愛的音樂人吸引。"}]},{"type":"element","tag":"h3","props":{"id":"your-man-by-alexander-eder"},"children":[{"type":"text","value":"《Your Man》 by "},{"type":"element","tag":"a","props":{"href":"https://www.instagram.com/alexandereder.official/","rel":["nofollow"]},"children":[{"type":"text","value":"Alexander Eder"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第一個片段是當時 19 歲的參賽者（現在是歌手的 Alexander Eder）用極低的低音驚豔評審，低音的程度甚至讓評審以為他有 40 幾歲。雖然參賽者的低音真的滿驚人的，不過看了幾次我反而被在第一句旋律就立刻站起來隨之搖擺的評審 Mark Forster 吸引。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自然的態度、有點扭捏卻不尷尬的搖擺、大大的眼鏡與帽子、恰到好處的鬍子，讓我這個對歐美臉孔一向沒什麼興趣的人竟然有點心動（但我是眼鏡控啦）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"尤其是影片"},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=SkhDsf5dzfo&t=15s","rel":["nofollow"]},"children":[{"type":"text","value":"15 秒開始有點垂垂的貓手"}]},{"type":"text","value":"，也太可愛了吧！"}]},{"type":"element","tag":"embed-youtube","props":{"id":"SkhDsf5dzfo"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在介紹區看到他的名字之後（感謝 Google 翻譯讓我在一片德文中看到他的名字）就開始搜尋他的更多影片（？）。然後就查到第二個片段——最萌身高差 Bromance。"}]},{"type":"element","tag":"h3","props":{"id":"flash-mich-by-jannik-föste"},"children":[{"type":"text","value":"《Flash Mich》 by "},{"type":"element","tag":"a","props":{"href":"https://www.instagram.com/jannikmusic/","rel":["nofollow"]},"children":[{"type":"text","value":"Jannik Föste"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第二個片段中的參賽者 Jannik Föste 本身是 Mark Forster 的粉絲，參賽歌曲也是 Mark Forster 的作品《Flash mich》。先簡單介紹一下這首歌："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Flash mich 的意思就是電我（mich 就是英文的 me），這首歌原曲是在闡述對伴侶的思念之情、希望和對方可以像初次見面那樣的「來電」並與對方共度白首，官方 MV 則是講述了"},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=XNMFTqhcNrE","rel":["nofollow"]},"children":[{"type":"text","value":"一對年輕男同志的日常生活（包含無聊到去搶銀行）"}]},{"type":"text","value":"。由 Mark Forster 演唱的原版節奏輕快，貫穿整曲的鼓音配上官方 MV 服用，有種青年的叛逆感。"}]},{"type":"element","tag":"embed-youtube","props":{"id":"XNMFTqhcNrE"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但 Jannik Föste 在參賽時卻以吉他為主軸、放慢節奏，配上自身低沉的喉音，竟讓整首歌變得深情、舒緩而迷人。甚至在原曲中的罐頭吟唱音效，在這裡變成了悠遠迴盪的吶喊。不得不說真的改編得很棒，我後來第一次聽到原曲時完全沒意識到是同一首。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"簡單介紹完這首歌，回來講 Bromance 的部份。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"參賽者 Jannik Föste 在演唱完這首歌並與評審 Mark Forster 簡單互動之後，似乎是被觀眾鼓譟，Mark Forster 上場一起與 Jannik Föste 再次合唱。這中間的深情對望、合音配上表達愛慕的歌詞，再加上這個身高差，啊～真是完美的腐……我是說腐敗世界中的一朵清蓮。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"看看臺下同是導師的 Alice Merton 其迷茫眼神（？），就知道多好看了。"}]},{"type":"element","tag":"article-img","props":{"img":"923/RNE83w.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這段合唱有太多值得拿來創作……我是說描述的片段了，實在讓人很難選出最愛的部份（男上加男的那種難），不過我最喜歡的是"},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=7Iyrvkcp3WY&t=262s","rel":["nofollow"]},"children":[{"type":"text","value":"在 4 分 22 秒，Mark Forster 把最後一句讓給參賽者唱，並陶醉在其中搖擺的樣子"}]},{"type":"text","value":"："}]},{"type":"element","tag":"article-img","props":{"img":"924/TZdCvj.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"怎麼可以那麼可愛（尖叫）！不知為何有種寵物的感覺。那時候看覺得這個人也太沒架子了吧，怎麼會陶醉成那樣，看了這段之後讓我開始對這個人產生好奇心，並決定要多認識他並聽一些這個人的作品。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"聽的第一首歌bist-du-okay"},"children":[{"type":"text","value":"聽的第一首歌：《Bist du Okay》"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那時候把 Mark Forster 當關鍵字餵進去 Youtube 搜尋，第一個影片就是《Bist du Okay》的 MV。"}]},{"type":"element","tag":"h3","props":{"id":"明確的旋律與節奏"},"children":[{"type":"text","value":"明確的旋律與節奏"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這首歌節奏明確、斷點強烈，第一次的主副循環中，主歌以鋼琴開展，副歌卻轉變成風格迥異的強烈電音，然而第二次主歌延續前一次副歌的電音背景，在第二次副歌時又轉為鋼琴基底。前後的差異讓人有一種微妙的錯亂感，情緒時而平緩時而爆炸。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這讓完全不懂德語的我，就算只是聽旋律也滿享受的。那時候大概就重播了好幾次吧，馬上就朗朗上口可以跟著哼唱，覺得旋律真的很洗腦，但又不是那種讓人討厭的洗腦。"}]},{"type":"element","tag":"h3","props":{"id":"直白的歌詞"},"children":[{"type":"text","value":"直白的歌詞"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然後我就搜尋了德文的歌詞，把他丟進去 Google 翻譯（再次感謝人類的科技），發現這歌詞之直白，直接翻成中文都還能維持語意。有常用 Google 翻譯的人應該都知道，把非英文語系的文字直接翻成中文，通常都會變成一段天書，看不懂在說什麼。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在這邊節錄一小段歌詞與 Google 翻譯："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Fühlst dich, als ob du im Gefängnis bist"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n感覺就像你困在監獄裡"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\nStehst vor 'nem Berg und siehst das Ende nicht"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n站在山的前面看不到盡頭"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接著我又去找了真人翻譯的英文歌詞仔細讀過。這首歌是在講對另一個人的關心，「Bist du Okay」的英文翻譯就是「Are you okay」，並描述了對方的情緒已經到了連自己都不認識的地步，如果對方願意，自己想要傾聽並陪伴他。這樣的歌詞與旋律，配上這個 MV 與編曲，其實也可以想成是情緒崩潰時，自己不認識自己的心理狀態，並與自己對話的過程。"}]},{"type":"element","tag":"h3","props":{"id":"獨特而溫潤的風格"},"children":[{"type":"text","value":"獨特而溫潤的風格"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那時候真的很驚豔，一來是這樣的主題不太容易出現在流行音樂的檯面，至少那些朗朗上口的歌大多都是情愛調性，二來是驚訝於這樣子看似溫暖的歌詞竟然可以用這麼特別的方式呈現（只看英文翻譯歌詞真的覺得應該配個梁靜茹或劉若英之類）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"後來又找了幾首歌來聽，像是"},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=MtDPKJSsBgc","rel":["nofollow"]},"children":[{"type":"text","value":"《Au Revoir》"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=5fAoV_AAMf0","rel":["nofollow"]},"children":[{"type":"text","value":"《Bauch und Kopf》"}]},{"type":"text","value":"，發現他的歌曲探討的主題非常多元，內容卻又不會艱澀難懂，然後配上朗朗上口的旋律，才懂為何 Sony 音樂在"},{"type":"element","tag":"a","props":{"href":"https://sonymusic.com.tw/album/%E7%9B%B4%E8%A6%BA%E8%88%87%E7%90%86%E6%99%BA-%E9%A6%AC%E5%85%8B%E7%A6%8F%E6%96%AF%E7%89%B9-mark-forster-88843098592/","rel":["nofollow"]},"children":[{"type":"text","value":"專輯介紹"}]},{"type":"text","value":"中這樣描述他："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沒有美派逞兇鬥狠、暴戾之氣，更不是把妹愛秀財富的痞樣，多的是文學氣質與探討人生真諦，猶如一位街頭詩人，賦予文字強大生命力，配置旋律性足夠的編排，提供獨特的歐式流行嘻哈風格。"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這大概就是我第一次看到這個人並開始主動搜尋並欣賞其作品的濫觴了，雖然是以花癡開始的，但一邊硬著頭皮用 Google 翻譯加上網路的英文資源，也是聽完了他目前所有的作品，當然也不是全部的作品我都很愛啦，不過前前後後也是在 Spotify 收了好幾首，播放清單分享如下。"}]},{"type":"element","tag":"embed-spotify-list","props":{"id":"1EF28dg4qlfRtrN3tbFCWG"},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"在the-voice擔任評審的片段","depth":2,"text":"在《The Voice》擔任評審的片段","children":[{"id":"your-man-by-alexander-eder","depth":3,"text":"《Your Man》 by Alexander Eder"},{"id":"flash-mich-by-jannik-föste","depth":3,"text":"《Flash Mich》 by Jannik Föste"}]},{"id":"聽的第一首歌bist-du-okay","depth":2,"text":"聽的第一首歌：《Bist du Okay》","children":[{"id":"明確的旋律與節奏","depth":3,"text":"明確的旋律與節奏"},{"id":"直白的歌詞","depth":3,"text":"直白的歌詞"},{"id":"獨特而溫潤的風格","depth":3,"text":"獨特而溫潤的風格"}]}]}},"_type":"markdown","_id":"content:articles:2023:mark_forster.md","_source":"content","_file":"articles/2023/mark_forster.md","_extension":"md","createdAt":"2023-10-17T09:54:19.000Z","updatedAt":"2023-12-11T03:54:57.000Z","slug":"mark_forster","plainTexts":["來介紹我眾多老公之一（？）：Mark Forster。","在《The Voice》擔任評審的片段","之前有一陣子（不是疫情時）很喜歡看 Youtube 的 The Voice 片段，類似像好聲音那種節目，看那種很厲害的素人詮釋一些歌曲，順便也發掘一些沒聽過的歌。而《The Voice》在許多不同國家都有拍攝，也會找來當地知名的歌手來當導師，德國有幾季就是由 Mark Forster 擔任其中之一。","那時候看了兩個片段，深深被這個真性情又可愛的音樂人吸引。","《Your Man》 by","Alexander Eder","第一個片段是當時 19 歲的參賽者（現在是歌手的 Alexander Eder）用極低的低音驚豔評審，低音的程度甚至讓評審以為他有 40 幾歲。雖然參賽者的低音真的滿驚人的，不過看了幾次我反而被在第一句旋律就立刻站起來隨之搖擺的評審 Mark Forster 吸引。","自然的態度、有點扭捏卻不尷尬的搖擺、大大的眼鏡與帽子、恰到好處的鬍子，讓我這個對歐美臉孔一向沒什麼興趣的人竟然有點心動（但我是眼鏡控啦）。","尤其是影片","15 秒開始有點垂垂的貓手","，也太可愛了吧！","在介紹區看到他的名字之後（感謝 Google 翻譯讓我在一片德文中看到他的名字）就開始搜尋他的更多影片（？）。然後就查到第二個片段——最萌身高差 Bromance。","《Flash Mich》 by","Jannik Föste","第二個片段中的參賽者 Jannik Föste 本身是 Mark Forster 的粉絲，參賽歌曲也是 Mark Forster 的作品《Flash mich》。先簡單介紹一下這首歌：","Flash mich 的意思就是電我（mich 就是英文的 me），這首歌原曲是在闡述對伴侶的思念之情、希望和對方可以像初次見面那樣的「來電」並與對方共度白首，官方 MV 則是講述了","一對年輕男同志的日常生活（包含無聊到去搶銀行）","。由 Mark Forster 演唱的原版節奏輕快，貫穿整曲的鼓音配上官方 MV 服用，有種青年的叛逆感。","但 Jannik Föste 在參賽時卻以吉他為主軸、放慢節奏，配上自身低沉的喉音，竟讓整首歌變得深情、舒緩而迷人。甚至在原曲中的罐頭吟唱音效，在這裡變成了悠遠迴盪的吶喊。不得不說真的改編得很棒，我後來第一次聽到原曲時完全沒意識到是同一首。","簡單介紹完這首歌，回來講 Bromance 的部份。","參賽者 Jannik Föste 在演唱完這首歌並與評審 Mark Forster 簡單互動之後，似乎是被觀眾鼓譟，Mark Forster 上場一起與 Jannik Föste 再次合唱。這中間的深情對望、合音配上表達愛慕的歌詞，再加上這個身高差，啊～真是完美的腐……我是說腐敗世界中的一朵清蓮。","看看臺下同是導師的 Alice Merton 其迷茫眼神（？），就知道多好看了。","這段合唱有太多值得拿來創作……我是說描述的片段了，實在讓人很難選出最愛的部份（男上加男的那種難），不過我最喜歡的是","在 4 分 22 秒，Mark Forster 把最後一句讓給參賽者唱，並陶醉在其中搖擺的樣子","：","怎麼可以那麼可愛（尖叫）！不知為何有種寵物的感覺。那時候看覺得這個人也太沒架子了吧，怎麼會陶醉成那樣，看了這段之後讓我開始對這個人產生好奇心，並決定要多認識他並聽一些這個人的作品。","聽的第一首歌：《Bist du Okay》","那時候把 Mark Forster 當關鍵字餵進去 Youtube 搜尋，第一個影片就是《Bist du Okay》的 MV。","明確的旋律與節奏","這首歌節奏明確、斷點強烈，第一次的主副循環中，主歌以鋼琴開展，副歌卻轉變成風格迥異的強烈電音，然而第二次主歌延續前一次副歌的電音背景，在第二次副歌時又轉為鋼琴基底。前後的差異讓人有一種微妙的錯亂感，情緒時而平緩時而爆炸。","這讓完全不懂德語的我，就算只是聽旋律也滿享受的。那時候大概就重播了好幾次吧，馬上就朗朗上口可以跟著哼唱，覺得旋律真的很洗腦，但又不是那種讓人討厭的洗腦。","直白的歌詞","然後我就搜尋了德文的歌詞，把他丟進去 Google 翻譯（再次感謝人類的科技），發現這歌詞之直白，直接翻成中文都還能維持語意。有常用 Google 翻譯的人應該都知道，把非英文語系的文字直接翻成中文，通常都會變成一段天書，看不懂在說什麼。","在這邊節錄一小段歌詞與 Google 翻譯：","Fühlst dich, als ob du im Gefängnis bist","感覺就像你困在監獄裡","Stehst vor 'nem Berg und siehst das Ende nicht","站在山的前面看不到盡頭","接著我又去找了真人翻譯的英文歌詞仔細讀過。這首歌是在講對另一個人的關心，「Bist du Okay」的英文翻譯就是「Are you okay」，並描述了對方的情緒已經到了連自己都不認識的地步，如果對方願意，自己想要傾聽並陪伴他。這樣的歌詞與旋律，配上這個 MV 與編曲，其實也可以想成是情緒崩潰時，自己不認識自己的心理狀態，並與自己對話的過程。","獨特而溫潤的風格","那時候真的很驚豔，一來是這樣的主題不太容易出現在流行音樂的檯面，至少那些朗朗上口的歌大多都是情愛調性，二來是驚訝於這樣子看似溫暖的歌詞竟然可以用這麼特別的方式呈現（只看英文翻譯歌詞真的覺得應該配個梁靜茹或劉若英之類）。","後來又找了幾首歌來聽，像是","《Au Revoir》","、","《Bauch und Kopf》","，發現他的歌曲探討的主題非常多元，內容卻又不會艱澀難懂，然後配上朗朗上口的旋律，才懂為何 Sony 音樂在","專輯介紹","中這樣描述他：","沒有美派逞兇鬥狠、暴戾之氣，更不是把妹愛秀財富的痞樣，多的是文學氣質與探討人生真諦，猶如一位街頭詩人，賦予文字強大生命力，配置旋律性足夠的編排，提供獨特的歐式流行嘻哈風格。","這大概就是我第一次看到這個人並開始主動搜尋並欣賞其作品的濫觴了，雖然是以花癡開始的，但一邊硬著頭皮用 Google 翻譯加上網路的英文資源，也是聽完了他目前所有的作品，當然也不是全部的作品我都很愛啦，不過前前後後也是在 Spotify 收了好幾首，播放清單分享如下。"]},{"_path":"/articles/2023/mobile_chrome_sticky_bottom","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"解決底部Sticky元素在Android Chrome滾動時渲染位置錯誤的問題","description":"如果不是複雜的需求，對於在元素流中有滾動後要固定的元素，像是頂部 header 滾動後要固定或底部 footer 在滾動前要固定，我都會偏好用position: sticky這個方式去處理，簡單粗暴，不像position: fixed那樣要去計算高度來給其他元素 padding 以防遮住主要內容，或是滾動後要用 JS 去偵測來修改，瀏覽器會幫你做好運算。","img":"922/iRFPQu.jpg","tags":["css","html","android","chrome"],"category":"frontend","readingTime":{"text":"2 min read","minutes":1.685,"time":101100,"words":337},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果不是複雜的需求，對於在元素流中有滾動後要固定的元素，像是頂部 header 滾動後要固定或底部 footer 在滾動前要固定，我都會偏好用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"position: sticky"}]},{"type":"text","value":"這個方式去處理，簡單粗暴，不像"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"position: fixed"}]},{"type":"text","value":"那樣要去計算高度來給其他元素 padding 以防遮住主要內容，或是滾動後要用 JS 去偵測來修改，瀏覽器會幫你做好運算。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果不是複雜的需求，對於在元素流中有滾動後要固定的元素，像是頂部 header 滾動後要固定或底部 footer 在滾動前要固定，我都會偏好用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"position: sticky"}]},{"type":"text","value":"這個方式去處理，簡單粗暴，不像"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"position: fixed"}]},{"type":"text","value":"那樣要去計算高度來給其他元素 padding 以防遮住主要內容，或是滾動後要用 JS 去偵測來修改，瀏覽器會幫你做好運算。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"把元素 sticky 在頂部似乎沒啥問題，但 sticky 到底部時就在 Android 的 Chrome 遇到問題了（Firefox 不會）。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"問題"},"children":[{"type":"text","value":"問題"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Chrome 上面的網址列在往下滾動會隱藏，這時底部的 Sticky 元素會往上跳一個距離；而在往上滾動時，Chrome 網址列又會出現，這時底部的 Sticky 元素又會回到原本正確的位置。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"解決方式"},"children":[{"type":"text","value":"解決方式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上網嘗試了一些方式後都沒有解決，後來查到這篇文章"},{"type":"element","tag":"a","props":{"href":"https://www.stevefenton.co.uk/blog/2022/12/mobile-position-sticky-issue/","rel":["nofollow"]},"children":[{"type":"text","value":"Mobile browser bars being hidden can affect CSS position sticky bottom"}]},{"type":"text","value":"，發現他用了一個非常輕巧的方式解決。只要加一條"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"position: fixed"}]},{"type":"text","value":"的元素："}]},{"type":"element","tag":"pre","props":{"className":"language-html shiki shiki-themes github-dark","code":"<div style=\"position: fixed;\"></div>\n","language":"html","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" style"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"position: fixed;\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沒錯，就是這樣而已，我感到各種驚訝。只是這種 HACK 般的處理，讓我覺得這或許比較像是 BUG，但這問題存在許久，也不知道 Google 那邊是否會修改就是了。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"問題","depth":2,"text":"問題"},{"id":"解決方式","depth":2,"text":"解決方式"}]}},"_type":"markdown","_id":"content:articles:2023:mobile_chrome_sticky_bottom.md","_source":"content","_file":"articles/2023/mobile_chrome_sticky_bottom.md","_extension":"md","createdAt":"2023-07-14T07:26:50.000Z","updatedAt":"2023-12-11T03:54:57.000Z","slug":"mobile_chrome_sticky_bottom","plainTexts":["如果不是複雜的需求，對於在元素流中有滾動後要固定的元素，像是頂部 header 滾動後要固定或底部 footer 在滾動前要固定，我都會偏好用","position: sticky","這個方式去處理，簡單粗暴，不像","position: fixed","那樣要去計算高度來給其他元素 padding 以防遮住主要內容，或是滾動後要用 JS 去偵測來修改，瀏覽器會幫你做好運算。","把元素 sticky 在頂部似乎沒啥問題，但 sticky 到底部時就在 Android 的 Chrome 遇到問題了（Firefox 不會）。","問題","Chrome 上面的網址列在往下滾動會隱藏，這時底部的 Sticky 元素會往上跳一個距離；而在往上滾動時，Chrome 網址列又會出現，這時底部的 Sticky 元素又會回到原本正確的位置。","解決方式","上網嘗試了一些方式後都沒有解決，後來查到這篇文章","Mobile browser bars being hidden can affect CSS position sticky bottom","，發現他用了一個非常輕巧的方式解決。只要加一條","position: fixed","的元素：","<","div","style","=","\"position: fixed;\"","></","div",">","沒錯，就是這樣而已，我感到各種驚訝。只是這種 HACK 般的處理，讓我覺得這或許比較像是 BUG，但這問題存在許久，也不知道 Google 那邊是否會修改就是了。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/nuxt2_bootstrapvue_treeshaking","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"Nuxt2中的BootstrapVue TreeShaking","description":"Bootstrap 是個很好用的 UI 框架，在 Vue 生態系中主要由 Bootstrap Vue 去作銜接，然而在專案中幾乎不會完全使用到 Bootstrap 的所有功能，這時如果把不必要的 css / js 編譯移除，可以降低編譯後專案的大小，這種行為也被稱為 Tree shaking。本篇紀錄了自己在 Nuxt2 中使用 Bootstrap Vue 時，Tree Shaking 的一些步驟。","img":"924/Oqxy2g.jpg","tags":["vue","nuxt","bootstrap"],"category":"frontend","readingTime":{"text":"4 min read","minutes":3.56,"time":213600,"words":712},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Bootstrap 是個很好用的 UI 框架，在 Vue 生態系中主要由 Bootstrap Vue 去作銜接，然而在專案中幾乎不會完全使用到 Bootstrap 的所有功能，這時如果把不必要的 css / js 編譯移除，可以降低編譯後專案的大小，"},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Glossary/Tree_shaking","rel":["nofollow"]},"children":[{"type":"text","value":"這種行為也被稱為 Tree shaking"}]},{"type":"text","value":"。本篇紀錄了自己在 Nuxt2 中使用 Bootstrap Vue 時，Tree Shaking 的一些步驟。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Bootstrap 是個很好用的 UI 框架，在 Vue 生態系中主要由 Bootstrap Vue 去作銜接，然而在專案中幾乎不會完全使用到 Bootstrap 的所有功能，這時如果把不必要的 css / js 編譯移除，可以降低編譯後專案的大小，"},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/en-US/docs/Glossary/Tree_shaking","rel":["nofollow"]},"children":[{"type":"text","value":"這種行為也被稱為 Tree shaking"}]},{"type":"text","value":"。本篇紀錄了自己在 Nuxt2 中使用 Bootstrap Vue 時，Tree Shaking 的一些步驟。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"js-部份的-tree-shaking"},"children":[{"type":"text","value":"JS 部份的 Tree Shaking"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然"},{"type":"element","tag":"a","props":{"href":"https://bootstrap-vue.org/docs#tree-shaking-with-nuxtjs","rel":["nofollow"]},"children":[{"type":"text","value":"官方文件"}]},{"type":"text","value":"有提到 Bootstrap Vue 原生支援 Nuxt2 設定檔的 Tree Shaking 方式，但後來自己測試了一下，若自行引入 SCSS，JS 元件在需要時才透過最原始的方式"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"import"}]},{"type":"text","value":"引入並註冊，似乎才是最能降低編譯後專案大小的方式。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"例如需要使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"b-badge"}]},{"type":"text","value":"元件時，再自行引入並註冊："}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes github-dark","code":"<template>\n  <b-badge variant=\"secondary\">\n    #<slot>{{ tagName }}</slot>\n  </b-badge>\n</template>\n\n<script>\nimport { BBadge } from 'bootstrap-vue'\nexport default {\n  components: { BBadge },\n  props: {\n    tagName: {\n      type: String,\n      default: '',\n    },\n  },\n}\n</script>\n","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"b-badge"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" variant"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"secondary\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    #<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"slot"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">{{ tagName }}</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"slot"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"b-badge"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { BBadge } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 'bootstrap-vue'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  components: { BBadge },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  props: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    tagName: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      type: String,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      default: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"透過這種方式使用 Bootstrap Vue，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":"中是可以完全不做相關設定的，當然開發時都要自己手動註冊要用的元件，會比較麻煩，但因為這樣我就把這個部落格最後編譯的大小又降低了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"css-部份的-tree-shaking"},"children":[{"type":"text","value":"CSS 部份的 Tree Shaking"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"CSS 部份官方則沒有說明文件，算是我自己東搞西弄摸出來的，作個參考。"}]},{"type":"element","tag":"h3","props":{"id":"啟用-sass-支援"},"children":[{"type":"text","value":"啟用 SASS 支援"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先，因 Bootstrap Vue 使用 SASS 編寫樣式，參考 Nuxt"},{"type":"element","tag":"a","props":{"href":"https://nuxtjs.org/docs/directory-structure/assets#sass","rel":["nofollow"]},"children":[{"type":"text","value":"官方文件"}]},{"type":"text","value":"啟用 SASS 的支援："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"npm install --save-dev sass sass-loader@10\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --save-dev"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" sass"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" sass-loader@10\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"建立客製樣式檔"},"children":[{"type":"text","value":"建立客製樣式檔"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接著建立自己的樣式檔，這邊建立在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/assets/main.scss"}]},{"type":"text","value":"以及"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/assets/custom.scss"}]},{"type":"text","value":"中。"}]},{"type":"element","tag":"pre","props":{"className":"language-scss shiki shiki-themes github-dark","code":"/* Custom Settings Here */\n\n@import '~bootstrap/scss/functions';\n@import '~bootstrap/scss/variables';\n@import '~bootstrap-vue/src/variables';\n","filename":"/assets/custom.scss","language":"scss","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"/* Custom Settings Here */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/functions';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/variables';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap-vue/src/variables';\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-scss shiki shiki-themes github-dark","code":"@import 'custom';\n\n/* Bootstrap Tree Shaking */\n@import '~bootstrap/scss/mixins';\n@import '~bootstrap/scss/root';\n@import '~bootstrap/scss/reboot';\n@import '~bootstrap/scss/type';\n@import '~bootstrap/scss/images';\n@import '~bootstrap/scss/code';\n@import '~bootstrap/scss/grid';\n// @import \"~bootstrap/scss/tables\";\n@import '~bootstrap/scss/forms';\n@import '~bootstrap/scss/buttons';\n@import '~bootstrap/scss/transitions';\n// @import \"~bootstrap/scss/dropdown\";\n// @import \"~bootstrap/scss/button-group\";\n// @import \"~bootstrap/scss/input-group\";\n// @import \"~bootstrap/scss/custom-forms\";\n// @import \"~bootstrap/scss/nav\";\n// @import \"~bootstrap/scss/navbar\";\n@import '~bootstrap/scss/card';\n// @import \"~bootstrap/scss/breadcrumb\";\n// @import \"~bootstrap/scss/pagination\";\n// @import \"~bootstrap/scss/badge\";\n// @import \"~bootstrap/scss/jumbotron\";\n// @import \"~bootstrap/scss/alert\";\n// @import \"~bootstrap/scss/progress\";\n// @import \"~bootstrap/scss/media\";\n// @import \"~bootstrap/scss/list-group\";\n// @import \"~bootstrap/scss/close\";\n// @import \"~bootstrap/scss/toasts\";\n// @import \"~bootstrap/scss/modal\";\n// @import \"~bootstrap/scss/tooltip\";\n// @import \"~bootstrap/scss/popover\";\n// @import \"~bootstrap/scss/carousel\";\n// @import \"~bootstrap/scss/spinners\";\n// @import \"~bootstrap/scss/print\";\n\n// 將~bootstrap/scss/_utilities.scss展開\n@import '~bootstrap/scss/utilities/align';\n@import '~bootstrap/scss/utilities/background';\n@import '~bootstrap/scss/utilities/borders';\n@import '~bootstrap/scss/utilities/clearfix';\n@import '~bootstrap/scss/utilities/display';\n@import '~bootstrap/scss/utilities/embed';\n@import '~bootstrap/scss/utilities/flex';\n@import '~bootstrap/scss/utilities/float';\n@import '~bootstrap/scss/utilities/interactions';\n@import '~bootstrap/scss/utilities/overflow';\n@import '~bootstrap/scss/utilities/position';\n@import '~bootstrap/scss/utilities/screenreaders';\n@import '~bootstrap/scss/utilities/shadows';\n@import '~bootstrap/scss/utilities/sizing';\n@import '~bootstrap/scss/utilities/spacing';\n@import '~bootstrap/scss/utilities/stretched-link';\n@import '~bootstrap/scss/utilities/text';\n@import '~bootstrap/scss/utilities/visibility';\n\n/* Bootstrap Vue Tree Shaking */\n@import '~bootstrap-vue/src/utilities';\n@import '~bootstrap-vue/src/custom-controls';\n@import '~bootstrap-vue/src/icons/index';\n\n// 將~bootstrap-vue/src/components/index.scss展開\n// @import \"~bootstrap-vue/src/components/avatar/index\";\n// @import \"~bootstrap-vue/src/components/calendar/index\";\n@import '~bootstrap-vue/src/components/card/index';\n// @import \"~bootstrap-vue/src/components/dropdown/index\";\n// @import \"~bootstrap-vue/src/components/form-checkbox/index\";\n// @import \"~bootstrap-vue/src/components/form-datepicker/index\";\n// @import \"~bootstrap-vue/src/components/form-file/index\";\n@import '~bootstrap-vue/src/components/form-input/index';\n// @import \"~bootstrap-vue/src/components/form-radio/index\";\n// @import \"~bootstrap-vue/src/components/form-rating/index\";\n// @import \"~bootstrap-vue/src/components/form-spinbutton/index\";\n// @import \"~bootstrap-vue/src/components/form-tags/index\";\n// @import \"~bootstrap-vue/src/components/form-timepicker/index\";\n@import '~bootstrap-vue/src/components/input-group/index';\n// @import \"~bootstrap-vue/src/components/media/index\";\n// @import \"~bootstrap-vue/src/components/modal/index\";\n// @import \"~bootstrap-vue/src/components/nav/index\";\n// @import \"~bootstrap-vue/src/components/navbar/index\";\n@import '~bootstrap-vue/src/components/pagination-nav/index';\n@import '~bootstrap-vue/src/components/pagination/index';\n// @import \"~bootstrap-vue/src/components/popover/index\";\n// @import \"~bootstrap-vue/src/components/sidebar/index\";\n// @import \"~bootstrap-vue/src/components/skeleton/index\";\n// @import \"~bootstrap-vue/src/components/table/index\";\n// @import \"~bootstrap-vue/src/components/time/index\";\n// @import \"~bootstrap-vue/src/components/toast/index\";\n// @import \"~bootstrap-vue/src/components/tooltip/index\";\n","filename":"/assets/main.scss","language":"scss","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import 'custom';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"/* Bootstrap Tree Shaking */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/mixins';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/root';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/reboot';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/type';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/images';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/code';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/grid';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/tables\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/forms';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/buttons';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/transitions';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/dropdown\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/button-group\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/input-group\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/custom-forms\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/nav\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/navbar\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/card';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/breadcrumb\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/pagination\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/badge\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/jumbotron\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/alert\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/progress\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/media\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/list-group\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/close\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/toasts\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/modal\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/tooltip\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/popover\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/carousel\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/spinners\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap/scss/print\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// 將~bootstrap/scss/_utilities.scss展開\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/align';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/background';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/borders';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/clearfix';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/display';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/embed';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/flex';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/float';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/interactions';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/overflow';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/position';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/screenreaders';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/shadows';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/sizing';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/spacing';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/stretched-link';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/text';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap/scss/utilities/visibility';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":59},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"/* Bootstrap Vue Tree Shaking */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":60},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap-vue/src/utilities';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":61},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap-vue/src/custom-controls';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":62},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap-vue/src/icons/index';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":63},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":64},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// 將~bootstrap-vue/src/components/index.scss展開\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":65},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/avatar/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":66},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/calendar/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":67},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap-vue/src/components/card/index';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":68},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/dropdown/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":69},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/form-checkbox/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":70},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/form-datepicker/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":71},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/form-file/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":72},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap-vue/src/components/form-input/index';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":73},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/form-radio/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":74},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/form-rating/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":75},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/form-spinbutton/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":76},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/form-tags/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":77},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/form-timepicker/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":78},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap-vue/src/components/input-group/index';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":79},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/media/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":80},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/modal/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":81},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/nav/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":82},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/navbar/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":83},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap-vue/src/components/pagination-nav/index';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":84},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"@import '~bootstrap-vue/src/components/pagination/index';\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":85},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/popover/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":86},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/sidebar/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":87},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/skeleton/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":88},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/table/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":89},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/time/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":90},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/toast/index\";\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":91},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"// @import \"~bootstrap-vue/src/components/tooltip/index\";\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其中"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"main.scss"}]},{"type":"text","value":"不需要的就註解掉，需要使用到再把註解打開。"}]},{"type":"element","tag":"h3","props":{"id":"引入自行編寫樣式"},"children":[{"type":"text","value":"引入自行編寫樣式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後參考"},{"type":"element","tag":"a","props":{"href":"https://bootstrap-vue.org/docs#using-custom-bootstrap-scss","rel":["nofollow"]},"children":[{"type":"text","value":"官方文件"}]},{"type":"text","value":"，設定"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":"使用我們自己編寫的樣式檔："}]},{"type":"element","tag":"pre","props":{"className":"language-javascript shiki shiki-themes github-dark","code":"module.exports = {\n  modules: ['bootstrap-vue/nuxt'],\n  css: [\n    // SCSS file in the project\n    '~/assets/css/main.scss',\n  ],\n}\n","filename":"nuxt.config.js","language":"javascript","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"module"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"exports"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  modules: ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'bootstrap-vue/nuxt'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  css: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    // SCSS file in the project\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"    '~/assets/css/main.scss'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"js-部份的-tree-shaking","depth":2,"text":"JS 部份的 Tree Shaking"},{"id":"css-部份的-tree-shaking","depth":2,"text":"CSS 部份的 Tree Shaking","children":[{"id":"啟用-sass-支援","depth":3,"text":"啟用 SASS 支援"},{"id":"建立客製樣式檔","depth":3,"text":"建立客製樣式檔"},{"id":"引入自行編寫樣式","depth":3,"text":"引入自行編寫樣式"}]}]}},"_type":"markdown","_id":"content:articles:2023:nuxt2_bootstrapvue_treeshaking.md","_source":"content","_file":"articles/2023/nuxt2_bootstrapvue_treeshaking.md","_extension":"md","createdAt":"2023-01-02T08:03:25.000Z","updatedAt":"2023-12-11T10:19:13.000Z","slug":"nuxt2_bootstrapvue_treeshaking","plainTexts":["Bootstrap 是個很好用的 UI 框架，在 Vue 生態系中主要由 Bootstrap Vue 去作銜接，然而在專案中幾乎不會完全使用到 Bootstrap 的所有功能，這時如果把不必要的 css / js 編譯移除，可以降低編譯後專案的大小，","這種行為也被稱為 Tree shaking","。本篇紀錄了自己在 Nuxt2 中使用 Bootstrap Vue 時，Tree Shaking 的一些步驟。","JS 部份的 Tree Shaking","雖然","官方文件","有提到 Bootstrap Vue 原生支援 Nuxt2 設定檔的 Tree Shaking 方式，但後來自己測試了一下，若自行引入 SCSS，JS 元件在需要時才透過最原始的方式","import","引入並註冊，似乎才是最能降低編譯後專案大小的方式。","例如需要使用","b-badge","元件時，再自行引入並註冊：","<","template",">","<","b-badge","variant","=","\"secondary\"",">","#<","slot",">{{ tagName }}</","slot",">","</","b-badge",">","</","template",">","","<","script",">","import","{ BBadge }","from","'bootstrap-vue'","export","default","{","components: { BBadge },","props: {","tagName: {","type: String,","default:","''",",","},","},","}","</","script",">","透過這種方式使用 Bootstrap Vue，","nuxt.config.js","中是可以完全不做相關設定的，當然開發時都要自己手動註冊要用的元件，會比較麻煩，但因為這樣我就把這個部落格最後編譯的大小又降低了。","CSS 部份的 Tree Shaking","CSS 部份官方則沒有說明文件，算是我自己東搞西弄摸出來的，作個參考。","啟用 SASS 支援","首先，因 Bootstrap Vue 使用 SASS 編寫樣式，參考 Nuxt","官方文件","啟用 SASS 的支援：","npm","install","--save-dev","sass","sass-loader@10","建立客製樣式檔","接著建立自己的樣式檔，這邊建立在","/assets/main.scss","以及","/assets/custom.scss","中。","/* Custom Settings Here */","","@import '~bootstrap/scss/functions';","@import '~bootstrap/scss/variables';","@import '~bootstrap-vue/src/variables';","@import 'custom';","","/* Bootstrap Tree Shaking */","@import '~bootstrap/scss/mixins';","@import '~bootstrap/scss/root';","@import '~bootstrap/scss/reboot';","@import '~bootstrap/scss/type';","@import '~bootstrap/scss/images';","@import '~bootstrap/scss/code';","@import '~bootstrap/scss/grid';","// @import \"~bootstrap/scss/tables\";","@import '~bootstrap/scss/forms';","@import '~bootstrap/scss/buttons';","@import '~bootstrap/scss/transitions';","// @import \"~bootstrap/scss/dropdown\";","// @import \"~bootstrap/scss/button-group\";","// @import \"~bootstrap/scss/input-group\";","// @import \"~bootstrap/scss/custom-forms\";","// @import \"~bootstrap/scss/nav\";","// @import \"~bootstrap/scss/navbar\";","@import '~bootstrap/scss/card';","// @import \"~bootstrap/scss/breadcrumb\";","// @import \"~bootstrap/scss/pagination\";","// @import \"~bootstrap/scss/badge\";","// @import \"~bootstrap/scss/jumbotron\";","// @import \"~bootstrap/scss/alert\";","// @import \"~bootstrap/scss/progress\";","// @import \"~bootstrap/scss/media\";","// @import \"~bootstrap/scss/list-group\";","// @import \"~bootstrap/scss/close\";","// @import \"~bootstrap/scss/toasts\";","// @import \"~bootstrap/scss/modal\";","// @import \"~bootstrap/scss/tooltip\";","// @import \"~bootstrap/scss/popover\";","// @import \"~bootstrap/scss/carousel\";","// @import \"~bootstrap/scss/spinners\";","// @import \"~bootstrap/scss/print\";","","// 將~bootstrap/scss/_utilities.scss展開","@import '~bootstrap/scss/utilities/align';","@import '~bootstrap/scss/utilities/background';","@import '~bootstrap/scss/utilities/borders';","@import '~bootstrap/scss/utilities/clearfix';","@import '~bootstrap/scss/utilities/display';","@import '~bootstrap/scss/utilities/embed';","@import '~bootstrap/scss/utilities/flex';","@import '~bootstrap/scss/utilities/float';","@import '~bootstrap/scss/utilities/interactions';","@import '~bootstrap/scss/utilities/overflow';","@import '~bootstrap/scss/utilities/position';","@import '~bootstrap/scss/utilities/screenreaders';","@import '~bootstrap/scss/utilities/shadows';","@import '~bootstrap/scss/utilities/sizing';","@import '~bootstrap/scss/utilities/spacing';","@import '~bootstrap/scss/utilities/stretched-link';","@import '~bootstrap/scss/utilities/text';","@import '~bootstrap/scss/utilities/visibility';","","/* Bootstrap Vue Tree Shaking */","@import '~bootstrap-vue/src/utilities';","@import '~bootstrap-vue/src/custom-controls';","@import '~bootstrap-vue/src/icons/index';","","// 將~bootstrap-vue/src/components/index.scss展開","// @import \"~bootstrap-vue/src/components/avatar/index\";","// @import \"~bootstrap-vue/src/components/calendar/index\";","@import '~bootstrap-vue/src/components/card/index';","// @import \"~bootstrap-vue/src/components/dropdown/index\";","// @import \"~bootstrap-vue/src/components/form-checkbox/index\";","// @import \"~bootstrap-vue/src/components/form-datepicker/index\";","// @import \"~bootstrap-vue/src/components/form-file/index\";","@import '~bootstrap-vue/src/components/form-input/index';","// @import \"~bootstrap-vue/src/components/form-radio/index\";","// @import \"~bootstrap-vue/src/components/form-rating/index\";","// @import \"~bootstrap-vue/src/components/form-spinbutton/index\";","// @import \"~bootstrap-vue/src/components/form-tags/index\";","// @import \"~bootstrap-vue/src/components/form-timepicker/index\";","@import '~bootstrap-vue/src/components/input-group/index';","// @import \"~bootstrap-vue/src/components/media/index\";","// @import \"~bootstrap-vue/src/components/modal/index\";","// @import \"~bootstrap-vue/src/components/nav/index\";","// @import \"~bootstrap-vue/src/components/navbar/index\";","@import '~bootstrap-vue/src/components/pagination-nav/index';","@import '~bootstrap-vue/src/components/pagination/index';","// @import \"~bootstrap-vue/src/components/popover/index\";","// @import \"~bootstrap-vue/src/components/sidebar/index\";","// @import \"~bootstrap-vue/src/components/skeleton/index\";","// @import \"~bootstrap-vue/src/components/table/index\";","// @import \"~bootstrap-vue/src/components/time/index\";","// @import \"~bootstrap-vue/src/components/toast/index\";","// @import \"~bootstrap-vue/src/components/tooltip/index\";","其中","main.scss","不需要的就註解掉，需要使用到再把註解打開。","引入自行編寫樣式","最後參考","官方文件","，設定","nuxt.config.js","使用我們自己編寫的樣式檔：","module",".","exports","=","{","modules: [","'bootstrap-vue/nuxt'","],","css: [","// SCSS file in the project","'~/assets/css/main.scss'",",","],","}","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/nuxt2_content_code_block_copy_paste","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"在Nuxt Content v1中實現程式碼區塊複製貼上功能","description":"用 Nuxt Content 作為部落格的基底讓我最開心的部份，就是 markdown 中的程式碼區塊了，自動上色、格式化、支援的語言非常多，這是很多部落格平台都無法提供的，但若需要程式碼複製貼上功能，就得自己額外處理。","img":"923/YRlYZO.jpg","tags":["nuxt","nuxt2","nuxt content v1","nuxt content","markdown"],"category":"frontend","readingTime":{"text":"4 min read","minutes":3.32,"time":199200,"words":664},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"用 Nuxt Content 作為部落格的基底讓我最開心的部份，就是 markdown 中的程式碼區塊了，自動上色、格式化、支援的語言非常多，這是很多部落格平台都無法提供的，但若需要程式碼複製貼上功能，就得自己額外處理。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這篇文章紀錄了自己從查資料最後搞出來的一些過程，最後是透過在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":"中自訂程式碼區塊處理器來實現。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"用 Nuxt Content 作為部落格的基底讓我最開心的部份，就是 markdown 中的程式碼區塊了，自動上色、格式化、支援的語言非常多，這是很多部落格平台都無法提供的，但若需要程式碼複製貼上功能，就得自己額外處理。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這篇文章紀錄了自己從查資料最後搞出來的一些過程，最後是透過在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":"中自訂程式碼區塊處理器來實現。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"用元件把程式碼區塊包起來"},"children":[{"type":"text","value":"用元件把程式碼區塊包起來"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"初步的想法是用一個元件在 markdown 中把程式碼區塊包起來，再把"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"slot"}]},{"type":"text","value":"外面那層"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"div"}]},{"type":"text","value":"填上"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ref"}]},{"type":"text","value":"，這樣就可以去抓裡面的文字內容拿來寫入剪貼簿。自己寫出來大概是長這樣："}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes github-dark","code":"<template>\n  <div>\n    <div>\n      <button @click=\"copyCode\" variant=\"link\">複製程式碼</button>\n    </div>\n\n    <div ref=\"code\">\n      <!-- markdown中程式碼嵌入的地方 -->\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    copyCode() {\n      if (this.copied) return\n\n      const { code } = this.$refs\n\n      if (navigator.clipboard?.writeText) {\n        const toCopyCode = code.innerText\n        navigator.clipboard.writeText(toCopyCode)\n      } else {\n        const range = document.createRange()\n        range.selectNode(code)\n\n        const selection = window.getSelection()\n        selection.removeAllRanges()\n        selection.addRange(range)\n\n        document.execCommand('copy')\n        selection.removeAllRanges()\n      }\n    },\n  },\n}\n</script>\n","filename":"article-code.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" @"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"click"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"copyCode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" variant"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"link\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">複製程式碼</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" ref"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"code\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      <!-- markdown中程式碼嵌入的地方 -->\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"slot"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"slot"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  methods: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"    copyCode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"      if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":".copied) "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"return\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"      const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"code"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" this"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":".$refs\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"      if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" (navigator.clipboard?.writeText) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"        const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" toCopyCode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" code.innerText\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        navigator.clipboard."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"writeText"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(toCopyCode)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"else"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"        const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" range"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" document."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"createRange"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        range."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"selectNode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(code)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"        const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" selection"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" window."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"getSelection"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        selection."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"removeAllRanges"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        selection."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"addRange"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(range)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        document."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"execCommand"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'copy'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        selection."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"removeAllRanges"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而把元件寫在 markdown 檔案會長這樣："}]},{"type":"element","tag":"pre","props":{"className":"language-markdown shiki shiki-themes github-dark","code":"<article-code>\n\n```bash\nsudo dnf update -y\n```\n\n</article-code>\n","filename":"article.md","language":"markdown","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<article-code>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"```bash\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" update"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -y\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"```\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</article-code>\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以看到因為 markdown 解析的關係，元件標籤與程式碼區塊之間上下還要再空一行。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為每次寫程式碼區塊的時候都要嵌入元件，若文章有大量或是連續的程式碼區塊，閱讀性會降低很多，最後看到頭很痛。後來就找找有沒有辦法在處理程式碼區塊產生 html 時，順便用元件包起來的方法，這樣就不用一直自己額外包起來，後來查到還真的有。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"自訂程式碼處理器"},"children":[{"type":"text","value":"自訂程式碼處理器"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Nuxt Content v1 中有一個設定值"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"markdown.highlighter"}]},{"type":"text","value":"，可以"},{"type":"element","tag":"a","props":{"href":"https://content.nuxt.com/v1/getting-started/configuration#markdownhighlighter","rel":["nofollow"]},"children":[{"type":"text","value":"自己決定程式碼被解析後的外層 HTML 結構"}]},{"type":"text","value":"，官方"},{"type":"element","tag":"a","props":{"href":"https://content.nuxt.com/v1/community/snippets#custom-highlighter","rel":["nofollow"]},"children":[{"type":"text","value":"使用了 highlight.js 以及 shiki 作為示範"}]},{"type":"text","value":"，看了看之後滿喜歡 shiki 的，所以就使用 shiki。"}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes github-dark","code":"import shiki from 'shiki'\n\nexport default {\n  content: {\n    markdown: {\n      async highlighter() {\n        const highlighter = await shiki.getHighlighter({\n          theme: 'nord',\n        })\n\n        return (rawCode, lang, { fileName }, { h, node, u }) => {\n          const highlightedCode = highlighter.codeToHtml(rawCode, lang)\n\n          const children = []\n          children.push(u('raw', highlightedCode))\n\n          return h(\n            node,\n            'article-code',\n            {\n              className: 'nuxt-content-highlight',\n              fileName,\n              lang,\n            },\n            children\n          )\n        }\n      },\n    },\n  },\n}\n","filename":"nuxt.config.js","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" shiki "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 'shiki'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  content: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    markdown: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"      async"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" highlighter"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"        const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" highlighter"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" shiki."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"getHighlighter"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          theme: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'nord'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"        return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"rawCode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"lang"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"fileName"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" }, { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"h"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"node"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"          const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" highlightedCode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" highlighter."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"codeToHtml"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(rawCode, lang)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"          const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" children"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          children."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"u"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'raw'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", highlightedCode))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"          return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" h"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"            node,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"            'article-code'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"            {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"              className: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'nuxt-content-highlight'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"              fileName,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"              lang,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"            },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"            children\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          )\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在這邊解析完後產生的 html 會再被 Nuxt 處理，所以可以插入 vue component，也可以直接把"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"fileName"}]},{"type":"text","value":"或"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lang"}]},{"type":"text","value":"作為 props 傳遞給元件，自訂性更高。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概就是這樣了！最一開始是想說有沒有內建的方式可以簡單實作這功能，查了一下好像沒查到，所以就自己動手搞了，幸好也沒有太複雜。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"用元件把程式碼區塊包起來","depth":2,"text":"用元件把程式碼區塊包起來"},{"id":"自訂程式碼處理器","depth":2,"text":"自訂程式碼處理器"}]}},"_type":"markdown","_id":"content:articles:2023:nuxt2_content_code_block_copy_paste.md","_source":"content","_file":"articles/2023/nuxt2_content_code_block_copy_paste.md","_extension":"md","createdAt":"2023-12-12T05:50:50.000Z","updatedAt":"2023-12-12T05:50:50.000Z","slug":"nuxt2_content_code_block_copy_paste","plainTexts":["用 Nuxt Content 作為部落格的基底讓我最開心的部份，就是 markdown 中的程式碼區塊了，自動上色、格式化、支援的語言非常多，這是很多部落格平台都無法提供的，但若需要程式碼複製貼上功能，就得自己額外處理。","這篇文章紀錄了自己從查資料最後搞出來的一些過程，最後是透過在","nuxt.config.js","中自訂程式碼區塊處理器來實現。","用元件把程式碼區塊包起來","初步的想法是用一個元件在 markdown 中把程式碼區塊包起來，再把","slot","外面那層","div","填上","ref","，這樣就可以去抓裡面的文字內容拿來寫入剪貼簿。自己寫出來大概是長這樣：","<","template",">","<","div",">","<","div",">","<","button","@","click","=","\"","copyCode","\"","variant","=","\"link\"",">複製程式碼</","button",">","</","div",">","","<","div","ref","=","\"code\"",">","<!-- markdown中程式碼嵌入的地方 -->","<","slot","></","slot",">","</","div",">","</","div",">","</","template",">","","<","script",">","export","default","{","methods: {","copyCode","() {","if","(","this",".copied)","return","","const","{","code","}","=","this",".$refs","","if","(navigator.clipboard?.writeText) {","const","toCopyCode","=","code.innerText","navigator.clipboard.","writeText","(toCopyCode)","}","else","{","const","range","=","document.","createRange","()","range.","selectNode","(code)","","const","selection","=","window.","getSelection","()","selection.","removeAllRanges","()","selection.","addRange","(range)","","document.","execCommand","(","'copy'",")","selection.","removeAllRanges","()","}","},","},","}","</","script",">","而把元件寫在 markdown 檔案會長這樣：","<article-code>","","```bash","sudo","dnf","update","-y","```","","</article-code>","可以看到因為 markdown 解析的關係，元件標籤與程式碼區塊之間上下還要再空一行。","因為每次寫程式碼區塊的時候都要嵌入元件，若文章有大量或是連續的程式碼區塊，閱讀性會降低很多，最後看到頭很痛。後來就找找有沒有辦法在處理程式碼區塊產生 html 時，順便用元件包起來的方法，這樣就不用一直自己額外包起來，後來查到還真的有。","自訂程式碼處理器","在 Nuxt Content v1 中有一個設定值","markdown.highlighter","，可以","自己決定程式碼被解析後的外層 HTML 結構","，官方","使用了 highlight.js 以及 shiki 作為示範","，看了看之後滿喜歡 shiki 的，所以就使用 shiki。","import","shiki","from","'shiki'","","export","default","{","content: {","markdown: {","async","highlighter","() {","const","highlighter","=","await","shiki.","getHighlighter","({","theme:","'nord'",",","})","","return","(","rawCode",",","lang",", {","fileName","}, {","h",",","node",",","u","})","=>","{","const","highlightedCode","=","highlighter.","codeToHtml","(rawCode, lang)","","const","children","=","[]","children.","push","(","u","(","'raw'",", highlightedCode))","","return","h","(","node,","'article-code'",",","{","className:","'nuxt-content-highlight'",",","fileName,","lang,","},","children",")","}","},","},","},","}","在這邊解析完後產生的 html 會再被 Nuxt 處理，所以可以插入 vue component，也可以直接把","fileName","或","lang","作為 props 傳遞給元件，自訂性更高。","大概就是這樣了！最一開始是想說有沒有內建的方式可以簡單實作這功能，查了一下好像沒查到，所以就自己動手搞了，幸好也沒有太複雜。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/nuxt2_content_git","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"使用nuxt-content-git取得Nuxt2 Content中正確的檔案時間","description":"建完這個部落格之後，發現好像不太對，怎麼前幾天發的文章，日期卻變成今天。後來發現是因為若從 A 電腦更新文章，在 B 電腦用 git 同步更新檔案之後，檔案的更新日期會變成當下的時間。","tags":["vue","nuxt"],"img":"924/WCeWkF.jpg","category":"frontend","readingTime":{"text":"2 min read","minutes":1.55,"time":93000,"words":310},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"建完這個部落格之後，發現好像不太對，怎麼前幾天發的文章，日期卻變成今天。後來發現是因為若從 A 電腦更新文章，在 B 電腦用 git 同步更新檔案之後，檔案的更新日期會變成當下的時間。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上網查了一下後，發現已經有人針對這個問題提出解方：那就是去撈這個檔案在 git 紀錄上的建立與更新時間，來取代本機檔案的建立與更新時間。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"建完這個部落格之後，發現好像不太對，怎麼前幾天發的文章，日期卻變成今天。後來發現是因為若從 A 電腦更新文章，在 B 電腦用 git 同步更新檔案之後，檔案的更新日期會變成當下的時間。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上網查了一下後，發現已經有人針對這個問題提出解方：那就是去撈這個檔案在 git 紀錄上的建立與更新時間，來取代本機檔案的建立與更新時間。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"並且他也寫成"},{"type":"element","tag":"a","props":{"href":"https://github.com/dword-design/nuxt-content-git","rel":["nofollow"]},"children":[{"type":"text","value":"套件"}]},{"type":"text","value":"方便讓大家安裝與設定，下面會紀錄步驟。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝與設定"},"children":[{"type":"text","value":"安裝與設定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先就是安裝囉，非常簡單。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"npm install nuxt-content-git\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" nuxt-content-git\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"設定也很簡單，在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":"中設定就可以囉。"}]},{"type":"element","tag":"pre","props":{"className":"language-javascript shiki shiki-themes github-dark","code":"export default {\n  modules: [\n    // 把nuxt-content-git放在@nuxt/content之前\n    'nuxt-content-git',\n    '@nuxt/content',\n  ],\n}\n","filename":"nuxt.config.js","language":"javascript","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  modules: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    // 把nuxt-content-git放在@nuxt/content之前\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"    'nuxt-content-git'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"    '@nuxt/content'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這樣就會把原本文章檔案的本機建立時間、更新時間，替換成 git 紀錄上的建立時間、更新時間。然後直接照原本的方式取"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"createdAt"}]},{"type":"text","value":"與"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"updatedAt"}]},{"type":"text","value":"就會得到正確的時間囉。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若你也感謝這位作者的貢獻，也歡迎實際贊助他唷！可以到"},{"type":"element","tag":"a","props":{"href":"https://github.com/dword-design/nuxt-content-git#support","rel":["nofollow"]},"children":[{"type":"text","value":"這個套件的 github 頁面"}]},{"type":"text","value":"看詳細的資訊。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"安裝與設定","depth":2,"text":"安裝與設定"}]}},"_type":"markdown","_id":"content:articles:2023:nuxt2_content_git.md","_source":"content","_file":"articles/2023/nuxt2_content_git.md","_extension":"md","createdAt":"2023-01-06T13:35:19.000Z","updatedAt":"2023-10-30T09:24:31.000Z","slug":"nuxt2_content_git","plainTexts":["建完這個部落格之後，發現好像不太對，怎麼前幾天發的文章，日期卻變成今天。後來發現是因為若從 A 電腦更新文章，在 B 電腦用 git 同步更新檔案之後，檔案的更新日期會變成當下的時間。","上網查了一下後，發現已經有人針對這個問題提出解方：那就是去撈這個檔案在 git 紀錄上的建立與更新時間，來取代本機檔案的建立與更新時間。","並且他也寫成","套件","方便讓大家安裝與設定，下面會紀錄步驟。","安裝與設定","首先就是安裝囉，非常簡單。","npm","install","nuxt-content-git","設定也很簡單，在","nuxt.config.js","中設定就可以囉。","export","default","{","modules: [","// 把nuxt-content-git放在@nuxt/content之前","'nuxt-content-git'",",","'@nuxt/content'",",","],","}","這樣就會把原本文章檔案的本機建立時間、更新時間，替換成 git 紀錄上的建立時間、更新時間。然後直接照原本的方式取","createdAt","與","updatedAt","就會得到正確的時間囉。","若你也感謝這位作者的貢獻，也歡迎實際贊助他唷！可以到","這個套件的 github 頁面","看詳細的資訊。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/nuxt2_dynamic_routes_sitemap","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"在Nuxt 2中建立動態routes的sitemap","description":"Sitemap 雖然對網站來說非必要，但為了 SEO 考量通常都還是會建立。而在 Nuxt 2 中可以透過@nuxt/sitemap模組來簡單建立 sitemap。但若遇到動態頁面，這個模組無法自動新增，官方文件要求使用者必須自行新增，而官方建議的作法以及網路上查到的方式好像都滿麻煩的，所以自己搞了一個小撇步出來，覺得頗方便，所以就紀錄下來。","img":"923/KaAGJw.png","tags":["nuxt","vue","sitemap"],"category":"frontend","readingTime":{"text":"4 min read","minutes":3.37,"time":202200,"words":674},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sitemap 雖然對網站來說非必要，但為了 SEO 考量通常都還是會建立。而在 Nuxt 2 中可以透過"},{"type":"element","tag":"a","props":{"href":"https://sitemap.nuxtjs.org/","rel":["nofollow"]},"children":[{"type":"text","value":"@nuxt/sitemap"}]},{"type":"text","value":"模組來簡單建立 sitemap。但若遇到動態頁面，這個模組無法自動新增，官方文件要求使用者必須自行新增，而官方建議的作法以及網路上查到的方式好像都滿麻煩的，所以自己搞了一個小撇步出來，覺得頗方便，所以就紀錄下來。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Sitemap 雖然對網站來說非必要，但為了 SEO 考量通常都還是會建立。而在 Nuxt 2 中可以透過"},{"type":"element","tag":"a","props":{"href":"https://sitemap.nuxtjs.org/","rel":["nofollow"]},"children":[{"type":"text","value":"@nuxt/sitemap"}]},{"type":"text","value":"模組來簡單建立 sitemap。但若遇到動態頁面，這個模組無法自動新增，官方文件要求使用者必須自行新增，而官方建議的作法以及網路上查到的方式好像都滿麻煩的，所以自己搞了一個小撇步出來，覺得頗方便，所以就紀錄下來。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"解決過程"},"children":[{"type":"text","value":"解決過程"}]},{"type":"element","tag":"h3","props":{"id":"官方建議"},"children":[{"type":"text","value":"官方建議？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先，根據"},{"type":"element","tag":"a","props":{"href":"https://sitemap.nuxtjs.org/usage/sitemap#setup-a-sitemap","rel":["nofollow"]},"children":[{"type":"text","value":"官方文件"}]},{"type":"text","value":"所說，模組本身只會預設建立固定頁面（也就是在路徑 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pages"}]},{"type":"text","value":" 中建立的非動態頁面——也就是不使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"_param.vue"}]},{"type":"text","value":" 形式建立的頁面）的 sitemap："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All static routes (eg. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/pages/about.vue"}]},{"type":"text","value":") are automatically add to the sitemap, but you can exclude each of them with the "},{"type":"element","tag":"a","props":{"href":"https://sitemap.nuxtjs.org/usage/sitemap-options#exclude-optional---string-array","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"exclude"}]}]},{"type":"text","value":" property."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For dynamic routes (eg. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/pages/\\_id.vue"}]},{"type":"text","value":"), you have to declare them with the "},{"type":"element","tag":"a","props":{"href":"https://sitemap.nuxtjs.org/usage/sitemap-options#routes-optional---array--function","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"routes"}]}]},{"type":"text","value":" property. This option can be an array or a function. In addition, the routes defined in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"generate.routes"}]},{"type":"text","value":" will be automatically used for the sitemap."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然而官方建議的作法滿麻煩的："}]},{"type":"element","tag":"pre","props":{"className":"language-javascript shiki shiki-themes github-dark","code":"export default {\n  sitemap: {\n    hostname: 'https://example.com',\n    gzip: true,\n    exclude: ['/secret', '/admin/**'],\n    routes: [\n      '/page/1',\n      '/page/2',\n      {\n        url: '/page/3',\n        changefreq: 'daily',\n        priority: 1,\n        lastmod: '2017-06-30T13:30:00.000Z',\n      },\n    ],\n  },\n}\n","filename":"nuxt.config.js","language":"javascript","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  sitemap: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    hostname: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'https://example.com'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    gzip: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    exclude: ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'/secret'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'/admin/**'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    routes: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"      '/page/1'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"      '/page/2'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        url: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'/page/3'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        changefreq: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'daily'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        priority: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        lastmod: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'2017-06-30T13:30:00.000Z'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也就是要自己去抓取動態頁面而且把可能會用到的動態參數自己填上去，然後做成陣列的形式回傳，若動態頁面不多或許還算容易，但若動態頁面不少或是參數很複雜，那可能就會很麻煩。上網查了一下，作法好像都差不多，所以就自己思考有沒有比較好的作法。"}]},{"type":"element","tag":"h3","props":{"id":"使用-nuxt-的內建-crawler"},"children":[{"type":"text","value":"使用 Nuxt 的內建 crawler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"後來想想，Nuxt 2 不是有內建 "},{"type":"element","tag":"a","props":{"href":"https://v2.nuxt.com/docs/get-started/commands#static-deployment-pre-rendered","rel":["nofollow"]},"children":[{"type":"text","value":"crawler"}]},{"type":"text","value":" 來產生動態參數的靜態頁面嗎？如果在 Nuxt 2 的 "},{"type":"element","tag":"a","props":{"href":"https://v2.nuxt.com/docs/internals-glossary/internals-generator#hooks","rel":["nofollow"]},"children":[{"type":"text","value":"Generate Hooks"}]},{"type":"text","value":" 中把抓到的 routes 放到一個全域變數，然後在 sitemap 模組在產生檔案時傳進去，就不用自己傳了吧？"}]},{"type":"element","tag":"h3","props":{"id":"實作"},"children":[{"type":"text","value":"實作"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那麼就來實作吧，大致的概念就跟上面說的一樣，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":"設定檔前面宣告一個陣列，在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"generate:hooks"}]},{"type":"text","value":"的時候存放到陣列中，並傳給 sitemap 模組："}]},{"type":"element","tag":"pre","props":{"className":"language-javascript shiki shiki-themes github-dark","code":"// 存放從generate hooks偷出來的routes\nconst routes = []\n\nexport default {\n  // 從generate hooks偷routes出來給sitemap使用\n  hooks: {\n    generate: {\n      route(data) {\n        const { route } = data\n        routes.push(data)\n      },\n    },\n  },\n  sitemap: {\n    hostname: 'https://example.com',\n    gzip: true,\n    // 直接使用routes\n    routes,\n  },\n}\n","filename":"nuxt.config.js","language":"javascript","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"// 存放從generate hooks偷出來的routes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" routes"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // 從generate hooks偷routes出來給sitemap使用\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  hooks: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    generate: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"      route"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"        const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        routes."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(data)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  sitemap: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    hostname: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'https://example.com'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    gzip: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    // 直接使用routes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    routes,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"檢驗-sitemap"},"children":[{"type":"text","value":"檢驗 sitemap"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"設定好之後執行"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"npm run generate"}]},{"type":"text","value":"再檢查"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dist/sitemap.xml"}]},{"type":"text","value":"，以這個部落格為例子，就有看到出現下面的動態頁面網址，代表成功了："}]},{"type":"element","tag":"pre","props":{"className":"language-xml shiki shiki-themes github-dark","code":"<url>\n  <loc>https://huangchingchieh.github.io/blog/pages/1</loc>\n</url>\n","language":"xml","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"<url>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"  <loc>https://huangchingchieh.github.io/blog/pages/1</loc>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"</url>\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其實有點疑問為何這個模組沒有整合 crawler，找了一下官方文件好像也沒說明，但總之自己亂搞弄出來一個解決方式了（？）。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"解決過程","depth":2,"text":"解決過程","children":[{"id":"官方建議","depth":3,"text":"官方建議？"},{"id":"使用-nuxt-的內建-crawler","depth":3,"text":"使用 Nuxt 的內建 crawler"},{"id":"實作","depth":3,"text":"實作"},{"id":"檢驗-sitemap","depth":3,"text":"檢驗 sitemap"}]},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:nuxt2_dynamic_routes_sitemap.md","_source":"content","_file":"articles/2023/nuxt2_dynamic_routes_sitemap.md","_extension":"md","createdAt":"2023-10-30T09:24:31.000Z","updatedAt":"2023-10-30T09:24:31.000Z","slug":"nuxt2_dynamic_routes_sitemap","plainTexts":["Sitemap 雖然對網站來說非必要，但為了 SEO 考量通常都還是會建立。而在 Nuxt 2 中可以透過","@nuxt/sitemap","模組來簡單建立 sitemap。但若遇到動態頁面，這個模組無法自動新增，官方文件要求使用者必須自行新增，而官方建議的作法以及網路上查到的方式好像都滿麻煩的，所以自己搞了一個小撇步出來，覺得頗方便，所以就紀錄下來。","解決過程","官方建議？","首先，根據","官方文件","所說，模組本身只會預設建立固定頁面（也就是在路徑","pages","中建立的非動態頁面——也就是不使用","_param.vue","形式建立的頁面）的 sitemap：","All static routes (eg.","/pages/about.vue",") are automatically add to the sitemap, but you can exclude each of them with the","exclude","property.","For dynamic routes (eg.","/pages/\\_id.vue","), you have to declare them with the","routes","property. This option can be an array or a function. In addition, the routes defined in","generate.routes","will be automatically used for the sitemap.","然而官方建議的作法滿麻煩的：","export","default","{","sitemap: {","hostname:","'https://example.com'",",","gzip:","true",",","exclude: [","'/secret'",",","'/admin/**'","],","routes: [","'/page/1'",",","'/page/2'",",","{","url:","'/page/3'",",","changefreq:","'daily'",",","priority:","1",",","lastmod:","'2017-06-30T13:30:00.000Z'",",","},","],","},","}","也就是要自己去抓取動態頁面而且把可能會用到的動態參數自己填上去，然後做成陣列的形式回傳，若動態頁面不多或許還算容易，但若動態頁面不少或是參數很複雜，那可能就會很麻煩。上網查了一下，作法好像都差不多，所以就自己思考有沒有比較好的作法。","使用 Nuxt 的內建 crawler","後來想想，Nuxt 2 不是有內建","crawler","來產生動態參數的靜態頁面嗎？如果在 Nuxt 2 的","Generate Hooks","中把抓到的 routes 放到一個全域變數，然後在 sitemap 模組在產生檔案時傳進去，就不用自己傳了吧？","實作","那麼就來實作吧，大致的概念就跟上面說的一樣，","nuxt.config.js","設定檔前面宣告一個陣列，在","generate:hooks","的時候存放到陣列中，並傳給 sitemap 模組：","// 存放從generate hooks偷出來的routes","const","routes","=","[]","","export","default","{","// 從generate hooks偷routes出來給sitemap使用","hooks: {","generate: {","route","(","data",") {","const","{","route","}","=","data","routes.","push","(data)","},","},","},","sitemap: {","hostname:","'https://example.com'",",","gzip:","true",",","// 直接使用routes","routes,","},","}","檢驗 sitemap","設定好之後執行","npm run generate","再檢查","dist/sitemap.xml","，以這個部落格為例子，就有看到出現下面的動態頁面網址，代表成功了：","<url>","<loc>https://huangchingchieh.github.io/blog/pages/1</loc>","</url>","後記","其實有點疑問為何這個模組沒有整合 crawler，找了一下官方文件好像也沒說明，但總之自己亂搞弄出來一個解決方式了（？）。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/okinawa_first_day_2023","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"2023沖繩自由行：第一天——首里城","description":"本來要開始寫菲律賓宿霧薄荷島的遊記，結果發現去年的沖繩還沒寫完啊！所以就回頭來寫了。這次因為是買大約沖繩時間中午到的飛機，入個住之後白天剩沒多少時間，想說去首里城看一下就好，入住的飯店很不錯，會額外寫一篇介紹。","img":"922/6iMitZ.jpg","tags":["沖繩","自助旅行","自由行","okinawa","首里城","單軌列車"],"category":"life","readingTime":{"text":"5 min read","minutes":4.66,"time":279600,"words":932},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本來要開始寫菲律賓宿霧薄荷島的遊記，結果發現去年的沖繩還沒寫完啊！所以就回頭來寫了。這次因為是買大約沖繩時間中午到的飛機，入個住之後白天剩沒多少時間，想說去首里城看一下就好，入住的飯店很不錯，會額外寫一篇介紹。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本來要開始寫菲律賓宿霧薄荷島的遊記，結果發現去年的沖繩還沒寫完啊！所以就回頭來寫了。這次因為是買大約沖繩時間中午到的飛機，入個住之後白天剩沒多少時間，想說去首里城看一下就好，入住的飯店很不錯，會額外寫一篇介紹。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"交通方式"},"children":[{"type":"text","value":"交通方式"}]},{"type":"element","tag":"h3","props":{"id":"單軌列車"},"children":[{"type":"text","value":"單軌列車"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沖繩有類似台灣捷運的單軌列車，市內許多景點都能透過它配合走一些路抵達，這天去的首里城也是。由於單軌列車票價不便宜，以我們這次抵達機場 → 飯店 → 首里 → 再去其他地方的價格來說，會至少等於買一日票（"},{"type":"element","tag":"text-price","props":{"currency":"JPY","price":"800"},"children":[]},{"type":"text","value":"）："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"那霸機場 → 壺川 "},{"type":"element","tag":"text-price","props":{"currency":"JPY","price":"270"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"壺川 → 首里 "},{"type":"element","tag":"text-price","props":{"currency":"JPY","price":"300"},"children":[]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"首里 → 任何地方 > "},{"type":"element","tag":"text-price","props":{"currency":"JPY","price":"230"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"建議大家若當天是規劃坐單軌列車在市區內晃晃的話，可以考慮直接買一日票，幾乎都會比較省錢。車資可參考"},{"type":"element","tag":"a","props":{"href":"https://www.yui-rail.co.jp/tc/routemap/nahakuko/?t=fare","rel":["nofollow"]},"children":[{"type":"text","value":"沖繩單軌列車官網"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h3","props":{"id":"轉步行上之毛公園路線"},"children":[{"type":"text","value":"轉步行：上之毛公園路線"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"抵達單軌列車首里站之後，要步行一小段路才能抵達首里城，"},{"type":"element","tag":"a","props":{"href":"https://oki-park.jp/shurijo/tc/access/3751","rel":["nofollow"]},"children":[{"type":"text","value":"首里城公園官網"}]},{"type":"text","value":"建議了兩條路線，我們選擇了花費時間較短的「上之毛公園路線」。除了進入上之毛公園要走一小段上坡以外，剩下都是下樓梯跟下坡，若不介意爬點坡運動一下的話，自己是推薦走這條，相對另一條「守禮門路線」快上許多。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"途中還可以眺望一下週邊的城市風景，但路途中遮蔽物較少，要準備一下防曬。"}]},{"type":"element","tag":"article-img","props":{"img":"922/i6dnmM.jpg"},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"重建中的首里城"},"children":[{"type":"text","value":"重建中的首里城"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上次來首里城已經是疫情前，當時因抵達的時候已經太晚所以無法進入正殿參觀，結果……回來沒多久"},{"type":"element","tag":"a","props":{"href":"https://www.cna.com.tw/news/firstnews/201910310100.aspx","rel":["nofollow"]},"children":[{"type":"text","value":"正殿便慘遭祝融"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而這次去，正殿因之前火災正在重建中，雖然沒看到正殿宏偉的內部，但覺得重建工程的浩大程度反而更值得一看，畢竟火災可能久久才發生一次。"}]},{"type":"element","tag":"article-img","props":{"img":"924/vQ5AdA.jpg"},"children":[]},{"type":"element","tag":"article-img","props":{"img":"922/s94vhf.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"為了重現出古代人工鑿刻的梁柱，會看到有很多師傅使用工具一柱一柱地處理雕琢大樹幹，參觀路線中也會介紹重建使用的木材、工法……等等，可以說是另一種奇景，正殿門票"},{"type":"element","tag":"text-price","props":{"currency":"JPY","price":"400"},"children":[]},{"type":"text","value":"換算台幣大概就是 100 元左右，自己心態就是當作贊助重建。"}]},{"type":"element","tag":"article-img","props":{"img":"924/lIbJuF.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不得不說，日本人的工程不愧是世界聞名，處理工程事務時就是非常乾淨整潔，不僅是在首里城，連在路邊看到的小工程，都比台灣的看起來整齊許多。"}]},{"type":"element","tag":"article-img","props":{"img":"923/h0u6Lo.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不付費的話，覺得觀賞歷史悠久的城牆與城門也非常值得，首里城同時也是附近的制高點，欣賞周遭風景也是不錯的。"}]},{"type":"element","tag":"article-img","props":{"img":"923/R0c4ie.jpg"},"children":[]},{"type":"element","tag":"article-img","props":{"img":"923/MZtlCq.jpg"},"children":[]},{"type":"element","tag":"article-img","props":{"img":"922/HSLoWP.jpg"},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第一天因為剛飛過來，活動時間較短，逛了首里城之後差不多也晚上了。晚餐本來要去附近的"},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/Ur3AXrdkz2AXnRNn7","rel":["nofollow"]},"children":[{"type":"text","value":"琉球新麵通堂儀保站前店"}]},{"type":"text","value":"，但當天剛好休假所以就先回飯店休息一下，然後去吃 "},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/htv7pXZefUknhivH6","rel":["nofollow"]},"children":[{"type":"text","value":"A&W 國際通松尾店"}]},{"type":"text","value":"，順便微逛了一下國際通。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"是說 A&W 好好吃啊，炸雞比起麥當勞之類的好吃太多了，不過食物的部份會另外開一篇集合紀錄，這邊就不多說了，有興趣的可以點這裡："},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_foods_2023"},"children":[]},{"type":"text","value":"。隔天搭了北部的觀光巴士把幾個著名的北部景點跑了一遍，想繼續閱讀的可以點這裡："},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_one_day_tour_bus_2023"},"children":[]},{"type":"text","value":"。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"交通方式","depth":2,"text":"交通方式","children":[{"id":"單軌列車","depth":3,"text":"單軌列車"},{"id":"轉步行上之毛公園路線","depth":3,"text":"轉步行：上之毛公園路線"}]},{"id":"重建中的首里城","depth":2,"text":"重建中的首里城"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:okinawa_first_day_2023.md","_source":"content","_file":"articles/2023/okinawa_first_day_2023.md","_extension":"md","createdAt":"2024-03-21T07:44:12.000Z","updatedAt":"2024-03-21T07:44:12.000Z","slug":"okinawa_first_day_2023","plainTexts":["本來要開始寫菲律賓宿霧薄荷島的遊記，結果發現去年的沖繩還沒寫完啊！所以就回頭來寫了。這次因為是買大約沖繩時間中午到的飛機，入個住之後白天剩沒多少時間，想說去首里城看一下就好，入住的飯店很不錯，會額外寫一篇介紹。","交通方式","單軌列車","沖繩有類似台灣捷運的單軌列車，市內許多景點都能透過它配合走一些路抵達，這天去的首里城也是。由於單軌列車票價不便宜，以我們這次抵達機場 → 飯店 → 首里 → 再去其他地方的價格來說，會至少等於買一日票（","）：","那霸機場 → 壺川","壺川 → 首里","首里 → 任何地方 >","建議大家若當天是規劃坐單軌列車在市區內晃晃的話，可以考慮直接買一日票，幾乎都會比較省錢。車資可參考","沖繩單軌列車官網","。","轉步行：上之毛公園路線","抵達單軌列車首里站之後，要步行一小段路才能抵達首里城，","首里城公園官網","建議了兩條路線，我們選擇了花費時間較短的「上之毛公園路線」。除了進入上之毛公園要走一小段上坡以外，剩下都是下樓梯跟下坡，若不介意爬點坡運動一下的話，自己是推薦走這條，相對另一條「守禮門路線」快上許多。","途中還可以眺望一下週邊的城市風景，但路途中遮蔽物較少，要準備一下防曬。","重建中的首里城","上次來首里城已經是疫情前，當時因抵達的時候已經太晚所以無法進入正殿參觀，結果……回來沒多久","正殿便慘遭祝融","。","而這次去，正殿因之前火災正在重建中，雖然沒看到正殿宏偉的內部，但覺得重建工程的浩大程度反而更值得一看，畢竟火災可能久久才發生一次。","為了重現出古代人工鑿刻的梁柱，會看到有很多師傅使用工具一柱一柱地處理雕琢大樹幹，參觀路線中也會介紹重建使用的木材、工法……等等，可以說是另一種奇景，正殿門票","換算台幣大概就是 100 元左右，自己心態就是當作贊助重建。","不得不說，日本人的工程不愧是世界聞名，處理工程事務時就是非常乾淨整潔，不僅是在首里城，連在路邊看到的小工程，都比台灣的看起來整齊許多。","不付費的話，覺得觀賞歷史悠久的城牆與城門也非常值得，首里城同時也是附近的制高點，欣賞周遭風景也是不錯的。","後記","第一天因為剛飛過來，活動時間較短，逛了首里城之後差不多也晚上了。晚餐本來要去附近的","琉球新麵通堂儀保站前店","，但當天剛好休假所以就先回飯店休息一下，然後去吃","A&W 國際通松尾店","，順便微逛了一下國際通。","是說 A&W 好好吃啊，炸雞比起麥當勞之類的好吃太多了，不過食物的部份會另外開一篇集合紀錄，這邊就不多說了，有興趣的可以點這裡：","。隔天搭了北部的觀光巴士把幾個著名的北部景點跑了一遍，想繼續閱讀的可以點這裡：","。"]},{"_path":"/articles/2023/okinawa_foods_2023","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"2023沖繩自由行：食物篇——沖繩蕎麥麵、敘敘院燒肉、A&W、豬肉蛋飯糰、貢茶、吉野家、琉球新麵通堂、Blue Seal","description":"這次來沖繩除了特別訂好的敘敘院燒肉以外，吃得比較隨意，有時候直接吃飯店附近的吉野家，有時去吃類似沖繩麥當勞的 A&W，或是隨便在 Google 地圖找了一間 SOBA 來吃，令人驚訝的是都沒踩什麼大雷，即便是吉野家也比台灣的好吃幾十倍。","img":"923/12Txpj.jpg","tags":["沖繩","自助旅行","自由行","okinawa","沖繩蕎麥麵","敘敘院燒肉","A&W","豬肉蛋飯糰","貢茶","吉野家","琉球新麵通堂","Blue Seal"],"category":"life","readingTime":{"text":"15 min read","minutes":14.375,"time":862500,"words":2875},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這次來沖繩除了特別訂好的敘敘院燒肉以外，吃得比較隨意，有時候直接吃飯店附近的吉野家，有時去吃類似沖繩麥當勞的 A&W，或是隨便在 Google 地圖找了一間 SOBA 來吃，令人驚訝的是都沒踩什麼大雷，即便是吉野家也比台灣的好吃幾十倍。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為在遊記分別寫食物，感覺版面會很亂，所以就把這次吃的東西獨立出一篇來寫了，會照著個人喜歡的程度從最喜歡開始寫，越下面的就越不推薦了。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這次來沖繩除了特別訂好的敘敘院燒肉以外，吃得比較隨意，有時候直接吃飯店附近的吉野家，有時去吃類似沖繩麥當勞的 A&W，或是隨便在 Google 地圖找了一間 SOBA 來吃，令人驚訝的是都沒踩什麼大雷，即便是吉野家也比台灣的好吃幾十倍。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為在遊記分別寫食物，感覺版面會很亂，所以就把這次吃的東西獨立出一篇來寫了，會照著個人喜歡的程度從最喜歡開始寫，越下面的就越不推薦了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"沖縄そば-ひので"},"children":[{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/i3ASityazR3AkcQLA","rel":["nofollow"]},"children":[{"type":"text","value":"沖縄そば ひので"}]}]},{"type":"element","tag":"h3","props":{"id":"個人評分"},"children":[{"type":"text","value":"個人評分：★★★★★"}]},{"type":"element","tag":"article-img","props":{"img":"923/12Txpj.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這次來覺得最好吃的店！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"「そば」的意思就是蕎麥麵，台灣人對蕎麥麵的印象可能來自涼麵，沖繩蕎麥麵則大多做成湯麵形式，上面配上三層肉。疫情前來沖繩的時候曾吃過一次，那時候的感想是：「這不就陽春麵加滷肉嗎？」但這次來吃的沖縄そば ひので，卻完全顛覆我對沖繩蕎麥麵的觀感。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之所以會發現這家店，是因為"},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_one_day_tour_bus_2023_south"},"children":[{"type":"text","value":"第三天結束觀光巴士南部行程"}]},{"type":"text","value":"後的晚餐沒特別規劃，我跟旅伴就想說開 Google Map 搜尋「そば」，隨便選了這間離飯店很近的沖繩蕎麥麵店吃……結果沒想到變成這趟旅程最好吃的一餐。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前吃到的沖繩蕎麥麵大多湯頭偏清淡，但這家的湯頭本身就較為濃郁，配上很有彈性的麵體，吃起來非常過癮。招牌是三種肉蕎麥麵（我亂翻譯的），會有叉燒、滷五花肉以及燉肉，肉量很多，適合需要有飽足感的人。若想要吃蔬菜多一點的，他們也有生菜較多的品項。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"店內有套餐，就是可以用較便宜的價格再多點一個小副食，我們是點炸雞，吃起來就是一般的日式炸雞。可能因為較少外國觀光客光顧，所以店內只有日文菜單，日文苦手的要出動翻譯相機了。"}]},{"type":"element","tag":"article-img","props":{"img":"923/sP3IAB.jpg","aspect-ratio":"3/4"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後，真的要感謝觀光巴士導遊的說明，不然完全不知道要在沖繩蕎麥麵裡面加辣椒泡盛。辣椒泡盛如上圖，就是把生辣椒丟進"},{"type":"element","tag":"a","props":{"href":"https://zh.wikipedia.org/zh-tw/%E6%B3%A1%E7%9B%9B","rel":["nofollow"]},"children":[{"type":"text","value":"泡盛（沖繩當地的特產酒）"}]},{"type":"text","value":"，覺得作為調味料有點類似我們的米酒。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前來沖繩吃的時候沒加，這次加了之後發現會變成完全是不同次元的超讚料理！辣椒泡盛幾乎可說是沖繩蕎麥麵的靈魂了，請豪邁地加一湯匙！"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"叙々苑-沖縄おもろまち店"},"children":[{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/S2VaU3hygBGJ5h8X6","rel":["nofollow"]},"children":[{"type":"text","value":"叙々苑 沖縄おもろまち店"}]}]},{"type":"element","tag":"h3","props":{"id":"個人評分-1"},"children":[{"type":"text","value":"個人評分：★★★★★"}]},{"type":"element","tag":"article-img","props":{"img":"924/x2pVVx.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"讓我慕名已久的日本燒肉店，完全沒失望。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這次點的是午餐套餐，旅伴心一橫額外加點了一些高級肉，不過我們吃完之後覺得可以不用額外加點，因為肉的油脂非常豐富，不適合吃太多，加點的都是靠朋友吃完，我自己後來覺得太膩，都沒吃……。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"肉質油花豐富但分佈均勻，口感入口即化，即便是我這種堅持牛肉燒肉也必須吃全熟的人，就算把肉烤久一點也完全不會老，非常驚人。肉本身已經有使用醬汁調味過，考完直接吃或在附的檸檬汁中涮一下去油解膩再吃就非常有味道了。附的副餐也都是偏清爽的小菜、生菜……等等，跟口味較重的燒肉非常搭。"}]},{"type":"element","tag":"article-img","props":{"img":"922/m8zDV9.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"位置離沖繩美術館很近，行程可以安排在一起，像我們就是安排在"},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_fourth_day_2023"},"children":[{"type":"text","value":"第四天單軌列車市區一日遊"}]},{"type":"text","value":"的中餐吃敘敘院。不過入口處的待客空間很小，建議時間快到再前往即可。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後就是一定要訂位！我們平日中午來也是滿滿滿，官網有提供"},{"type":"element","tag":"a","props":{"href":"https://www.jojoen.co.jp/cn/#store","rel":["nofollow"]},"children":[{"type":"text","value":"簡體中文訂位頁面"}]},{"type":"text","value":"，不會太困難。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"aw-国際通り松尾店"},"children":[{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/5HhTauASfkxHiypC6","rel":["nofollow"]},"children":[{"type":"text","value":"A&W 国際通り松尾店"}]}]},{"type":"element","tag":"h3","props":{"id":"個人評分-2"},"children":[{"type":"text","value":"個人評分：★★★★★"}]},{"type":"element","tag":"article-img","props":{"img":"923/wwbVwl.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A&W 是一間在台灣看不到的、同樣發源自美國的速食連鎖店，自己覺得跟台灣速食店比較不同的有兩個地方，一個是他們的薯圈圈（上圖左方），一個就是他們的飲料：露啤（Root Beer，就是麥根沙士）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"薯圈圈其實就是切成圈狀的薯條，但 A&W 的薯條本身就會調味，而不是炸了之後加鹽這樣，吃起來有點像新鮮（？）的洋芋片，會讓人忍不住一條接一條。而露啤味道跟台灣的黑松沙士滿像的，但味道比較不那麼刺激，更緩和一點，喝起來更多了一些清涼感。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這次來跟旅伴分別點了牛肉排漢堡跟炸雞漢堡，覺得都比麥當勞、漢堡王那些好吃很多，自己特別喜歡的是炸雞。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這間 A&W 就位在國際通，我們是在"},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_first_day_2023"},"children":[{"type":"text","value":"第一天抵達沖繩的下午逛完首里城"}]},{"type":"text","value":"後，晚上去微逛國際通前吃的。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"ポーたま那覇空港国際線フードコート店"},"children":[{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/unYuFNMES7p9L5wW7","rel":["nofollow"]},"children":[{"type":"text","value":"ポーたま（那覇空港国際線フードコート店）"}]}]},{"type":"element","tag":"h3","props":{"id":"個人評分-3"},"children":[{"type":"text","value":"個人評分：★★★★★"}]},{"type":"element","tag":"article-img","props":{"img":"924/TtAlvG.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"豬肉蛋飯糰是沖繩代表性食物之一，把罐頭午餐肉與蛋用飯包起來，外面再包一層海苔，簡單暴力但美味。沖繩很多店都有在賣這樣的食物，可說是隨處可見，但來這幾天吃了滿多家，真的還是這家的最好吃，難怪這麼有名。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ポーたま的那霸機場國際線分店在四樓的美食廣場角落，要從中間有很多手扶梯那邊上四樓，如果從最旁邊的手扶梯會到祈禱室喔！不要走錯了（我們就迷路一次），若剛下飛機剛好是中餐時間，飛機上又沒供餐的話可以考慮來這邊覓食。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這次自己點的是豆腐飯糰，除了基礎的午餐肉跟蛋以外還夾了一塊炸豆腐。整個用料其實非常簡單，但有時候單純就是美味，整個飯糰的鹹度都來自於午餐肉，所以不要單吃它，不然會像我一樣鹹到舌頭發麻。"}]},{"type":"element","tag":"article-img","props":{"img":"922/vgUs1Z.jpg","aspect-ratio":"9/16"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這裡旁邊會有一排臨機場的窗台位置，可以邊吃邊看飛機起降，景色讓人心曠神怡，不過位置跟點餐櫃台很近，稍不注意就會跟排隊領餐的人群互相撞擊，帶小孩或是行李箱很大很多的話，建議還是坐外面美食區的位置吧！"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"ゴンチャ-波の上ビーチ店-gong-cha"},"children":[{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/1BKujCo2Ux1hygAj6","rel":["nofollow"]},"children":[{"type":"text","value":"ゴンチャ 波の上ビーチ店 (Gong cha)"}]}]},{"type":"element","tag":"h3","props":{"id":"個人評分-4"},"children":[{"type":"text","value":"個人評分：★★★★☆"}]},{"type":"element","tag":"article-img","props":{"img":"923/zHvzgq.jpg","aspect-ratio":"9/16"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"作為一個幾乎每天都要來一杯手搖飲的人來說，每次來日本最無法適應的就是飲料了。雖然日本販賣機眾多，便利超商密度也算高，但罐裝飲料的好喝程度終究是比不上手搖杯。像貢茶這樣在台灣喝起來一般般但在國外有開店的品牌，就會成為我在外國旅遊時的綠洲。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"會發現這家貢茶，是在"},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_fourth_day_2023"},"children":[{"type":"text","value":"第四天坐單軌列車去波上宮"}]},{"type":"text","value":"，從橋上拍完波上宮從另一頭下橋時，看到熟悉的招牌，立刻就衝過去解一下來沖繩之後就隱隱抽動的手搖癮。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在台灣其實已經很久沒喝貢茶了（畢竟有更多其他的選項），所以也無法跟台灣的貢茶比較，但珍珠奶茶不知道是因為黑糖不一樣的關係，雖然也滿甜的，但喝起來比較沒這麼膩，只是小小一杯就要 100 多台幣的價格，還是提醒了我人身在日本的事實 XD。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"店內有座位可以坐，也有 Subway，不過入口沒有行人專用道（或是我們走錯入口吧），走過來的話要小心從停車場出入的車輛。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"吉野家-３３０号線壺川店"},"children":[{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/jGFqxLkUzFAGY2Hd6","rel":["nofollow"]},"children":[{"type":"text","value":"吉野家 ３３０号線壺川店"}]}]},{"type":"element","tag":"h3","props":{"id":"個人評分-5"},"children":[{"type":"text","value":"個人評分：★★★★☆"}]},{"type":"element","tag":"article-img","props":{"img":"922/O3ApmE.jpg","aspect-ratio":"1/1"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沒錯，吉野家！為什麼連吉野家都可以比台灣的好吃呢！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我們"},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_fourth_day_2023"},"children":[{"type":"text","value":"第四天的行程因為是坐單軌列車搭配走路跑景點"}]},{"type":"text","value":"，下午時候旅伴覺得很累所以決定先回飯店休息，也因為中午在敘敘院吃很飽的關係，本來沒打算要吃晚餐，後來在飯店休息完覺得餓了就還是附近隨便覓食一下，因為耳聞日本吉野家比台灣好吃很多，就來試試看了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"吃了才知道，還真的比台灣的好吃很多。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這次來是吃川味（沒記錯的話？）炸雞丼，他們的炸雞真的滿好吃的，甚至比我吃過的一些台灣獨立日本料理店的炸雞還要好吃。雖然說到日本來吃台灣有的連鎖品牌是怪怪的，但若真的不知道吃什麼或是行程沒安排剛好附近有吉野家，我覺得可以去體驗一下跟台灣吉野家的差距。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"琉球新麺-通堂-小禄本店"},"children":[{"type":"text","value":"琉球新麺 通堂 小禄本店"}]},{"type":"element","tag":"h3","props":{"id":"個人評分-6"},"children":[{"type":"text","value":"個人評分：★★★☆☆"}]},{"type":"element","tag":"article-img","props":{"img":"922/C27Njo.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通堂拉麵也是來沖繩之前查網路推薦都會出現的店家，本來是要在"},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_first_day_2023"},"children":[{"type":"text","value":"第一天抵達沖繩時去首里那邊逛完首里城"}]},{"type":"text","value":"的時候吃，但剛好遇到他們類似鬼門關之類的節日所以沒開，後來"},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_one_day_tour_bus_2023"},"children":[{"type":"text","value":"第二天結束北部觀光巴士"}]},{"type":"text","value":"行程後跑來這裡吃，吃了之後只能說……很普通。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"吃起來的口味就是台灣百貨公司的美食街會出現的那種拉麵，不知道是點錯（但我們豚骨拉麵跟鹽味拉麵都有點）還是有針對觀光客做口味調整，總之吃起來就很淡。就連前兩天觀光巴士上的導遊跟網路上力推的煎餃，也覺得好像沒什麼特色……。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"每桌都會附免費的辣豆芽，請使用專用的夾子夾取！不要用自己的筷子！"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"ブルーシール-国際通り店"},"children":[{"type":"text","value":"ブルーシール 国際通り店"}]},{"type":"element","tag":"h3","props":{"id":"個人評分-7"},"children":[{"type":"text","value":"個人評分：★★☆☆☆"}]},{"type":"element","tag":"article-img","props":{"img":"924/3kIdje.jpg","aspect-ratio":"1/1"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Blue Seal 是在查沖繩美食時會出現的店家之一，有名的程度高到一條國際通就開了三家店，但實際吃過之後覺得非常普通，即便是點沖繩當地才有的紫地瓜口味也是普普。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"冰淇淋本身非常甜，甜到幾乎沒辦法辨認到底是什麼口味，吃起來感覺跟 Cold Stone 差不多，沒什麼令人驚豔的地方。建議可以不用特地吃，要吃當地的冰淇淋特產的話，個人比較推薦"},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/kqPiKMpBV4cz6S4r8","rel":["nofollow"]},"children":[{"type":"text","value":"雪塩さんど"}]},{"type":"text","value":"賣的霜淇淋。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這次來沖繩，吃的東西價位分佈很廣（？），有價位偏上位的敘敘院燒肉，也有平民連鎖美食，覺得日本的食物到現在真的不太會讓我有那種「這也太難吃了吧！」的吶喊。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其中讓我在寫這篇時一直想要再吃的，就是沖縄そば ひので跟 A&W 了，寫到肚子好餓。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本來也想把飯店早餐寫進來，但想說還是寫在飯店那篇好了，這次住飯店的附設早餐真的很棒，有興趣的可以點這邊前往閱讀："},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_hotel_2023"},"children":[]},{"type":"text","value":"。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"沖縄そば-ひので","depth":2,"text":"沖縄そば ひので","children":[{"id":"個人評分","depth":3,"text":"個人評分：★★★★★"}]},{"id":"叙々苑-沖縄おもろまち店","depth":2,"text":"叙々苑 沖縄おもろまち店","children":[{"id":"個人評分-1","depth":3,"text":"個人評分：★★★★★"}]},{"id":"aw-国際通り松尾店","depth":2,"text":"A&W 国際通り松尾店","children":[{"id":"個人評分-2","depth":3,"text":"個人評分：★★★★★"}]},{"id":"ポーたま那覇空港国際線フードコート店","depth":2,"text":"ポーたま（那覇空港国際線フードコート店）","children":[{"id":"個人評分-3","depth":3,"text":"個人評分：★★★★★"}]},{"id":"ゴンチャ-波の上ビーチ店-gong-cha","depth":2,"text":"ゴンチャ 波の上ビーチ店 (Gong cha)","children":[{"id":"個人評分-4","depth":3,"text":"個人評分：★★★★☆"}]},{"id":"吉野家-３３０号線壺川店","depth":2,"text":"吉野家 ３３０号線壺川店","children":[{"id":"個人評分-5","depth":3,"text":"個人評分：★★★★☆"}]},{"id":"琉球新麺-通堂-小禄本店","depth":2,"text":"琉球新麺 通堂 小禄本店","children":[{"id":"個人評分-6","depth":3,"text":"個人評分：★★★☆☆"}]},{"id":"ブルーシール-国際通り店","depth":2,"text":"ブルーシール 国際通り店","children":[{"id":"個人評分-7","depth":3,"text":"個人評分：★★☆☆☆"}]},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:okinawa_foods_2023.md","_source":"content","_file":"articles/2023/okinawa_foods_2023.md","_extension":"md","createdAt":"2024-03-21T07:44:12.000Z","updatedAt":"2024-03-21T07:44:12.000Z","slug":"okinawa_foods_2023","plainTexts":["這次來沖繩除了特別訂好的敘敘院燒肉以外，吃得比較隨意，有時候直接吃飯店附近的吉野家，有時去吃類似沖繩麥當勞的 A&W，或是隨便在 Google 地圖找了一間 SOBA 來吃，令人驚訝的是都沒踩什麼大雷，即便是吉野家也比台灣的好吃幾十倍。","因為在遊記分別寫食物，感覺版面會很亂，所以就把這次吃的東西獨立出一篇來寫了，會照著個人喜歡的程度從最喜歡開始寫，越下面的就越不推薦了。","沖縄そば ひので","個人評分：★★★★★","這次來覺得最好吃的店！","「そば」的意思就是蕎麥麵，台灣人對蕎麥麵的印象可能來自涼麵，沖繩蕎麥麵則大多做成湯麵形式，上面配上三層肉。疫情前來沖繩的時候曾吃過一次，那時候的感想是：「這不就陽春麵加滷肉嗎？」但這次來吃的沖縄そば ひので，卻完全顛覆我對沖繩蕎麥麵的觀感。","之所以會發現這家店，是因為","第三天結束觀光巴士南部行程","後的晚餐沒特別規劃，我跟旅伴就想說開 Google Map 搜尋「そば」，隨便選了這間離飯店很近的沖繩蕎麥麵店吃……結果沒想到變成這趟旅程最好吃的一餐。","之前吃到的沖繩蕎麥麵大多湯頭偏清淡，但這家的湯頭本身就較為濃郁，配上很有彈性的麵體，吃起來非常過癮。招牌是三種肉蕎麥麵（我亂翻譯的），會有叉燒、滷五花肉以及燉肉，肉量很多，適合需要有飽足感的人。若想要吃蔬菜多一點的，他們也有生菜較多的品項。","店內有套餐，就是可以用較便宜的價格再多點一個小副食，我們是點炸雞，吃起來就是一般的日式炸雞。可能因為較少外國觀光客光顧，所以店內只有日文菜單，日文苦手的要出動翻譯相機了。","最後，真的要感謝觀光巴士導遊的說明，不然完全不知道要在沖繩蕎麥麵裡面加辣椒泡盛。辣椒泡盛如上圖，就是把生辣椒丟進","泡盛（沖繩當地的特產酒）","，覺得作為調味料有點類似我們的米酒。","之前來沖繩吃的時候沒加，這次加了之後發現會變成完全是不同次元的超讚料理！辣椒泡盛幾乎可說是沖繩蕎麥麵的靈魂了，請豪邁地加一湯匙！","叙々苑 沖縄おもろまち店","個人評分：★★★★★","讓我慕名已久的日本燒肉店，完全沒失望。","這次點的是午餐套餐，旅伴心一橫額外加點了一些高級肉，不過我們吃完之後覺得可以不用額外加點，因為肉的油脂非常豐富，不適合吃太多，加點的都是靠朋友吃完，我自己後來覺得太膩，都沒吃……。","肉質油花豐富但分佈均勻，口感入口即化，即便是我這種堅持牛肉燒肉也必須吃全熟的人，就算把肉烤久一點也完全不會老，非常驚人。肉本身已經有使用醬汁調味過，考完直接吃或在附的檸檬汁中涮一下去油解膩再吃就非常有味道了。附的副餐也都是偏清爽的小菜、生菜……等等，跟口味較重的燒肉非常搭。","位置離沖繩美術館很近，行程可以安排在一起，像我們就是安排在","第四天單軌列車市區一日遊","的中餐吃敘敘院。不過入口處的待客空間很小，建議時間快到再前往即可。","最後就是一定要訂位！我們平日中午來也是滿滿滿，官網有提供","簡體中文訂位頁面","，不會太困難。","A&W 国際通り松尾店","個人評分：★★★★★","A&W 是一間在台灣看不到的、同樣發源自美國的速食連鎖店，自己覺得跟台灣速食店比較不同的有兩個地方，一個是他們的薯圈圈（上圖左方），一個就是他們的飲料：露啤（Root Beer，就是麥根沙士）。","薯圈圈其實就是切成圈狀的薯條，但 A&W 的薯條本身就會調味，而不是炸了之後加鹽這樣，吃起來有點像新鮮（？）的洋芋片，會讓人忍不住一條接一條。而露啤味道跟台灣的黑松沙士滿像的，但味道比較不那麼刺激，更緩和一點，喝起來更多了一些清涼感。","這次來跟旅伴分別點了牛肉排漢堡跟炸雞漢堡，覺得都比麥當勞、漢堡王那些好吃很多，自己特別喜歡的是炸雞。","這間 A&W 就位在國際通，我們是在","第一天抵達沖繩的下午逛完首里城","後，晚上去微逛國際通前吃的。","ポーたま（那覇空港国際線フードコート店）","個人評分：★★★★★","豬肉蛋飯糰是沖繩代表性食物之一，把罐頭午餐肉與蛋用飯包起來，外面再包一層海苔，簡單暴力但美味。沖繩很多店都有在賣這樣的食物，可說是隨處可見，但來這幾天吃了滿多家，真的還是這家的最好吃，難怪這麼有名。","ポーたま的那霸機場國際線分店在四樓的美食廣場角落，要從中間有很多手扶梯那邊上四樓，如果從最旁邊的手扶梯會到祈禱室喔！不要走錯了（我們就迷路一次），若剛下飛機剛好是中餐時間，飛機上又沒供餐的話可以考慮來這邊覓食。","這次自己點的是豆腐飯糰，除了基礎的午餐肉跟蛋以外還夾了一塊炸豆腐。整個用料其實非常簡單，但有時候單純就是美味，整個飯糰的鹹度都來自於午餐肉，所以不要單吃它，不然會像我一樣鹹到舌頭發麻。","這裡旁邊會有一排臨機場的窗台位置，可以邊吃邊看飛機起降，景色讓人心曠神怡，不過位置跟點餐櫃台很近，稍不注意就會跟排隊領餐的人群互相撞擊，帶小孩或是行李箱很大很多的話，建議還是坐外面美食區的位置吧！","ゴンチャ 波の上ビーチ店 (Gong cha)","個人評分：★★★★☆","作為一個幾乎每天都要來一杯手搖飲的人來說，每次來日本最無法適應的就是飲料了。雖然日本販賣機眾多，便利超商密度也算高，但罐裝飲料的好喝程度終究是比不上手搖杯。像貢茶這樣在台灣喝起來一般般但在國外有開店的品牌，就會成為我在外國旅遊時的綠洲。","會發現這家貢茶，是在","第四天坐單軌列車去波上宮","，從橋上拍完波上宮從另一頭下橋時，看到熟悉的招牌，立刻就衝過去解一下來沖繩之後就隱隱抽動的手搖癮。","在台灣其實已經很久沒喝貢茶了（畢竟有更多其他的選項），所以也無法跟台灣的貢茶比較，但珍珠奶茶不知道是因為黑糖不一樣的關係，雖然也滿甜的，但喝起來比較沒這麼膩，只是小小一杯就要 100 多台幣的價格，還是提醒了我人身在日本的事實 XD。","店內有座位可以坐，也有 Subway，不過入口沒有行人專用道（或是我們走錯入口吧），走過來的話要小心從停車場出入的車輛。","吉野家 ３３０号線壺川店","個人評分：★★★★☆","沒錯，吉野家！為什麼連吉野家都可以比台灣的好吃呢！","我們","第四天的行程因為是坐單軌列車搭配走路跑景點","，下午時候旅伴覺得很累所以決定先回飯店休息，也因為中午在敘敘院吃很飽的關係，本來沒打算要吃晚餐，後來在飯店休息完覺得餓了就還是附近隨便覓食一下，因為耳聞日本吉野家比台灣好吃很多，就來試試看了。","吃了才知道，還真的比台灣的好吃很多。","這次來是吃川味（沒記錯的話？）炸雞丼，他們的炸雞真的滿好吃的，甚至比我吃過的一些台灣獨立日本料理店的炸雞還要好吃。雖然說到日本來吃台灣有的連鎖品牌是怪怪的，但若真的不知道吃什麼或是行程沒安排剛好附近有吉野家，我覺得可以去體驗一下跟台灣吉野家的差距。","琉球新麺 通堂 小禄本店","個人評分：★★★☆☆","通堂拉麵也是來沖繩之前查網路推薦都會出現的店家，本來是要在","第一天抵達沖繩時去首里那邊逛完首里城","的時候吃，但剛好遇到他們類似鬼門關之類的節日所以沒開，後來","第二天結束北部觀光巴士","行程後跑來這裡吃，吃了之後只能說……很普通。","吃起來的口味就是台灣百貨公司的美食街會出現的那種拉麵，不知道是點錯（但我們豚骨拉麵跟鹽味拉麵都有點）還是有針對觀光客做口味調整，總之吃起來就很淡。就連前兩天觀光巴士上的導遊跟網路上力推的煎餃，也覺得好像沒什麼特色……。","每桌都會附免費的辣豆芽，請使用專用的夾子夾取！不要用自己的筷子！","ブルーシール 国際通り店","個人評分：★★☆☆☆","Blue Seal 是在查沖繩美食時會出現的店家之一，有名的程度高到一條國際通就開了三家店，但實際吃過之後覺得非常普通，即便是點沖繩當地才有的紫地瓜口味也是普普。","冰淇淋本身非常甜，甜到幾乎沒辦法辨認到底是什麼口味，吃起來感覺跟 Cold Stone 差不多，沒什麼令人驚豔的地方。建議可以不用特地吃，要吃當地的冰淇淋特產的話，個人比較推薦","雪塩さんど","賣的霜淇淋。","後記","這次來沖繩，吃的東西價位分佈很廣（？），有價位偏上位的敘敘院燒肉，也有平民連鎖美食，覺得日本的食物到現在真的不太會讓我有那種「這也太難吃了吧！」的吶喊。","其中讓我在寫這篇時一直想要再吃的，就是沖縄そば ひので跟 A&W 了，寫到肚子好餓。","本來也想把飯店早餐寫進來，但想說還是寫在飯店那篇好了，這次住飯店的附設早餐真的很棒，有興趣的可以點這邊前往閱讀：","。"]},{"_path":"/articles/2023/okinawa_fourth_day_2023","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"2023沖繩自由行：第四天——市區單軌列車耍廢晃晃","description":"前兩天坐著觀光巴士跑完南北部較遠的景點後，這一天就想說坐單軌列車在市區內晃晃就好了，順便採買一些要帶回去的紀念品。早上吃完飯店早餐之後去了波上宮，吃完中餐後去了沖繩縣立博物館・美術館。","img":"923/cLSor8.jpg","tags":["沖繩","自助旅行","自由行","okinawa","波上宮","單軌列車","沖繩縣立博物館・美術館"],"category":"life","readingTime":{"text":"4 min read","minutes":4,"time":240000,"words":800},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前兩天坐著觀光巴士跑完南北部較遠的景點後，這一天就想說坐單軌列車在市區內晃晃就好了，順便採買一些要帶回去的紀念品。早上吃完飯店早餐之後去了波上宮，吃完中餐後去了沖繩縣立博物館・美術館。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"前兩天坐著觀光巴士跑完南北部較遠的景點後，這一天就想說坐單軌列車在市區內晃晃就好了，順便採買一些要帶回去的紀念品。早上吃完飯店早餐之後去了波上宮，吃完中餐後去了沖繩縣立博物館・美術館。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"波上宮"},"children":[{"type":"text","value":"波上宮"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"波上宮是我覺得在那霸市區必去的景點之一，不僅名列"},{"type":"element","tag":"a","props":{"href":"https://zh.wikipedia.org/zh-tw/%E7%90%89%E7%90%83%E5%85%AB%E7%A4%BE","rel":["nofollow"]},"children":[{"type":"text","value":"琉球八社"}]},{"type":"text","value":"之首，景觀也非常特殊，附近又有海灘，幾乎可說是沖繩的觀光縮影。"}]},{"type":"element","tag":"article-img","props":{"img":"922/VPmfe1.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"波上宮宮如其名，位於一處沙灘邊的懸崖上，從橋上看的話景觀非常特別，入內參拜的時候是感受不到原來是建在懸崖上的。建議參拜之後若還有時間，可走到對面的橋上拍過來，才能拍到波上宮整個壯觀的地形，橋上風大且人行道狹窄，請小心安全及手中電子產品。"}]},{"type":"element","tag":"article-img","props":{"img":"922/mTBtsN.jpg","aspect-ratio":"1/1"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"宮內有御守可以購買，也可以花一百日幣求籤，求籤跟購買御守的地方是同一個，籤詩一面為日文、另一面為英文，拍照留念後可以跟大家一樣綁在一旁專供大家綁籤詩的地方。附近也有沖繩室內唯一的海灘，也可攜帶水上用具去玩樂一番。"}]},{"type":"element","tag":"article-img","props":{"img":"924/rDil1Y.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"h3","props":{"id":"交通方式"},"children":[{"type":"text","value":"交通方式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我們這次是搭單軌列車到旭橋站，再走大約 20 分鐘過去。"}]},{"type":"element","tag":"article-img","props":{"img":"923/30uC2K.png"},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"沖繩縣立博物館美術館"},"children":[{"type":"text","value":"沖繩縣立博物館・美術館"}]},{"type":"element","tag":"article-img","props":{"img":"923/cLSor8.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"中餐因為要去吃"},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/3FFm8DNATbroVm9w8","rel":["nofollow"]},"children":[{"type":"text","value":"敘敘苑燒肉 歌町店（叙々苑 沖縄おもろまち店）"}]},{"type":"text","value":"，想說吃完就在附近晃晃，而附近最大的觀光景點就是"},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/xGAd9a4TUCXTsfEg6","rel":["nofollow"]},"children":[{"type":"text","value":"沖繩縣立博物館・美術館"}]},{"type":"text","value":"了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當天遇到他們是假日又剛好有一個很有名的展覽，館內人潮多到一個爆炸，所以們我們只有稍微看看而已，沒有買票進場，只有在他們大廳以及外面晃晃看看，請旅伴幫我在奇妙的小角落（？）拍了一張照片。"}]},{"type":"element","tag":"article-img","props":{"img":"923/g6lWUo.jpg","aspect-ratio":"1/1"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之後去附近的 UNIQLO 走走就結束了，接著前往國際通採買紀念品。採買的部份就沒拍什麼照了。"}]},{"type":"element","tag":"h3","props":{"id":"交通方式-1"},"children":[{"type":"text","value":"交通方式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"交通的部份一樣是搭單軌列車，到おもろまち站，再走大約 10 分鐘過去。"}]},{"type":"element","tag":"article-img","props":{"img":"922/DctrKb.png"},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這一天沒有觀光巴士集合時間較早的問題，就睡到飽、好好吃了早餐之後在飯店耍個廢才出門。然後因為中午吃很好，晚上就在飯店附近隨便吃了個吉野家……發現他們吉野家比台灣的大概好吃了幾十倍。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上次來沖繩是騎機車，這次來體驗了完全依靠大眾交通的方式，覺得也很不錯。不過來了兩次之後，沖繩本島的景點大概也都看過了，下次來會考慮去外島玩玩。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"旅程到這邊差不多就結束了，隔天就是 Check out 然後搭飛機，食物的部份獨立出來了一篇，有興趣繼續閱讀的可以點這邊："},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_foods_2023"},"children":[]},{"type":"text","value":"。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"波上宮","depth":2,"text":"波上宮","children":[{"id":"交通方式","depth":3,"text":"交通方式"}]},{"id":"沖繩縣立博物館美術館","depth":2,"text":"沖繩縣立博物館・美術館","children":[{"id":"交通方式-1","depth":3,"text":"交通方式"}]},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:okinawa_fourth_day_2023.md","_source":"content","_file":"articles/2023/okinawa_fourth_day_2023.md","_extension":"md","createdAt":"2024-03-21T07:44:12.000Z","updatedAt":"2024-03-21T07:44:12.000Z","slug":"okinawa_fourth_day_2023","plainTexts":["前兩天坐著觀光巴士跑完南北部較遠的景點後，這一天就想說坐單軌列車在市區內晃晃就好了，順便採買一些要帶回去的紀念品。早上吃完飯店早餐之後去了波上宮，吃完中餐後去了沖繩縣立博物館・美術館。","波上宮","波上宮是我覺得在那霸市區必去的景點之一，不僅名列","琉球八社","之首，景觀也非常特殊，附近又有海灘，幾乎可說是沖繩的觀光縮影。","波上宮宮如其名，位於一處沙灘邊的懸崖上，從橋上看的話景觀非常特別，入內參拜的時候是感受不到原來是建在懸崖上的。建議參拜之後若還有時間，可走到對面的橋上拍過來，才能拍到波上宮整個壯觀的地形，橋上風大且人行道狹窄，請小心安全及手中電子產品。","宮內有御守可以購買，也可以花一百日幣求籤，求籤跟購買御守的地方是同一個，籤詩一面為日文、另一面為英文，拍照留念後可以跟大家一樣綁在一旁專供大家綁籤詩的地方。附近也有沖繩室內唯一的海灘，也可攜帶水上用具去玩樂一番。","交通方式","我們這次是搭單軌列車到旭橋站，再走大約 20 分鐘過去。","沖繩縣立博物館・美術館","中餐因為要去吃","敘敘苑燒肉 歌町店（叙々苑 沖縄おもろまち店）","，想說吃完就在附近晃晃，而附近最大的觀光景點就是","沖繩縣立博物館・美術館","了。","當天遇到他們是假日又剛好有一個很有名的展覽，館內人潮多到一個爆炸，所以們我們只有稍微看看而已，沒有買票進場，只有在他們大廳以及外面晃晃看看，請旅伴幫我在奇妙的小角落（？）拍了一張照片。","之後去附近的 UNIQLO 走走就結束了，接著前往國際通採買紀念品。採買的部份就沒拍什麼照了。","交通方式","交通的部份一樣是搭單軌列車，到おもろまち站，再走大約 10 分鐘過去。","後記","這一天沒有觀光巴士集合時間較早的問題，就睡到飽、好好吃了早餐之後在飯店耍個廢才出門。然後因為中午吃很好，晚上就在飯店附近隨便吃了個吉野家……發現他們吉野家比台灣的大概好吃了幾十倍。","上次來沖繩是騎機車，這次來體驗了完全依靠大眾交通的方式，覺得也很不錯。不過來了兩次之後，沖繩本島的景點大概也都看過了，下次來會考慮去外島玩玩。","旅程到這邊差不多就結束了，隔天就是 Check out 然後搭飛機，食物的部份獨立出來了一篇，有興趣繼續閱讀的可以點這邊：","。"]},{"_path":"/articles/2023/okinawa_hotel_2023","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"2023沖繩自由行：住宿篇——東急STAY沖繩那霸","description":"這次住宿我們是住在 Klook 上看到的東急（Tokyu）Stay 沖繩那霸，覺得非常不錯且 CP 值很高，特地打一篇文章以茲紀錄。","img":"922/HXajvv.jpg","tags":["沖繩","自助旅行","自由行","okinawa","住宿","東急","Tokyu Stay"],"category":"life","readingTime":{"text":"5 min read","minutes":4.3,"time":258000,"words":860},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這次住宿我們是住在 Klook 上看到的"},{"type":"element","tag":"a","props":{"href":"https://www.klook.com/zh-TW/hotels/detail/92996-tokyu-stay-okinawa-naha/","rel":["nofollow"]},"children":[{"type":"text","value":"東急（Tokyu）Stay 沖繩那霸"}]},{"type":"text","value":"，覺得非常不錯且 CP 值很高，特地打一篇文章以茲紀錄。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這次住宿我們是住在 Klook 上看到的"},{"type":"element","tag":"a","props":{"href":"https://www.klook.com/zh-TW/hotels/detail/92996-tokyu-stay-okinawa-naha/","rel":["nofollow"]},"children":[{"type":"text","value":"東急（Tokyu）Stay 沖繩那霸"}]},{"type":"text","value":"，覺得非常不錯且 CP 值很高，特地打一篇文章以茲紀錄。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"交通位置"},"children":[{"type":"text","value":"交通位置"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先是交通位置，東急 STAY 沖繩那霸的位置絕佳，鄰近單軌列車壺川站，走路僅須幾分鐘。往北走一樣也是幾分鐘，便能到達"},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/LiRJkDbwNAwWGPnTA","rel":["nofollow"]},"children":[{"type":"text","value":"那霸的公車總站"}]},{"type":"text","value":"，雖然這次沒用到公車就是了。"}]},{"type":"element","tag":"article-img","props":{"img":"922/siErEO.png"},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"週邊景點及建築設施"},"children":[{"type":"text","value":"週邊景點及建築設施"}]},{"type":"element","tag":"h3","props":{"id":"便利商店"},"children":[{"type":"text","value":"便利商店"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"飯店附近也有很多便利商店，從壺川單軌列車站走到飯店途中會先後經過"},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/dyheUwzZDJ5tQ72z8","rel":["nofollow"]},"children":[{"type":"text","value":"全家"}]},{"type":"text","value":"以及 "},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/6jD5Z3eVdYHCZp1e7","rel":["nofollow"]},"children":[{"type":"text","value":"7-11"}]},{"type":"text","value":"，在晚上回到飯店的路上，也不怕突然餓肚子要採買。若想要逛逛台灣沒有的 "},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/yi1mmEHhb2gvVeFo7","rel":["nofollow"]},"children":[{"type":"text","value":"LAWSON"}]},{"type":"text","value":"，往北走稍遠一些約 5 分鐘也可抵達。"}]},{"type":"element","tag":"h3","props":{"id":"唐吉軻德"},"children":[{"type":"text","value":"唐吉軻德"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"飯店本身甚至與"},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/NDuDnn4tcTL68npi9","rel":["nofollow"]},"children":[{"type":"text","value":"唐吉軻德共構"}]},{"type":"text","value":"，雖然這間唐吉軻德較小一些，但仍是五臟俱全，若不想為了去唐吉軻德影響其他行程，住在這邊隨時想到什麼都能夠下樓去買，我們那幾天就是幾乎每天都會進去晃晃。"}]},{"type":"element","tag":"h3","props":{"id":"超市"},"children":[{"type":"text","value":"超市"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"飯店的後方街區有一間類似全聯的超市："},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/qDvSe5EE5McvhoXx7","rel":["nofollow"]},"children":[{"type":"text","value":"タウンプラザかねひで 壺川店"}]},{"type":"text","value":"，若是想買一些當地水果或是便利商店買不到的零食之類，也可以走到這邊買。"}]},{"type":"element","tag":"h3","props":{"id":"琉球八社沖宮"},"children":[{"type":"text","value":"琉球八社：沖宮"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"飯店緊鄰壺川，對面就是奧武山公園，公園裡正座落著琉球的八大神社之一：沖宮。從飯店走路幾分鐘、過個橋就能抵達。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"房間"},"children":[{"type":"text","value":"房間"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我們沒特別拍房間內部，大家可以到官網或是訂房網站上面看看，自己是覺得非常乾淨、舒適，值得一提的是我們剛好住到窗戶是正對著壺川的房間，傍晚回來時甚至可看到日落，有夠漂亮！"}]},{"type":"element","tag":"article-img","props":{"img":"923/Q6on0q.jpg","aspect-ratio":"1/1"},"children":[]},{"type":"element","tag":"h3","props":{"id":"洗烘衣機"},"children":[{"type":"text","value":"洗烘衣機"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"飯店所有房型都有洗烘衣機，對於來玩多天的旅客來說，可減少攜帶的衣服量。像我跟旅伴就是決定帶了簡單的幾件，依靠洗烘衣機來重複穿。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"早餐"},"children":[{"type":"text","value":"早餐"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"東急 STAY 沖繩那霸內部裝潢非常明亮，五樓大廳旁邊就是早餐用餐區，大片的落地窗外就是壺川美景，我們每天早上吃早餐的時候都會盡量坐在窗邊，看到窗外景色不僅讓人特別放鬆，也讓我們覺得選這間真的是選對了。"}]},{"type":"element","tag":"article-img","props":{"img":"923/c4t4q8.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"飯店的附設早餐涵蓋了各式沖繩當地料理，自煮蕎麥麵、生魚片丼飯、花生豆腐、泡盛、炒山苦瓜……應有盡有，CP 值極高。有時候都會不知不覺吃太多 XD。"}]},{"type":"element","tag":"article-img","props":{"img":"922/7vtuoQ.jpg","aspect-ratio":"1/1"},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"住了這間真心覺得台灣的飯店到底在幹什麼，我們這次去沖繩從 8/30 住到 9/1 退房總共 4 晚，在 KLOOK 總共才 10814，等於 1 人 1 晚不過 1351，這種絕佳的位置與早餐以及設施，在台灣真的就還找不太到。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"希望台灣旅宿業要多加油，有時候也不是不想在台灣旅遊，但打開訂房網看到平日那個價格，真的會覺得我不如加一點錢出國好。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那麼 2023 年沖繩自由行系列文章到這邊就結束了，下台一鞠躬。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"交通位置","depth":2,"text":"交通位置"},{"id":"週邊景點及建築設施","depth":2,"text":"週邊景點及建築設施","children":[{"id":"便利商店","depth":3,"text":"便利商店"},{"id":"唐吉軻德","depth":3,"text":"唐吉軻德"},{"id":"超市","depth":3,"text":"超市"},{"id":"琉球八社沖宮","depth":3,"text":"琉球八社：沖宮"}]},{"id":"房間","depth":2,"text":"房間","children":[{"id":"洗烘衣機","depth":3,"text":"洗烘衣機"}]},{"id":"早餐","depth":2,"text":"早餐"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:okinawa_hotel_2023.md","_source":"content","_file":"articles/2023/okinawa_hotel_2023.md","_extension":"md","createdAt":"2024-03-21T07:44:12.000Z","updatedAt":"2024-03-21T07:44:12.000Z","slug":"okinawa_hotel_2023","plainTexts":["這次住宿我們是住在 Klook 上看到的","東急（Tokyu）Stay 沖繩那霸","，覺得非常不錯且 CP 值很高，特地打一篇文章以茲紀錄。","交通位置","首先是交通位置，東急 STAY 沖繩那霸的位置絕佳，鄰近單軌列車壺川站，走路僅須幾分鐘。往北走一樣也是幾分鐘，便能到達","那霸的公車總站","，雖然這次沒用到公車就是了。","週邊景點及建築設施","便利商店","飯店附近也有很多便利商店，從壺川單軌列車站走到飯店途中會先後經過","全家","以及","7-11","，在晚上回到飯店的路上，也不怕突然餓肚子要採買。若想要逛逛台灣沒有的","LAWSON","，往北走稍遠一些約 5 分鐘也可抵達。","唐吉軻德","飯店本身甚至與","唐吉軻德共構","，雖然這間唐吉軻德較小一些，但仍是五臟俱全，若不想為了去唐吉軻德影響其他行程，住在這邊隨時想到什麼都能夠下樓去買，我們那幾天就是幾乎每天都會進去晃晃。","超市","飯店的後方街區有一間類似全聯的超市：","タウンプラザかねひで 壺川店","，若是想買一些當地水果或是便利商店買不到的零食之類，也可以走到這邊買。","琉球八社：沖宮","飯店緊鄰壺川，對面就是奧武山公園，公園裡正座落著琉球的八大神社之一：沖宮。從飯店走路幾分鐘、過個橋就能抵達。","房間","我們沒特別拍房間內部，大家可以到官網或是訂房網站上面看看，自己是覺得非常乾淨、舒適，值得一提的是我們剛好住到窗戶是正對著壺川的房間，傍晚回來時甚至可看到日落，有夠漂亮！","洗烘衣機","飯店所有房型都有洗烘衣機，對於來玩多天的旅客來說，可減少攜帶的衣服量。像我跟旅伴就是決定帶了簡單的幾件，依靠洗烘衣機來重複穿。","早餐","東急 STAY 沖繩那霸內部裝潢非常明亮，五樓大廳旁邊就是早餐用餐區，大片的落地窗外就是壺川美景，我們每天早上吃早餐的時候都會盡量坐在窗邊，看到窗外景色不僅讓人特別放鬆，也讓我們覺得選這間真的是選對了。","飯店的附設早餐涵蓋了各式沖繩當地料理，自煮蕎麥麵、生魚片丼飯、花生豆腐、泡盛、炒山苦瓜……應有盡有，CP 值極高。有時候都會不知不覺吃太多 XD。","後記","住了這間真心覺得台灣的飯店到底在幹什麼，我們這次去沖繩從 8/30 住到 9/1 退房總共 4 晚，在 KLOOK 總共才 10814，等於 1 人 1 晚不過 1351，這種絕佳的位置與早餐以及設施，在台灣真的就還找不太到。","希望台灣旅宿業要多加油，有時候也不是不想在台灣旅遊，但打開訂房網看到平日那個價格，真的會覺得我不如加一點錢出國好。","那麼 2023 年沖繩自由行系列文章到這邊就結束了，下台一鞠躬。"]},{"_path":"/articles/2023/okinawa_one_day_tour_bus_2023_south","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"2023沖繩自由行：第三天——觀光巴士南部一日遊","description":"繼上一篇搭觀光巴士玩了沖繩北部之後，想當然也要來一台南部的。","img":"923/we47q4.jpg","tags":["沖繩","自助旅行","自由行","okinawa","觀光巴士","知念岬","玉泉洞","王國村","沖繩世界","糸満漁市場","Ashibinaa","outlet","瀨長島"],"category":"life","readingTime":{"text":"10 min read","minutes":9.925,"time":595500,"words":1985},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"繼"},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_one_day_tour_bus_2023"},"children":[{"type":"text","value":"上一篇"}]},{"type":"text","value":"搭觀光巴士玩了沖繩北部之後，想當然也要來一台南部的。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"繼"},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_one_day_tour_bus_2023"},"children":[{"type":"text","value":"上一篇"}]},{"type":"text","value":"搭觀光巴士玩了沖繩北部之後，想當然也要來一台南部的。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"訂購平台klook"},"children":[{"type":"text","value":"訂購平台：KLOOK"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一樣因為是使用即享券的關係，只能選擇 KLOOK 訂購。"}]},{"type":"element","tag":"h3","props":{"id":"路線"},"children":[{"type":"text","value":"路線"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這次訂購的路線如下："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"09:20 集合"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"10:30 知念岬公園(30 分鐘)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"11:30 玉泉洞(2 小時)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"14:00 糸満漁市場(40 分鐘)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"14:50 Ashibinaa Okinawa Outlet (1 小時 30 分鐘)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"16:30 瀨長島(1 小時)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"18:00 返回下車地點"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除了跟北部一樣有涵蓋大多的有名景點外，也去了一個 Outlet，非常符合觀光客的需求（？），若最後想停留在瀨長島的話也可以自行停留然後坐車回那霸。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"知念岬公園"},"children":[{"type":"text","value":"知念岬公園"}]},{"type":"element","tag":"article-img","props":{"img":"923/EjbnVJ.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第一站是可以眺望沖繩南部海岸的知念岬公園。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沖繩最著名的大概就是「沖繩藍」了，寶石般的透明藍色海水半掩著珊瑚礁石，真的是見過就很難忘的美景。位於沖繩南部的知念岬公園，就是可以盡覽沖繩藍美景的地點之一。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"知念岬公園的地形也是類似萬座毛的懸崖那樣，上面有著草原，只是知念岬公園多了高低落差，若站在高處更能遠望整片海洋，夏天來看海水邊吹著海風，真的非常涼快愜意。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在巴士經過"},{"type":"element","tag":"a","props":{"href":"https://www.tripadvisor.jp/Attraction_Review-g1023469-d1721848-Reviews-Nirai_Bridge_Kanai_Bridge-Nanjo_Okinawa_Prefecture.html","rel":["nofollow"]},"children":[{"type":"text","value":"新井橋與金井橋"}]},{"type":"text","value":"的時候，所看到的海景結合壯觀的橋更是一絕，很可惜當下太驚嘆忘記拍照了。讓我借用一下"},{"type":"element","tag":"a","props":{"href":"https://zh-tw.photo-ac.com/photo/26754163/%E6%B2%96%E7%B9%A9%E7%B8%A3%E5%8D%97%E5%9F%8E%E5%B8%82%E4%BA%8C%E4%BE%86%E9%87%91%E5%85%A7%E6%A9%8B","rel":["nofollow"]},"children":[{"type":"text","value":"photoAC 的圖片"}]},{"type":"text","value":"："}]},{"type":"element","tag":"article-img","props":{"img":"924/3T8wDn.jpg"},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"沖繩世界"},"children":[{"type":"text","value":"沖繩世界"}]},{"type":"element","tag":"article-img","props":{"img":"923/we47q4.jpg"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第二站是我覺得跟北部美麗海水族館重要性差不多的景點：玉泉洞。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"玉泉洞跟王國村都位於一個叫做"},{"type":"element","tag":"a","props":{"href":"https://www.gyokusendo.co.jp/okinawaworld/","rel":["nofollow"]},"children":[{"type":"text","value":"沖繩世界"}]},{"type":"text","value":"的……遊樂區（？）內，這裡一直是讓我又愛又恨，愛的是玉泉洞真的是規模非常壯麗的鐘乳石洞，號稱日本第二大絕對名不虛傳，若是第一次去沖繩或是沒看過其他地方鐘乳石洞的朋友，我會強烈推薦他一定要來。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"恨的是，基於玉泉洞在地上所建立的王國村，是觀光氣息非常重的地方，若能單買玉泉洞的票，我是絕對不會想進去王國村的，但無奈他們就是綁在一起。"}]},{"type":"element","tag":"h3","props":{"id":"玉泉洞"},"children":[{"type":"text","value":"玉泉洞"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那先來說玉泉洞吧，這次來雖然是第二次來了，但還是非常驚豔。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"玉泉洞最好拍的地點是一進去的地方以及後面有用各種燈光做出造景的部份（像青之泉），一進去的地方也是空間最大最能拍出其壯觀的地方，建議可以先拍不然走完也不會想回頭走。"}]},{"type":"element","tag":"article-img","props":{"img":"922/tTL09c.jpg","aspect-ratio":"3/4"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"洞內地板會較為濕滑，一定要小心行走，也不要追逐奔跑（尤其要顧好小孩子），否則撞到鐘乳石會痛死的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"官方網站可以預約體驗，在工作人員的帶領下去"},{"type":"element","tag":"a","props":{"href":"https://www.gyokusendo.co.jp/okinawaworld/okinawacavetanken/exploration.html","rel":["nofollow"]},"children":[{"type":"text","value":"探索玉泉洞步道之外的區域"}]},{"type":"text","value":"，若是自助前往可以參考，看起來滿吸引人的。"}]},{"type":"element","tag":"h3","props":{"id":"王國村"},"children":[{"type":"text","value":"王國村"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"王國村基本上就是遊樂區，有很多觀光意味濃厚的體驗活動，比如製作琉璃、藍染、毒蛇繞頸（完全不懂這體驗點跟沖繩有何關聯）……之類，或是觀看所謂琉球原住民的舞蹈，像台灣的六福村那樣（至於是不是真的原住民或是其舞蹈究竟是否真的符合傳統，那又是另一回事了。）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後就是一些那霸市內都買得到甚至更便宜的紀念品店，想買的話就回那霸市區再買就好囉。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"糸満漁市場"},"children":[{"type":"text","value":"糸満漁市場"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第三站是要處理中餐的地方，因為表定到這裡的時候是 14:00，已經有些晚了，若怕中午太餓撐不住的話，建議前一天去便利商店買些東西帶在身上，畢竟前一站王國村也沒啥好吃的（而且又貴）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那糸満漁市場呢，就是……一個……魚市場。身為不吃海鮮的人能給他最多的描述大概也就是這樣了，看起來去的大多是觀光客，因為本身不吃海鮮所以只有買個飯團來吃，也無法評價這裡到底是好是壞、海鮮是否新鮮之類的，畢竟以一個飯糰評價魚市場也不好吧。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有興趣的人可以自行上網查找看看評價了，這個點就這樣囉（連照片都沒拍）。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"ashibinaa-沖繩-outlet"},"children":[{"type":"text","value":"ASHIBINAA 沖繩 Outlet"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第四站是 Outlet，說來好笑，導遊說我們下一站要去「奧特萊斯」，KLOOK 也這樣寫，我就以為那個地方的品牌或地名就叫做奧特萊斯，後來發現奧特萊斯其實是 outlet 的音譯……。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不覺得奧特萊斯聽起來很高級嗎！我下次也要這樣說：我要去桃園的奧特萊斯！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"說到沖繩 outlet 呢，大概就是這間 ASHIBINAA 了。但因為離市區有段距離，不自駕想到這邊的話會有點麻煩，所以覺得這個路線安排這個點真的滿貼心的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不過 Outlet 好像也沒啥好介紹的，大概就是那樣，看自己想買什麼就買，我跟旅伴主要還是買藥妝類。真的不得不說，到底為什麼藥妝只是過了層關稅就會這麼貴呢？每個商品幾乎都是台灣的半價，難怪大家那麼愛跑日本買藥妝。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"瀨長島"},"children":[{"type":"text","value":"瀨長島"}]},{"type":"element","tag":"article-img","props":{"img":"922/LcnhuY.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後一站就是瀨長島，號稱沖繩小希臘。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"一直以來對這種用別處地名來代稱的作法不是很認同，什麼東方哈佛啊、說台南是小京都啊等等之類的，好像不拿其他地方的名聲來代用的話，就無法表達自己地方特色似的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而且對我這種沒去過希臘的人來說，也無法了解他是不是真的很像希臘……。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不過這裡真的是滿有特色的，白色的建築物與不規則的階梯，會有一種讓人在探險的感覺。至於享譽盛名的"},{"type":"element","tag":"a","props":{"href":"https://magia.tokyo/","rel":["nofollow"]},"children":[{"type":"text","value":"幸福鬆餅"}]},{"type":"text","value":"，如果不打算自行留下的話，也不建議去吃，因為不預約通常要排很久，想預約的話又會因為觀光巴士不確定抵達時間很難決定。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自己比較推薦的反而是旁邊海灘走走，可以看那霸機場的飛機起降，非常讓人心曠神怡。"}]},{"type":"element","tag":"article-img","props":{"img":"922/Ji7quE.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"心得"},"children":[{"type":"text","value":"心得"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這兩天體驗觀光巴士，覺得真的是很不錯，打破我對沖繩一定要自駕的印象，本來害怕要自己搭公車什麼的會很麻煩，但其實一天北部觀光巴士、一天南部觀光巴士、一天市區單軌列車到處晃晃，組個四天三夜的半自助旅行也已經很足夠了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我們還遇到在北部觀光巴士認識的獨旅台灣人，他也覺得這種方式對獨旅者來說非常方便，而且南部這條還納入 outlet，需要購物的他覺得很貼心。再加上車上懂漢語的導遊，整趟旅程下來真的是收穫滿滿。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"回到飯店後因為沒有排要吃什麼晚餐，我跟旅伴就討論找一間沖繩 SOBA（そば）來吃，Google 到飯店走路五分鐘有一間，我們就想說去踩看看，結果這頓變成此次旅程最好吃的一餐 XD，若對這部份有興趣可點這裡："},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_foods_2023"},"children":[]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這兩天乘著觀光巴士去玩完較遠的景點後，隔天就安排單軌列車在市區內晃晃耍廢，想繼續閱讀的可以點這裡："},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_fourth_day_2023"},"children":[]},{"type":"text","value":"。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"訂購平台klook","depth":2,"text":"訂購平台：KLOOK","children":[{"id":"路線","depth":3,"text":"路線"}]},{"id":"知念岬公園","depth":2,"text":"知念岬公園"},{"id":"沖繩世界","depth":2,"text":"沖繩世界","children":[{"id":"玉泉洞","depth":3,"text":"玉泉洞"},{"id":"王國村","depth":3,"text":"王國村"}]},{"id":"糸満漁市場","depth":2,"text":"糸満漁市場"},{"id":"ashibinaa-沖繩-outlet","depth":2,"text":"ASHIBINAA 沖繩 Outlet"},{"id":"瀨長島","depth":2,"text":"瀨長島"},{"id":"心得","depth":2,"text":"心得"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:okinawa_one_day_tour_bus_2023_south.md","_source":"content","_file":"articles/2023/okinawa_one_day_tour_bus_2023_south.md","_extension":"md","createdAt":"2023-12-24T07:57:36.000Z","updatedAt":"2024-03-21T07:44:12.000Z","slug":"okinawa_one_day_tour_bus_2023_south","plainTexts":["繼","上一篇","搭觀光巴士玩了沖繩北部之後，想當然也要來一台南部的。","訂購平台：KLOOK","一樣因為是使用即享券的關係，只能選擇 KLOOK 訂購。","路線","這次訂購的路線如下：","09:20 集合","10:30 知念岬公園(30 分鐘)","11:30 玉泉洞(2 小時)","14:00 糸満漁市場(40 分鐘)","14:50 Ashibinaa Okinawa Outlet (1 小時 30 分鐘)","16:30 瀨長島(1 小時)","18:00 返回下車地點","除了跟北部一樣有涵蓋大多的有名景點外，也去了一個 Outlet，非常符合觀光客的需求（？），若最後想停留在瀨長島的話也可以自行停留然後坐車回那霸。","知念岬公園","第一站是可以眺望沖繩南部海岸的知念岬公園。","沖繩最著名的大概就是「沖繩藍」了，寶石般的透明藍色海水半掩著珊瑚礁石，真的是見過就很難忘的美景。位於沖繩南部的知念岬公園，就是可以盡覽沖繩藍美景的地點之一。","知念岬公園的地形也是類似萬座毛的懸崖那樣，上面有著草原，只是知念岬公園多了高低落差，若站在高處更能遠望整片海洋，夏天來看海水邊吹著海風，真的非常涼快愜意。","在巴士經過","新井橋與金井橋","的時候，所看到的海景結合壯觀的橋更是一絕，很可惜當下太驚嘆忘記拍照了。讓我借用一下","photoAC 的圖片","：","沖繩世界","第二站是我覺得跟北部美麗海水族館重要性差不多的景點：玉泉洞。","玉泉洞跟王國村都位於一個叫做","沖繩世界","的……遊樂區（？）內，這裡一直是讓我又愛又恨，愛的是玉泉洞真的是規模非常壯麗的鐘乳石洞，號稱日本第二大絕對名不虛傳，若是第一次去沖繩或是沒看過其他地方鐘乳石洞的朋友，我會強烈推薦他一定要來。","恨的是，基於玉泉洞在地上所建立的王國村，是觀光氣息非常重的地方，若能單買玉泉洞的票，我是絕對不會想進去王國村的，但無奈他們就是綁在一起。","玉泉洞","那先來說玉泉洞吧，這次來雖然是第二次來了，但還是非常驚豔。","玉泉洞最好拍的地點是一進去的地方以及後面有用各種燈光做出造景的部份（像青之泉），一進去的地方也是空間最大最能拍出其壯觀的地方，建議可以先拍不然走完也不會想回頭走。","洞內地板會較為濕滑，一定要小心行走，也不要追逐奔跑（尤其要顧好小孩子），否則撞到鐘乳石會痛死的。","官方網站可以預約體驗，在工作人員的帶領下去","探索玉泉洞步道之外的區域","，若是自助前往可以參考，看起來滿吸引人的。","王國村","王國村基本上就是遊樂區，有很多觀光意味濃厚的體驗活動，比如製作琉璃、藍染、毒蛇繞頸（完全不懂這體驗點跟沖繩有何關聯）……之類，或是觀看所謂琉球原住民的舞蹈，像台灣的六福村那樣（至於是不是真的原住民或是其舞蹈究竟是否真的符合傳統，那又是另一回事了。）","最後就是一些那霸市內都買得到甚至更便宜的紀念品店，想買的話就回那霸市區再買就好囉。","糸満漁市場","第三站是要處理中餐的地方，因為表定到這裡的時候是 14:00，已經有些晚了，若怕中午太餓撐不住的話，建議前一天去便利商店買些東西帶在身上，畢竟前一站王國村也沒啥好吃的（而且又貴）。","那糸満漁市場呢，就是……一個……魚市場。身為不吃海鮮的人能給他最多的描述大概也就是這樣了，看起來去的大多是觀光客，因為本身不吃海鮮所以只有買個飯團來吃，也無法評價這裡到底是好是壞、海鮮是否新鮮之類的，畢竟以一個飯糰評價魚市場也不好吧。","有興趣的人可以自行上網查找看看評價了，這個點就這樣囉（連照片都沒拍）。","ASHIBINAA 沖繩 Outlet","第四站是 Outlet，說來好笑，導遊說我們下一站要去「奧特萊斯」，KLOOK 也這樣寫，我就以為那個地方的品牌或地名就叫做奧特萊斯，後來發現奧特萊斯其實是 outlet 的音譯……。","不覺得奧特萊斯聽起來很高級嗎！我下次也要這樣說：我要去桃園的奧特萊斯！","說到沖繩 outlet 呢，大概就是這間 ASHIBINAA 了。但因為離市區有段距離，不自駕想到這邊的話會有點麻煩，所以覺得這個路線安排這個點真的滿貼心的。","不過 Outlet 好像也沒啥好介紹的，大概就是那樣，看自己想買什麼就買，我跟旅伴主要還是買藥妝類。真的不得不說，到底為什麼藥妝只是過了層關稅就會這麼貴呢？每個商品幾乎都是台灣的半價，難怪大家那麼愛跑日本買藥妝。","瀨長島","最後一站就是瀨長島，號稱沖繩小希臘。","一直以來對這種用別處地名來代稱的作法不是很認同，什麼東方哈佛啊、說台南是小京都啊等等之類的，好像不拿其他地方的名聲來代用的話，就無法表達自己地方特色似的。","而且對我這種沒去過希臘的人來說，也無法了解他是不是真的很像希臘……。","不過這裡真的是滿有特色的，白色的建築物與不規則的階梯，會有一種讓人在探險的感覺。至於享譽盛名的","幸福鬆餅","，如果不打算自行留下的話，也不建議去吃，因為不預約通常要排很久，想預約的話又會因為觀光巴士不確定抵達時間很難決定。","自己比較推薦的反而是旁邊海灘走走，可以看那霸機場的飛機起降，非常讓人心曠神怡。","心得","這兩天體驗觀光巴士，覺得真的是很不錯，打破我對沖繩一定要自駕的印象，本來害怕要自己搭公車什麼的會很麻煩，但其實一天北部觀光巴士、一天南部觀光巴士、一天市區單軌列車到處晃晃，組個四天三夜的半自助旅行也已經很足夠了。","我們還遇到在北部觀光巴士認識的獨旅台灣人，他也覺得這種方式對獨旅者來說非常方便，而且南部這條還納入 outlet，需要購物的他覺得很貼心。再加上車上懂漢語的導遊，整趟旅程下來真的是收穫滿滿。","後記","回到飯店後因為沒有排要吃什麼晚餐，我跟旅伴就討論找一間沖繩 SOBA（そば）來吃，Google 到飯店走路五分鐘有一間，我們就想說去踩看看，結果這頓變成此次旅程最好吃的一餐 XD，若對這部份有興趣可點這裡：","。","這兩天乘著觀光巴士去玩完較遠的景點後，隔天就安排單軌列車在市區內晃晃耍廢，想繼續閱讀的可以點這裡：","。"]},{"_path":"/articles/2023/okinawa_one_day_tour_bus_2023","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"2023沖繩自由行：第二天——觀光巴士北部一日遊","description":"之前去沖繩的時候還不會開車，所以跟朋友租了機車；這次去沖繩雖然會開車了，但會了才知道自己真的不是開車的料，連在台灣都不敢開了，去沖繩還要不同方向駕駛就更不敢了。於是出發前就在查各種大眾交通資訊，還被朋友質疑去沖繩沒自駕是要玩什麼。","img":"923/8gQwby.jpg","tags":["沖繩","自助旅行","自由行","okinawa","觀光巴士","萬座毛","古宇利島","美麗海水族館","美國村"],"category":"life","readingTime":{"text":"11 min read","minutes":10.895,"time":653700,"words":2179},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前去沖繩的時候還不會開車，所以跟朋友租了機車；這次去沖繩雖然會開車了，但會了才知道自己真的不是開車的料，連在台灣都不敢開了，去沖繩還要不同方向駕駛就更不敢了。於是出發前就在查各種大眾交通資訊，還被朋友質疑去沖繩沒自駕是要玩什麼。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"查一查之後，發現在 KLOOK、KKDAY……等旅遊活動平台上有一種觀光巴士產品，會從早上出發帶你去各個比較有名的沖繩景點一日遊，行程大約到晚餐前，類似一日團的概念，就想說這次可以來試試看。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前去沖繩的時候還不會開車，所以跟朋友租了機車；這次去沖繩雖然會開車了，但會了才知道自己真的不是開車的料，連在台灣都不敢開了，去沖繩還要不同方向駕駛就更不敢了。於是出發前就在查各種大眾交通資訊，還被朋友質疑去沖繩沒自駕是要玩什麼。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"查一查之後，發現在 KLOOK、KKDAY……等旅遊活動平台上有一種觀光巴士產品，會從早上出發帶你去各個比較有名的沖繩景點一日遊，行程大約到晚餐前，類似一日團的概念，就想說這次可以來試試看。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"訂購平台klook"},"children":[{"type":"text","value":"訂購平台：KLOOK"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為公司贊助員旅使用即享券的關係，只能用在 KLOOK，所以就選擇在 "},{"type":"element","tag":"a","props":{"href":"https://www.klook.com/zh-TW/activity/19157-north-okinawa-okinawa-churaumi-aquarium-cape-manza-join-bus-tour/","rel":["nofollow"]},"children":[{"type":"text","value":"KLOOK 平台"}]},{"type":"text","value":"訂購，但 "},{"type":"element","tag":"a","props":{"href":"https://www.kkday.com/zh-tw/product/productlist?page=1&keyword=%E6%B2%96%E7%B9%A9%20%E8%A7%80%E5%85%89%E5%B7%B4%E5%A3%AB&qs=%E6%B2%96%E7%B9%A9%20%E8%A7%80%E5%85%89%E5%B7%B4%E5%A3%AB","rel":["nofollow"]},"children":[{"type":"text","value":"KKDAY 上面也有類似商品"}]},{"type":"text","value":"，路線好像還比 KLOOK 更多不同選擇，下次或許會試試看 KKDAY。"}]},{"type":"element","tag":"article-img","props":{"img":"922/KZ2phf.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"h3","props":{"id":"路線"},"children":[{"type":"text","value":"路線"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不同商品提供的路線也不一樣，我們這次選的是以下路線："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"08:20 集合"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"10:05 萬座毛(30 分鐘)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"11:25 古宇利島(30 分鐘)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"12:25 沖繩美麗海水族館(3 小時)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"16:45 美國村(1 小時)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"18:00 起返回下車地點"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以看到其實比較有名的景點都有涵蓋進去，雖然無法決定停留時間，但大致上都還可接受，若想停留在最後一站美國村的人也可以自行停留然後搭公車回來。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"萬座毛"},"children":[{"type":"text","value":"萬座毛"}]},{"type":"element","tag":"article-img","props":{"img":"922/xa0fff.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第一站呢，就是有名的萬座毛。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"萬座毛基本上是一處海邊懸崖上的草原，圍繞著懸崖鋪了步道，整圈悠閒走完不停留拍照大概只需要 10 分鐘吧。雖然大家來這邊都是看這個類似台灣已經斷掉的象鼻岩的景色，但根據導遊以及"},{"type":"element","tag":"a","props":{"href":"https://tc.tabirai.net/sightseeing/article/okinawa-manzamo/","rel":["nofollow"]},"children":[{"type":"text","value":"網路上的資料"}]},{"type":"text","value":"，萬座毛名稱的由來是跟草原有關而非這個岩石。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"走完之後可以在入口處旁的紀念品商店晃一下，老實說我是覺得有點無聊……如果自行開車的話，是可以不用特別安排來的景點，但總歸是知道了傳說中的萬座毛長得是什麼樣子了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於抵達這邊時是接近中午，在萬座毛的散步區內幾乎沒有遮蔽，強烈建議自行準備陽傘或帽子之類的遮陽物品，天氣好的話會超級曬的。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"古宇利島"},"children":[{"type":"text","value":"古宇利島"}]},{"type":"element","tag":"article-img","props":{"img":"923/7v1ib9.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第二站則是古宇利島。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"古宇利島也是沖繩著名的景點，大部分來古宇利島的人除了看古宇利大橋之外大概就是去海洋塔了。這次的路線沒有到海洋塔，而是停留在古宇利大橋附近的小商店："},{"type":"element","tag":"a","props":{"href":"https://sora-hashi.com/","rel":["nofollow"]},"children":[{"type":"text","value":"古宇利島の駅 ソラハシ"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個小商店有賣許多沖繩的農產品，除了常見的沖繩特產，導遊還推薦我們買所謂的「手撕鳳梨」，這個「手撕鳳梨」比起平常吃的鳳梨更小，香氣更加明顯，吃起來也較甜，吃的方式就是沿著鳳梨外面的紋路一塊塊拔起來吃，滿有趣的。"}]},{"type":"element","tag":"article-img","props":{"img":"922/Yq03vM.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然真的很好拔，還是建議準備叉子跟刀子才有辦法吃得乾淨，可以參考這個 "},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=kHHJ0R4QUgg","rel":["nofollow"]},"children":[{"type":"text","value":"Youtube 影片"}]},{"type":"text","value":"。不過鳳梨終歸是鳳梨，吃到後來手會因為酵素的關係癢癢的，其實不太好受。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"從小商店停車場走路一分鐘就可以抵達"},{"type":"element","tag":"a","props":{"href":"https://maps.app.goo.gl/dqEoYK1RbL7LV3Pw5","rel":["nofollow"]},"children":[{"type":"text","value":"古宇利海灘"}]},{"type":"text","value":"、瞻仰雄偉的古宇利大橋，由於停留時間只有 30 分鐘，到海灘頂多踩踩水而已無法盡興玩水。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"美麗海水族館美ら海水族館"},"children":[{"type":"text","value":"美麗海水族館（美ら海水族館）"}]},{"type":"element","tag":"article-img","props":{"img":"923/8gQwby.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第三站就是這次路線的重頭戲：美麗海水族館，而館中最著名的生物就是鯨鯊了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"生平第一次看到鯨鯊覺得非常壯觀，但發現其實鯨鯊所在的水缸比起想像中小很多，鯨鯊一下子就能繞一圈，遑論還有許多其他大型魚類如鬼蝠魟、魟魚擠在一起，也讓人反思水族館這麼小的魚缸，是否對他們來說是足夠人道的圈養。聽聞以前甚至還有三隻鯨鯊同時存在於同個水缸中，實在讓人無法想像。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"除了水族館本館以外，外面也有免費的海龜、儒艮等區域可觀看，海豚秀也是在外面。不同表演節目皆有固定時間場次，可參考官網做個規劃。"}]},{"type":"element","tag":"h3","props":{"id":"先吃午餐レストランイノー"},"children":[{"type":"text","value":"先吃午餐：レストラン「イノー」"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這站的停留時間會跨越中餐（須自理），建議先吃完中餐再逛水族館，才不會不確定剩下多少用餐時間而顯得慌亂。因為水族館外附近的餐廳都要步行較遠，網路上有建議可以前一晚在便利商店買東西帶過來吃，但我們覺得太麻煩了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"後來就決定去吃園區唯一算是正餐（？）的餐廳：在水族館 4F 的"},{"type":"element","tag":"a","props":{"href":"https://churaumi.okinawa/area/restaurant/inoh/","rel":["nofollow"]},"children":[{"type":"text","value":"レストラン「イノー」"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"article-img","props":{"img":"924/obdKNN.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這間餐廳是採 Buffet 形式，菜色一般般，不難吃但也不會留下深刻的印象，但種類滿多元。主要的賣點除了提供來水族館的客人一個方便以外，就是驚人的大片落地窗海景了，只能說沖繩的海景真是下飯，看著海景整個人的身心都放鬆且平靜下來。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"價格按人頭算是"},{"type":"element","tag":"text-price","props":{"currency":"JPY","price":"2200"},"children":[]},{"type":"text","value":"，因為日幣相對較低的關係，算起來大概是"},{"type":"element","tag":"text-price","props":{"currency":"TWD","price":"500"},"children":[]},{"type":"text","value":"左右，是個滿能接受的價格。"}]},{"type":"element","tag":"h3","props":{"id":"配合水族館節目表決定參觀路線"},"children":[{"type":"text","value":"配合水族館節目表決定參觀路線"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"吃完午餐後，因為時間很接近所以決定先去看海豚秀。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://churaumi.okinawa/tc/program/","rel":["nofollow"]},"children":[{"type":"text","value":"水族館的各項活動都有公告在官網上"}]},{"type":"text","value":"，建議可以把表演時間記下來，看看時間有沒有對到再規劃參觀路線會比較好。比較可惜的是這次來沒有看到鯨鯊的餵食秀，官網表定 15:00 開始但我們那時的集合時間是 15:15，跟旅伴評估之後來不及就放棄了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"美國村"},"children":[{"type":"text","value":"美國村"}]},{"type":"element","tag":"article-img","props":{"img":"922/RbW4Cd.jpg","aspect-ratio":"4/3"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後一站是美國村，因為原本的"},{"type":"element","tag":"a","props":{"href":"https://okinawa.letsgojp.com/archives/518614/","rel":["nofollow"]},"children":[{"type":"text","value":"遊樂園已經拆掉了要改建大型飯店"}]},{"type":"text","value":"，剩下購物區而已，自己的感覺就是像美國主題的小購物村。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"整體而言沒啥特別的，村內很多潮感（？）小店，跟台北西門町一些巷弄內的小店感覺滿像，附近很多看起來已經要荒廢的大型商場被夾娃娃機佔據（這部份跟台灣好像），停留一小時應該是給大家購物用，但我跟旅伴晃一下而已就去附近的 AEON 了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本來我們有討論要去日落海灘，但因為一定會超過集合時間，覺得自己回來有點麻煩最後還是跟著團回那霸了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"心得"},"children":[{"type":"text","value":"心得"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"老實說嘗試了觀光巴士之後覺得真的不錯，不僅有跟團那種別人幫你規劃好行程、你人只要出現的無腦感優點；也不用跟同一群人綁在一起好幾天，剩下天數可以自己規劃，保留自助旅行的自由。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在價格皆包含門票的前提下，KLOOK 大概也就是"},{"type":"element","tag":"text-price","props":{"currency":"TWD","price":"1000"},"children":[]},{"type":"text","value":"多左右，要知道"},{"type":"element","tag":"a","props":{"href":"https://churaumi.okinawa/sp/tc/guide/info/","rel":["nofollow"]},"children":[{"type":"text","value":"水族館門票官方價"}]},{"type":"text","value":"就要"},{"type":"element","tag":"text-price","props":{"currency":"JPY","price":"2180"},"children":[]},{"type":"text","value":"了，扣掉門票算一算剩下的錢，都快要比計程車資少了，覺得 CP 值滿高的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而且沖繩那邊好像會把非日本人湊在一起，我們那一車幾乎全部都是講漢語的，有台灣人、香港跟中國人，導遊也會講流利的漢語，路上也會熱心講解各種沖繩的文化、歷史、特產之類的人事物。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"很推薦給帶父母自由行、或是第一次來沖繩不確定要去哪邊的人，觀光巴士基本上會涵蓋大部分的有名景點，嘗試了之後若喜歡沖繩，下次再自己從頭規劃好像也不錯。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"回到飯店後，我們晚餐去吃第一天沒吃到的琉球新麵，老實說有點失望，吃起來甚至沒有比一些台灣拉麵店好吃，食物的部份一樣會另開一篇文章紀錄，這邊不多說，有興趣的可點這裡："},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_foods_2023"},"children":[]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"跑完北部之後當然要接著跑跑南部了，隔天仍然是觀光巴士的一天，想繼續閱讀的可以點這裡："},{"type":"element","tag":"article-inner-link","props":{"slug":"okinawa_one_day_tour_bus_2023_south"},"children":[]},{"type":"text","value":"。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"訂購平台klook","depth":2,"text":"訂購平台：KLOOK","children":[{"id":"路線","depth":3,"text":"路線"}]},{"id":"萬座毛","depth":2,"text":"萬座毛"},{"id":"古宇利島","depth":2,"text":"古宇利島"},{"id":"美麗海水族館美ら海水族館","depth":2,"text":"美麗海水族館（美ら海水族館）","children":[{"id":"先吃午餐レストランイノー","depth":3,"text":"先吃午餐：レストラン「イノー」"},{"id":"配合水族館節目表決定參觀路線","depth":3,"text":"配合水族館節目表決定參觀路線"}]},{"id":"美國村","depth":2,"text":"美國村"},{"id":"心得","depth":2,"text":"心得"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:okinawa_one_day_tour_bus_2023.md","_source":"content","_file":"articles/2023/okinawa_one_day_tour_bus_2023.md","_extension":"md","createdAt":"2023-12-23T14:35:11.000Z","updatedAt":"2024-03-21T07:44:12.000Z","slug":"okinawa_one_day_tour_bus_2023","plainTexts":["之前去沖繩的時候還不會開車，所以跟朋友租了機車；這次去沖繩雖然會開車了，但會了才知道自己真的不是開車的料，連在台灣都不敢開了，去沖繩還要不同方向駕駛就更不敢了。於是出發前就在查各種大眾交通資訊，還被朋友質疑去沖繩沒自駕是要玩什麼。","查一查之後，發現在 KLOOK、KKDAY……等旅遊活動平台上有一種觀光巴士產品，會從早上出發帶你去各個比較有名的沖繩景點一日遊，行程大約到晚餐前，類似一日團的概念，就想說這次可以來試試看。","訂購平台：KLOOK","因為公司贊助員旅使用即享券的關係，只能用在 KLOOK，所以就選擇在","KLOOK 平台","訂購，但","KKDAY 上面也有類似商品","，路線好像還比 KLOOK 更多不同選擇，下次或許會試試看 KKDAY。","路線","不同商品提供的路線也不一樣，我們這次選的是以下路線：","08:20 集合","10:05 萬座毛(30 分鐘)","11:25 古宇利島(30 分鐘)","12:25 沖繩美麗海水族館(3 小時)","16:45 美國村(1 小時)","18:00 起返回下車地點","可以看到其實比較有名的景點都有涵蓋進去，雖然無法決定停留時間，但大致上都還可接受，若想停留在最後一站美國村的人也可以自行停留然後搭公車回來。","萬座毛","第一站呢，就是有名的萬座毛。","萬座毛基本上是一處海邊懸崖上的草原，圍繞著懸崖鋪了步道，整圈悠閒走完不停留拍照大概只需要 10 分鐘吧。雖然大家來這邊都是看這個類似台灣已經斷掉的象鼻岩的景色，但根據導遊以及","網路上的資料","，萬座毛名稱的由來是跟草原有關而非這個岩石。","走完之後可以在入口處旁的紀念品商店晃一下，老實說我是覺得有點無聊……如果自行開車的話，是可以不用特別安排來的景點，但總歸是知道了傳說中的萬座毛長得是什麼樣子了。","由於抵達這邊時是接近中午，在萬座毛的散步區內幾乎沒有遮蔽，強烈建議自行準備陽傘或帽子之類的遮陽物品，天氣好的話會超級曬的。","古宇利島","第二站則是古宇利島。","古宇利島也是沖繩著名的景點，大部分來古宇利島的人除了看古宇利大橋之外大概就是去海洋塔了。這次的路線沒有到海洋塔，而是停留在古宇利大橋附近的小商店：","古宇利島の駅 ソラハシ","。","這個小商店有賣許多沖繩的農產品，除了常見的沖繩特產，導遊還推薦我們買所謂的「手撕鳳梨」，這個「手撕鳳梨」比起平常吃的鳳梨更小，香氣更加明顯，吃起來也較甜，吃的方式就是沿著鳳梨外面的紋路一塊塊拔起來吃，滿有趣的。","雖然真的很好拔，還是建議準備叉子跟刀子才有辦法吃得乾淨，可以參考這個","Youtube 影片","。不過鳳梨終歸是鳳梨，吃到後來手會因為酵素的關係癢癢的，其實不太好受。","從小商店停車場走路一分鐘就可以抵達","古宇利海灘","、瞻仰雄偉的古宇利大橋，由於停留時間只有 30 分鐘，到海灘頂多踩踩水而已無法盡興玩水。","美麗海水族館（美ら海水族館）","第三站就是這次路線的重頭戲：美麗海水族館，而館中最著名的生物就是鯨鯊了。","生平第一次看到鯨鯊覺得非常壯觀，但發現其實鯨鯊所在的水缸比起想像中小很多，鯨鯊一下子就能繞一圈，遑論還有許多其他大型魚類如鬼蝠魟、魟魚擠在一起，也讓人反思水族館這麼小的魚缸，是否對他們來說是足夠人道的圈養。聽聞以前甚至還有三隻鯨鯊同時存在於同個水缸中，實在讓人無法想像。","除了水族館本館以外，外面也有免費的海龜、儒艮等區域可觀看，海豚秀也是在外面。不同表演節目皆有固定時間場次，可參考官網做個規劃。","先吃午餐：レストラン「イノー」","這站的停留時間會跨越中餐（須自理），建議先吃完中餐再逛水族館，才不會不確定剩下多少用餐時間而顯得慌亂。因為水族館外附近的餐廳都要步行較遠，網路上有建議可以前一晚在便利商店買東西帶過來吃，但我們覺得太麻煩了。","後來就決定去吃園區唯一算是正餐（？）的餐廳：在水族館 4F 的","レストラン「イノー」","。","這間餐廳是採 Buffet 形式，菜色一般般，不難吃但也不會留下深刻的印象，但種類滿多元。主要的賣點除了提供來水族館的客人一個方便以外，就是驚人的大片落地窗海景了，只能說沖繩的海景真是下飯，看著海景整個人的身心都放鬆且平靜下來。","價格按人頭算是","，因為日幣相對較低的關係，算起來大概是","左右，是個滿能接受的價格。","配合水族館節目表決定參觀路線","吃完午餐後，因為時間很接近所以決定先去看海豚秀。","水族館的各項活動都有公告在官網上","，建議可以把表演時間記下來，看看時間有沒有對到再規劃參觀路線會比較好。比較可惜的是這次來沒有看到鯨鯊的餵食秀，官網表定 15:00 開始但我們那時的集合時間是 15:15，跟旅伴評估之後來不及就放棄了。","美國村","最後一站是美國村，因為原本的","遊樂園已經拆掉了要改建大型飯店","，剩下購物區而已，自己的感覺就是像美國主題的小購物村。","整體而言沒啥特別的，村內很多潮感（？）小店，跟台北西門町一些巷弄內的小店感覺滿像，附近很多看起來已經要荒廢的大型商場被夾娃娃機佔據（這部份跟台灣好像），停留一小時應該是給大家購物用，但我跟旅伴晃一下而已就去附近的 AEON 了。","本來我們有討論要去日落海灘，但因為一定會超過集合時間，覺得自己回來有點麻煩最後還是跟著團回那霸了。","心得","老實說嘗試了觀光巴士之後覺得真的不錯，不僅有跟團那種別人幫你規劃好行程、你人只要出現的無腦感優點；也不用跟同一群人綁在一起好幾天，剩下天數可以自己規劃，保留自助旅行的自由。","在價格皆包含門票的前提下，KLOOK 大概也就是","多左右，要知道","水族館門票官方價","就要","了，扣掉門票算一算剩下的錢，都快要比計程車資少了，覺得 CP 值滿高的。","而且沖繩那邊好像會把非日本人湊在一起，我們那一車幾乎全部都是講漢語的，有台灣人、香港跟中國人，導遊也會講流利的漢語，路上也會熱心講解各種沖繩的文化、歷史、特產之類的人事物。","很推薦給帶父母自由行、或是第一次來沖繩不確定要去哪邊的人，觀光巴士基本上會涵蓋大部分的有名景點，嘗試了之後若喜歡沖繩，下次再自己從頭規劃好像也不錯。","後記","回到飯店後，我們晚餐去吃第一天沒吃到的琉球新麵，老實說有點失望，吃起來甚至沒有比一些台灣拉麵店好吃，食物的部份一樣會另開一篇文章紀錄，這邊不多說，有興趣的可點這裡：","。","跑完北部之後當然要接著跑跑南部了，隔天仍然是觀光巴士的一天，想繼續閱讀的可以點這裡：","。"]},{"_path":"/articles/2023/online_survey_money","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"線上問卷調查賺取「額外微薄收入」心得","description":"從去年回到家鄉後，工作趨於穩定，生活也漸漸變得單調，在思考著人生意義的同時又不想虛度光陰，就想說要把這些時間拿去看能不能換成錢，其中一個想到的管道就是之前已經嘗試過的線上問卷調查。目前使用了半年多，想說紀錄一下當作心得分享。","img":"922/VdqfnF.jpg","tags":["額外收入","問卷調查"],"category":"life","readingTime":{"text":"9 min read","minutes":8.96,"time":537600,"words":1792},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"從去年回到家鄉後，工作趨於穩定，生活也漸漸變得單調，在思考著人生意義的同時又不想虛度光陰，就想說要把這些時間拿去看能不能換成錢，其中一個想到的管道就是之前已經嘗試過的線上問卷調查。目前使用了半年多，想說紀錄一下當作心得分享。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"從去年回到家鄉後，工作趨於穩定，生活也漸漸變得單調，在思考著人生意義的同時又不想虛度光陰，就想說要把這些時間拿去看能不能換成錢，其中一個想到的管道就是之前已經嘗試過的線上問卷調查。目前使用了半年多，想說紀錄一下當作心得分享。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"心得"},"children":[{"type":"text","value":"心得"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"想了想，決定把心得先寫在前面，以免大家對「線上問卷調查賺取額外收入」有錯誤的想像。"}]},{"type":"element","tag":"h3","props":{"id":"只能當作額外的微薄收入"},"children":[{"type":"text","value":"只能當作「額外」的「微薄」收入"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先想分享的心得就是，我覺得線上問卷調查平台的收入"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"絕對無法"}]},{"type":"text","value":"當作謀生的工具。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為其中有太多變數，例如各家平台給的獎勵與時間比例不同、無法保證每天都有問卷可作……等等質跟量的不確定性。之前計算過，就算我接到的問卷中途都沒有因為目標群體篩選問題而被踢出去，一個月最多也就是兩三千元，真實的平均大概只有幾百，所以絕對不要期待這個額外收入足以供應日常所需。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當然，那種一定會違反使用者條款的作法就不一定啦（辦一堆帳號或是用程式做問卷之類的），這不在我的分享範圍內。"}]},{"type":"element","tag":"h3","props":{"id":"效率非常低且無法累積經驗"},"children":[{"type":"text","value":"效率非常低且無法累積經驗"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你的閒暇時間能夠做其他運用，比如說創業、接案甚至是勞力密集式打工，賺錢的速度或許都會比線上問卷調查快上許多，大部分的問卷換算下來最多大概也只有最低時薪（甚至不到）。更重要的是，花這些時間並無法為自己帶來什麼經驗累積，放長遠來看，將時間花在問卷調查會是報酬率非常低的投資。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以，在要運用瑣碎時間賺取收入的前提下，建議大家把問卷調查放到最後面考慮。"}]},{"type":"element","tag":"h3","props":{"id":"出金必備paypal"},"children":[{"type":"text","value":"出金必備：PayPal"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"平台累積的金額多數都會用兌換獎勵的方式（通常是禮券或匯到 PayPal），不同平台兌換的禮券可能不同，通常會有便利商店或是大賣場這種比較實用的。不過禮券會被限制使用場域，所以我比較喜歡匯到 PayPal，然後在買東西時如果網站可以接受 PayPal 付款就使用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果要從 PayPal 出金到台灣，那只能透過玉山銀行，但我自己目前還沒試過，目前都是直接在可用 PayPal 的地方直接透過 PayPal 付款。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於從玉山全球通提領 PayPal 款項的手續費計算，可參考\n"},{"type":"element","tag":"a","props":{"href":"https://www.esunbank.com/zh-tw/about/faq/content?q=paypal/024","rel":["nofollow"]},"children":[{"type":"text","value":"官網說明"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"h3","props":{"id":"目前有在使用的平台"},"children":[{"type":"text","value":"目前有在使用的平台"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自己目前有在使用的平台按照推薦程度排序如下："},{"type":"element","tag":"a","props":{"href":"https://www.valuedopinions.tw/","rel":["nofollow"]},"children":[{"type":"text","value":"點眾"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://www.toluna.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Toluna"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://account.yougov.com/tw-zh","rel":["nofollow"]},"children":[{"type":"text","value":"YouGov"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://www.surveyon.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Surveyon"}]},{"type":"text","value":"，都是有實際出過金的。自己挑選的標準主要就是網站不能長太醜、不能有廣告。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"點眾"},"children":[{"type":"element","tag":"a","props":{"href":"https://www.valuedopinions.tw/","rel":["nofollow"]},"children":[{"type":"text","value":"點眾"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"問卷數量：★★★☆☆"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n問卷金額：★★★☆☆"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n獎勵種類及門檻：★★★☆☆"}]},{"type":"element","tag":"article-img","props":{"img":"922/1A14zx.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"點眾是我第一個接觸的問卷調查平台，問卷數量中等、金額也較合理，目前做起來一份大概都有 40 ～ 60 NTD，每份 10 ～ 20 分鐘不等，整體而言就是個中規中矩的問卷調查平台。他們"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"問卷的回饋標示不會用點數模糊你的判斷力，而是明確告訴你這份問卷能夠賺到多少錢"}]},{"type":"text","value":"，是我使用的平台中唯一直接以現實貨幣標示問卷回饋的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"獎勵部份，PayPal 累積至 300 NTD 可出金，大概做 6 ~ 10 份問卷就可以領一筆，最近還新增了 Uber / UberEats 通用券，深得我心，算是我最推薦的平台了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"toluna"},"children":[{"type":"element","tag":"a","props":{"href":"https://www.toluna.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Toluna"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"問卷數量：★★☆☆☆"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n問卷金額：★★★☆☆"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n獎勵種類及門檻：★★★★★"}]},{"type":"element","tag":"article-img","props":{"img":"924/a0qjYd.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Toluna 也是另一個中規中矩的問卷調查平台，自己體感上問卷數量比點眾少一些，問卷金額差不多是 15 ~ 60 NTD。但覺得比起其他平台較有機會寫到大型問卷，有曾經遇到換算下來是一張 100 NTD、或是要寫將近一小時的問卷。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Toluna 的獎勵兌換很棒，很乾脆的給了像全聯、家樂福、7-11、全家、遠東百貨這些有名氣也很有機會用到的禮券，或是也可以兌換 PayPal 200 元。算是目前試過的平台中，獎勵最有誠意的。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"yougov"},"children":[{"type":"element","tag":"a","props":{"href":"https://account.yougov.com/tw-zh/","rel":["nofollow"]},"children":[{"type":"text","value":"YouGov"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"問卷數量：★☆☆☆☆"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n問卷金額：★★★★☆"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n獎勵種類及門檻：★★★★☆"}]},{"type":"element","tag":"article-img","props":{"img":"924/H60eb9.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"YouGov 的問卷數量極少，從做完個人資料調查後，我大概一個月接不到兩次問卷，但 YouGov 的問卷時間都不多，金額卻仍可以給出幾十元的數量，算是我有在使用的平台中換算下來問卷金額最高的，只是真的數量太少。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不過 YouGov 有個非常特別的獎勵，就是 VISA 虛擬卡號，可以想像是給你一張限額的 VISA 卡，只要可以輸入卡號刷 VISA 卡的網站都可以用，非常方便，這點完全打趴其他平台兌換的禮券。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然照這個問卷數量，我大概一年才能換一次獎勵就是了……。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"surveyon"},"children":[{"type":"element","tag":"a","props":{"href":"https://www.surveyon.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Surveyon"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"問卷數量：★★★★★"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n問卷金額：★☆☆☆☆"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"\n獎勵種類及門檻：★★☆☆☆"}]},{"type":"element","tag":"article-img","props":{"img":"922/y9GbA3.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Surveyon 走一個以量取勝的路線，照三餐上去平台看幾乎每次都可以作到好幾份問卷，只是每份問卷換算下來大概只有 10~20 元的金額，卻仍要做上 10 分鐘以上，CP 值非常低。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Surveyon 有個特點是，就算你在途中被踢出問卷，例如在某個族群篩選題中被踢出來，Surveyon 還是會根據你的進度給予你一些點數，不會像其他平台被踢出去就是踢出去。有些篩選題如果在中段才出現，真的是會氣死。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"獎勵方面比較麻煩而且兌換範圍非常窄，雖然 PayPal 累積至 2 USD 元可出金（平台點數 20000 點），但匯入 PayPal 會是 USD 而不是 NTD，若想透過玉山全球通提領會需要扣手續費。除了 PayPal 就只能直接兌換已經固定品項的食品（平台點數 13000 點），像是摩斯冰紅茶或是肯德基。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個平台我現在也很少用，只有真的閒到發慌而其他平台都沒有問卷可作的時候，才會上來看看。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概就是這樣，現在幾乎只有完全不知道要幹嘛的時候，才會去平台上作作問卷賺一點小錢，畢竟時間可以用在更好的地方。然後其實 Google 也有一個獎勵金額跟問卷時間比例都還不錯的 "},{"type":"element","tag":"a","props":{"href":"https://support.google.com/opinionrewards/answer/7378183?hl=zh-Hant#zippy=","rel":["nofollow"]},"children":[{"type":"text","value":"Google 意見回饋與獎勵"}]},{"type":"text","value":"，但台灣只能兌換成 Google Play 點數用在儲值遊戲上，所以就覺得不在討論範圍內囉。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"心得","depth":2,"text":"心得","children":[{"id":"只能當作額外的微薄收入","depth":3,"text":"只能當作「額外」的「微薄」收入"},{"id":"效率非常低且無法累積經驗","depth":3,"text":"效率非常低且無法累積經驗"},{"id":"出金必備paypal","depth":3,"text":"出金必備：PayPal"},{"id":"目前有在使用的平台","depth":3,"text":"目前有在使用的平台"}]},{"id":"點眾","depth":2,"text":"點眾"},{"id":"toluna","depth":2,"text":"Toluna"},{"id":"yougov","depth":2,"text":"YouGov"},{"id":"surveyon","depth":2,"text":"Surveyon"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2023:online_survey_money.md","_source":"content","_file":"articles/2023/online_survey_money.md","_extension":"md","createdAt":"2023-10-30T09:24:31.000Z","updatedAt":"2024-01-24T07:26:04.000Z","slug":"online_survey_money","plainTexts":["從去年回到家鄉後，工作趨於穩定，生活也漸漸變得單調，在思考著人生意義的同時又不想虛度光陰，就想說要把這些時間拿去看能不能換成錢，其中一個想到的管道就是之前已經嘗試過的線上問卷調查。目前使用了半年多，想說紀錄一下當作心得分享。","心得","想了想，決定把心得先寫在前面，以免大家對「線上問卷調查賺取額外收入」有錯誤的想像。","只能當作「額外」的「微薄」收入","首先想分享的心得就是，我覺得線上問卷調查平台的收入","絕對無法","當作謀生的工具。","因為其中有太多變數，例如各家平台給的獎勵與時間比例不同、無法保證每天都有問卷可作……等等質跟量的不確定性。之前計算過，就算我接到的問卷中途都沒有因為目標群體篩選問題而被踢出去，一個月最多也就是兩三千元，真實的平均大概只有幾百，所以絕對不要期待這個額外收入足以供應日常所需。","當然，那種一定會違反使用者條款的作法就不一定啦（辦一堆帳號或是用程式做問卷之類的），這不在我的分享範圍內。","效率非常低且無法累積經驗","如果你的閒暇時間能夠做其他運用，比如說創業、接案甚至是勞力密集式打工，賺錢的速度或許都會比線上問卷調查快上許多，大部分的問卷換算下來最多大概也只有最低時薪（甚至不到）。更重要的是，花這些時間並無法為自己帶來什麼經驗累積，放長遠來看，將時間花在問卷調查會是報酬率非常低的投資。","所以，在要運用瑣碎時間賺取收入的前提下，建議大家把問卷調查放到最後面考慮。","出金必備：PayPal","平台累積的金額多數都會用兌換獎勵的方式（通常是禮券或匯到 PayPal），不同平台兌換的禮券可能不同，通常會有便利商店或是大賣場這種比較實用的。不過禮券會被限制使用場域，所以我比較喜歡匯到 PayPal，然後在買東西時如果網站可以接受 PayPal 付款就使用。","如果要從 PayPal 出金到台灣，那只能透過玉山銀行，但我自己目前還沒試過，目前都是直接在可用 PayPal 的地方直接透過 PayPal 付款。","關於從玉山全球通提領 PayPal 款項的手續費計算，可參考","官網說明","。","目前有在使用的平台","自己目前有在使用的平台按照推薦程度排序如下：","點眾","、","Toluna","、","YouGov","、","Surveyon","，都是有實際出過金的。自己挑選的標準主要就是網站不能長太醜、不能有廣告。","點眾","問卷數量：★★★☆☆","問卷金額：★★★☆☆","獎勵種類及門檻：★★★☆☆","點眾是我第一個接觸的問卷調查平台，問卷數量中等、金額也較合理，目前做起來一份大概都有 40 ～ 60 NTD，每份 10 ～ 20 分鐘不等，整體而言就是個中規中矩的問卷調查平台。他們","問卷的回饋標示不會用點數模糊你的判斷力，而是明確告訴你這份問卷能夠賺到多少錢","，是我使用的平台中唯一直接以現實貨幣標示問卷回饋的。","獎勵部份，PayPal 累積至 300 NTD 可出金，大概做 6 ~ 10 份問卷就可以領一筆，最近還新增了 Uber / UberEats 通用券，深得我心，算是我最推薦的平台了。","Toluna","問卷數量：★★☆☆☆","問卷金額：★★★☆☆","獎勵種類及門檻：★★★★★","Toluna 也是另一個中規中矩的問卷調查平台，自己體感上問卷數量比點眾少一些，問卷金額差不多是 15 ~ 60 NTD。但覺得比起其他平台較有機會寫到大型問卷，有曾經遇到換算下來是一張 100 NTD、或是要寫將近一小時的問卷。","Toluna 的獎勵兌換很棒，很乾脆的給了像全聯、家樂福、7-11、全家、遠東百貨這些有名氣也很有機會用到的禮券，或是也可以兌換 PayPal 200 元。算是目前試過的平台中，獎勵最有誠意的。","YouGov","問卷數量：★☆☆☆☆","問卷金額：★★★★☆","獎勵種類及門檻：★★★★☆","YouGov 的問卷數量極少，從做完個人資料調查後，我大概一個月接不到兩次問卷，但 YouGov 的問卷時間都不多，金額卻仍可以給出幾十元的數量，算是我有在使用的平台中換算下來問卷金額最高的，只是真的數量太少。","不過 YouGov 有個非常特別的獎勵，就是 VISA 虛擬卡號，可以想像是給你一張限額的 VISA 卡，只要可以輸入卡號刷 VISA 卡的網站都可以用，非常方便，這點完全打趴其他平台兌換的禮券。","雖然照這個問卷數量，我大概一年才能換一次獎勵就是了……。","Surveyon","問卷數量：★★★★★","問卷金額：★☆☆☆☆","獎勵種類及門檻：★★☆☆☆","Surveyon 走一個以量取勝的路線，照三餐上去平台看幾乎每次都可以作到好幾份問卷，只是每份問卷換算下來大概只有 10~20 元的金額，卻仍要做上 10 分鐘以上，CP 值非常低。","Surveyon 有個特點是，就算你在途中被踢出問卷，例如在某個族群篩選題中被踢出來，Surveyon 還是會根據你的進度給予你一些點數，不會像其他平台被踢出去就是踢出去。有些篩選題如果在中段才出現，真的是會氣死。","獎勵方面比較麻煩而且兌換範圍非常窄，雖然 PayPal 累積至 2 USD 元可出金（平台點數 20000 點），但匯入 PayPal 會是 USD 而不是 NTD，若想透過玉山全球通提領會需要扣手續費。除了 PayPal 就只能直接兌換已經固定品項的食品（平台點數 13000 點），像是摩斯冰紅茶或是肯德基。","這個平台我現在也很少用，只有真的閒到發慌而其他平台都沒有問卷可作的時候，才會上來看看。","後記","大概就是這樣，現在幾乎只有完全不知道要幹嘛的時候，才會去平台上作作問卷賺一點小錢，畢竟時間可以用在更好的地方。然後其實 Google 也有一個獎勵金額跟問卷時間比例都還不錯的","Google 意見回饋與獎勵","，但台灣只能兌換成 Google Play 點數用在儲值遊戲上，所以就覺得不在討論範圍內囉。"]},{"_path":"/articles/2023/pixel3a_custom_rom","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"使用Fedora刷Pixel 3a的LineageOS 過程紀錄","description":"總之呢，官方公佈不保證在 5 月之後還會收到更新，而網路則說 7 月會迎來最後一次更新，因為手機狀況都還滿健康的，最愛保留舊手機舊電腦的我，就想說要來刷機了。","tags":["fedora","android","custom rom","Gooel Pixel 3a","lineageos"],"img":"924/ioKHUr.jpg","category":"linux","readingTime":{"text":"13 min read","minutes":12.61,"time":756600,"words":2522},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"總之呢，"},{"type":"element","tag":"a","props":{"href":"https://support.google.com/pixelphone/answer/4457705?hl=zh-Hant#zippy=%2Cpixel-apixel-a-xlpixel-pixel-xlpixel-apixel-a-gpixel-%E5%92%8C-pixel-a-g","rel":["nofollow"]},"children":[{"type":"text","value":"官方公佈不保證在 5 月之後還會收到更新"}]},{"type":"text","value":"，而"},{"type":"element","tag":"a","props":{"href":"https://3c.ltn.com.tw/news/48895","rel":["nofollow"]},"children":[{"type":"text","value":"網路"}]},{"type":"text","value":"則說 7 月會迎來最後一次更新，因為手機狀況都還滿健康的，最愛保留舊手機舊電腦的我，就想說要來刷機了。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"總之呢，"},{"type":"element","tag":"a","props":{"href":"https://support.google.com/pixelphone/answer/4457705?hl=zh-Hant#zippy=%2Cpixel-apixel-a-xlpixel-pixel-xlpixel-apixel-a-gpixel-%E5%92%8C-pixel-a-g","rel":["nofollow"]},"children":[{"type":"text","value":"官方公佈不保證在 5 月之後還會收到更新"}]},{"type":"text","value":"，而"},{"type":"element","tag":"a","props":{"href":"https://3c.ltn.com.tw/news/48895","rel":["nofollow"]},"children":[{"type":"text","value":"網路"}]},{"type":"text","value":"則說 7 月會迎來最後一次更新，因為手機狀況都還滿健康的，最愛保留舊手機舊電腦的我，就想說要來刷機了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"本篇文章是一個過程紀錄與分享，非指導教學，若有興趣刷機的人，所有刷機步驟都絕對建議按照官方文件進行。若因文章內容疏漏而導致錯誤或手機損壞，本人不負任何責任。"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"lineageos"},"children":[{"type":"element","tag":"a","props":{"href":"https://lineageos.org/","rel":["nofollow"]},"children":[{"type":"text","value":"LineageOS"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"簡單介紹一下我使用的 ROM：LineageOS。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當年最廣為人知的 Android 客製化 ROM——CyanogenMod，就是 LineageOS 的前身。跟 CyanogenMod 一樣，現在有很多 Android 的客製化 ROM 都是基於 LineageOS 去改的，說是眾家 ROM 的始源、基底也不為過，也因此他整個系統是非常簡單，沒有太多額外功能的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"他們提供的安裝文件也非常詳細，因為刷 ROM 過程其實大同小異，就算不是要裝其他家的 ROM，若 LineageOS 上面也有支援同款裝置，還是建議可以去看他們家的文件。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"事前考量"},"children":[{"type":"text","value":"事前考量"}]},{"type":"element","tag":"h3","props":{"id":"相機還能用嗎"},"children":[{"type":"text","value":"相機還能用嗎？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第一個擔心的當然是相機，畢竟 Pixel 系列最吸引人的除了 Google 大神下來親自調校以外，就是 Google 相機的軟體演算法了。實際用了這幾年真的覺得很好用，包含天文模式、夜拍、HDR 的表現都非常驚人，所以刷機之後第一個擔心的就是相機。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上網做了一些查詢之後，有的人說會不能安裝原本的 Google 相機、有的人說可以直接從 Play Store 下載，似乎沒有一個確切的答案。雖然如此我還是滿想刷的，刷完之後的相機心得我會放在下面。"}]},{"type":"element","tag":"h3","props":{"id":"無法通過-safetynet-檢查的-app"},"children":[{"type":"text","value":"無法通過 Safetynet 檢查的 APP"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Safetynet 是 Google 用來檢查安裝 Android 的裝置是否有經過竄改（例如刷機、Root）的開發者工具，若 APP 開發者在 APP 中使用這個檢查，刷機後是有可能無法使用原本的 APP 的，最常見的例子就是刷機後的 Rom 有可能會無法在 Google Play 商店中搜尋到 Netflix，以及無法使用 Google 錢包的 NFC 感應付款功能。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"社群為了刷機後能最大地還原裝置的使用情境，也衍伸出許多方式來繞過這個檢查，然而這就像是跟 Google 在玩貓抓老鼠一樣。Google 會不斷更新檢測方式（"},{"type":"element","tag":"a","props":{"href":"https://developer.android.com/training/safetynet/deprecation-timeline","rel":["nofollow"]},"children":[{"type":"text","value":"例如將 Safetynet API 改成使用 Play Integrity API"}]},{"type":"text","value":"），社群也隨之再繼續開發新的繞道方式。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"也許目前的繞道方式可行，之後就不行了也不一定。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以，這部分也是刷機前需要考量的，因為原本你不會知道哪些 APP 有使用這個檢查（大部分是銀行 APP、支付工具 APP），必須要有刷機後某些 APP 無法使用的心理準備。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這部份我會在最後針對自己平常使用的 APP 做個整理。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"事前準備手機部份"},"children":[{"type":"text","value":"事前準備：手機部份"}]},{"type":"element","tag":"h3","props":{"id":"備份手機上的相片檔案或-apps"},"children":[{"type":"text","value":"備份手機上的相片、檔案或 APPs"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這應該是不用多說，相片什麼的我都放在 Google Photos 所以還好，主要是 LINE 的訊息要先同步一次，其他檔案就看自己需要備份。各自 APP 的轉移方式也要確認，如果能直接登帳號使用是最方便，有些遊戲要設定轉移碼什麼千萬記得設定。"}]},{"type":"element","tag":"h3","props":{"id":"轉移驗證器"},"children":[{"type":"text","value":"轉移驗證器"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這是我刷完才回來紀錄的……完全忽略這件事。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你有使用像"},{"type":"element","tag":"a","props":{"href":"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=zh_TW&gl=US","rel":["nofollow"]},"children":[{"type":"text","value":"Google 驗證器"}]},{"type":"text","value":"這種產生登入驗證碼的 APP，你會需要另一台手機來把原本手機裡面的驗證資料先轉移過去，等到刷完之後再轉移回來。很麻煩但建議一定要做，因為各自 APP 的驗證器重設方式都不同，像幣安就要審核，非常耗時。"}]},{"type":"element","tag":"h3","props":{"id":"確認手機為目前最新版本"},"children":[{"type":"text","value":"確認手機為目前最新版本"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://wiki.lineageos.org/devices/sargo/install","rel":["nofollow"]},"children":[{"type":"text","value":"LineageOS 官方的 Pixel 3a 刷機文件"}]},{"type":"text","value":"要求手機韌體版本必須為 Android 12.1.0，目前最新對應的版本號碼為"},{"type":"element","tag":"a","props":{"href":"https://developers.google.com/android/images#sargo","rel":["nofollow"]},"children":[{"type":"text","value":"SP2A.220505.008"}]},{"type":"text","value":"。打開設定值 > 關於手機 > 版本號碼便可確認。建議升級到最新版本再刷機。"}]},{"type":"element","tag":"h3","props":{"id":"開啟除錯模式及允許解鎖-oem"},"children":[{"type":"text","value":"開啟除錯模式及允許解鎖 OEM"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"打開設定值 > 關於手機 > 版本號碼，連續按「版本號碼」那一欄直到系統顯示以開啟開發人員模式為止。開啟之後，回到上一頁的系統 > 開發人員選項，打開「OEM 解鎖」及「USB 偵錯」兩個選項。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"事前準備電腦部份"},"children":[{"type":"text","value":"事前準備：電腦部份"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自從用了 Fedora 並且在上面刷機之後，覺得跟 Windows 上的刷機經驗真的天壤地別。如果你平常作業系統是 Windows 的話，我甚至建議可以拿不要的舊電腦來灌 Fedora 專門刷機用，前置作業（安裝 ADB、fastboot、驅動程式什麼的）只要用一行指令就完成，也讓你操作或設定錯誤的機會大大減少。"}]},{"type":"element","tag":"h3","props":{"id":"安裝-android-tools"},"children":[{"type":"text","value":"安裝 android-tools"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo dnf install android-tools\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" android-tools\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沒錯！就是這樣一條指令，adb 跟 fastboot 裝到好。如果是第一次安裝，安裝完建議重新開機一次。"}]},{"type":"element","tag":"h3","props":{"id":"下載相關的-rom-以及-recovery"},"children":[{"type":"text","value":"下載相關的 ROM 以及 Recovery"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為我要刷的是 LineageOS，就到"},{"type":"element","tag":"a","props":{"href":"https://download.lineageos.org/sargo","rel":["nofollow"]},"children":[{"type":"text","value":"官方頁面"}]},{"type":"text","value":"下載。"}]},{"type":"element","tag":"h3","props":{"id":"下載-ih8sn選擇性但建議安裝"},"children":[{"type":"text","value":"下載 ih8sn（選擇性但建議安裝）"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/LOS-Munch/ih8sn","rel":["nofollow"]},"children":[{"type":"text","value":"ih8sn"}]},{"type":"text","value":"是個利用覆寫系統的一些設定，來讓刷機後的 ROM 盡量通過 Safetynet 的專案，大部分的開發維護人員也都是 LineageOS 的成員。在上網搜尋各種繞過 Safetynet 的方式後，我覺得 ih8sn 是最簡單的一個。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安裝方式很簡單，因 Pixel 3a 為 arm64 架構，下載時要選擇"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ih8sn-aarch64.zip"}]},{"type":"text","value":"這個檔案，接著只要在首次安裝 Rom 時一起把這個 zip 檔刷進去就好了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"建議安裝，因為大部分的金融相關 APP、政府 APP 可能都會檢驗，可以省麻煩。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"刷機過程注意事項"},"children":[{"type":"text","value":"刷機過程注意事項"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"刷機過程就不做詳述，可參考"},{"type":"element","tag":"a","props":{"href":"https://wiki.lineageos.org/devices/sargo/install","rel":["nofollow"]},"children":[{"type":"text","value":"LineageOS 官方文件"}]},{"type":"text","value":"的解說，非常詳細。下面僅針對過程中比較特別的部份做紀錄。"}]},{"type":"element","tag":"h3","props":{"id":"所有指令都須使用-sudo"},"children":[{"type":"text","value":"所有指令都須使用 sudo"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Fedora 上，所有指令都必須使用 sudo 來進行。"}]},{"type":"element","tag":"h3","props":{"id":"互動式解鎖-bootloader"},"children":[{"type":"text","value":"互動式解鎖 Bootloader"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在解鎖 bootloader 的時候，在下完"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sudo fastboot flashing unlock"}]},{"type":"text","value":"指令之後，要回到手機上使用音量上下鍵選擇「Unlock Bootloader」，並按下電源鍵選擇，之後手機會重啟。看到畫面上有出現「Device state: unlocked」就是解鎖成功囉。"}]},{"type":"element","tag":"h3","props":{"id":"解鎖後須進入手機系統一次"},"children":[{"type":"text","value":"解鎖後須進入手機系統一次"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"解鎖後要再進入手機一次，重新開啟除錯模式，才能繼續往下做。"}]},{"type":"element","tag":"h3","props":{"id":"可透過指令先進入-bootloader-再進入-recovery"},"children":[{"type":"text","value":"可透過指令先進入 Bootloader 再進入 Recovery"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為發現要用「音量增加鍵+電源鍵」進入 Recovery 有點困難，似乎不管怎麼樣都會被跳過 Bootloader，所以這邊我重啟進入手機後再次使用指令來強制進入 Booloader，然後再手動操作進入 Recovery："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo adb reboot bootloader\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" adb"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" reboot"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" bootloader\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"透過-recovery-進行-factory-reset-時收到錯誤訊息ecant-send-spi-message-tryagain"},"children":[{"type":"text","value":"透過 Recovery 進行 Factory reset 時收到錯誤訊息「E:can't send spi message: Try again」"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"根據"},{"type":"element","tag":"a","props":{"href":"https://www.reddit.com/r/GooglePixel/comments/ka1wzv/pixel_3_reinstalling_android_ecant_send_spi/","rel":["nofollow"]},"children":[{"type":"text","value":"reddit 上網友 papi_groove 的回答"}]},{"type":"text","value":"，可透過「Advanced > View recovery logs > /tmp/recovery.log」檢視在 Log 中（我的是在最後面）是否有"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"I:Titan M wipe successful"}]},{"type":"text","value":"訊息，來確認是否無礙。"}]},{"type":"element","tag":"h3","props":{"id":"安裝完系統後要直接重啟一次到-recovery-才能安裝-mindthegapps"},"children":[{"type":"text","value":"安裝完系統後要直接重啟一次到 Recovery 才能安裝 MindTheGapps"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個官方文件有寫，但與之前刷過的機種不太一樣（之前刷過的機種都可以直接連著刷）所以沒注意到，特別拉出來紀錄。不先重啟一次到 Recovery（不是重啟到系統！）的話會裝不進去。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"app-檢查清單"},"children":[{"type":"text","value":"APP 檢查清單"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後成功刷機完也啟動之後，就是裝回 APP 了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這邊個人不建議使用還原，因為如果是從原生的 Android 轉過來，會有很多預裝的 APP，直接還原會全部都被裝回來。第一次轉到客製 Rom 還是建議先一個一個把要用的裝回來。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下列出一些我有在用的 APP 清單，紀錄刷機後是否可以正常執行，這邊正常執行是指有安裝前面所說的"},{"type":"element","tag":"article-inner-link","props":{"slug":"pixel3a_custom_rom","hash":"下載-ih8sn選擇性但建議安裝"},"children":[{"type":"text","value":"ih8sn 套件"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h3","props":{"id":"正常可使用"},"children":[{"type":"text","value":"正常可使用"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"台灣 Pay（這個是因為 Google Pay 不能用，所以上網搜尋類似功能的 APP 才開始用的，也支援手機直接感應店家的刷卡機。）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"全聯支付"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Disney+"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Facebook"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Google 相簿（而且 Pixel 3a 的無限容量判斷還有效）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Google 相機（從 Play 商店下載之後測試夜拍跟天文功能，看起來跟原本的沒什麼差異。）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"LINE"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"LINE Bank"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"LINE Pay"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"MaiCoin"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Messenger"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"幣安"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"全家便利商店"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"全支付"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"健保快易通"}]}]},{"type":"element","tag":"h3","props":{"id":"部份功能可用"},"children":[{"type":"text","value":"部份功能可用"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Google Pay：可以安裝但不能設定感應式付款"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概這樣，整體而言有好有壞，最好的部分當然是 Google 相簿無限容量還在，不過 APP 無法使用的部份大多都找到替代方案，但如果有特別依賴被影響到的 APP，可能還是不建議刷機。但看到手機空間從原本使用 5X GB 變成只剩下 20 出頭，還是覺得滿爽的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不過本來最擔心相機、付款跟銀行軟體（還有各種加密貨幣交易所），結果不能用的是全家，我真的猜不透啊，人家銀行都可以過了，請問全家在擋什麼意思！？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然安裝 ih8sn 之後大部分不能用的 APP 就能用了，但還是無法使用 Google Pay 感應付款。因為平常的消費使用習慣是先看店家是否支援 Line Pay，沒有的話就使用 Google Pay 感應付款，刷機後 Google Pay 無法使用影響有點大，所以去搜尋一些資料，發現台灣 Pay 也可以綁定信用卡後直接感應 POS 機器付款，類似直接感應實體卡的感覺，所以就載下來用，目前刷一些商家都有成功。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"lineageos","depth":2,"text":"LineageOS"},{"id":"事前考量","depth":2,"text":"事前考量","children":[{"id":"相機還能用嗎","depth":3,"text":"相機還能用嗎？"},{"id":"無法通過-safetynet-檢查的-app","depth":3,"text":"無法通過 Safetynet 檢查的 APP"}]},{"id":"事前準備手機部份","depth":2,"text":"事前準備：手機部份","children":[{"id":"備份手機上的相片檔案或-apps","depth":3,"text":"備份手機上的相片、檔案或 APPs"},{"id":"轉移驗證器","depth":3,"text":"轉移驗證器"},{"id":"確認手機為目前最新版本","depth":3,"text":"確認手機為目前最新版本"},{"id":"開啟除錯模式及允許解鎖-oem","depth":3,"text":"開啟除錯模式及允許解鎖 OEM"}]},{"id":"事前準備電腦部份","depth":2,"text":"事前準備：電腦部份","children":[{"id":"安裝-android-tools","depth":3,"text":"安裝 android-tools"},{"id":"下載相關的-rom-以及-recovery","depth":3,"text":"下載相關的 ROM 以及 Recovery"},{"id":"下載-ih8sn選擇性但建議安裝","depth":3,"text":"下載 ih8sn（選擇性但建議安裝）"}]},{"id":"刷機過程注意事項","depth":2,"text":"刷機過程注意事項","children":[{"id":"所有指令都須使用-sudo","depth":3,"text":"所有指令都須使用 sudo"},{"id":"互動式解鎖-bootloader","depth":3,"text":"互動式解鎖 Bootloader"},{"id":"解鎖後須進入手機系統一次","depth":3,"text":"解鎖後須進入手機系統一次"},{"id":"可透過指令先進入-bootloader-再進入-recovery","depth":3,"text":"可透過指令先進入 Bootloader 再進入 Recovery"},{"id":"透過-recovery-進行-factory-reset-時收到錯誤訊息ecant-send-spi-message-tryagain","depth":3,"text":"透過 Recovery 進行 Factory reset 時收到錯誤訊息「E:can't send spi message: Try again」"},{"id":"安裝完系統後要直接重啟一次到-recovery-才能安裝-mindthegapps","depth":3,"text":"安裝完系統後要直接重啟一次到 Recovery 才能安裝 MindTheGapps"}]},{"id":"app-檢查清單","depth":2,"text":"APP 檢查清單","children":[{"id":"正常可使用","depth":3,"text":"正常可使用"},{"id":"部份功能可用","depth":3,"text":"部份功能可用"}]}]}},"_type":"markdown","_id":"content:articles:2023:pixel3a_custom_rom.md","_source":"content","_file":"articles/2023/pixel3a_custom_rom.md","_extension":"md","createdAt":"2023-01-02T11:14:51.000Z","updatedAt":"2023-12-11T10:19:13.000Z","slug":"pixel3a_custom_rom","plainTexts":["總之呢，","官方公佈不保證在 5 月之後還會收到更新","，而","網路","則說 7 月會迎來最後一次更新，因為手機狀況都還滿健康的，最愛保留舊手機舊電腦的我，就想說要來刷機了。","本篇文章是一個過程紀錄與分享，非指導教學，若有興趣刷機的人，所有刷機步驟都絕對建議按照官方文件進行。若因文章內容疏漏而導致錯誤或手機損壞，本人不負任何責任。","LineageOS","簡單介紹一下我使用的 ROM：LineageOS。","當年最廣為人知的 Android 客製化 ROM——CyanogenMod，就是 LineageOS 的前身。跟 CyanogenMod 一樣，現在有很多 Android 的客製化 ROM 都是基於 LineageOS 去改的，說是眾家 ROM 的始源、基底也不為過，也因此他整個系統是非常簡單，沒有太多額外功能的。","他們提供的安裝文件也非常詳細，因為刷 ROM 過程其實大同小異，就算不是要裝其他家的 ROM，若 LineageOS 上面也有支援同款裝置，還是建議可以去看他們家的文件。","事前考量","相機還能用嗎？","第一個擔心的當然是相機，畢竟 Pixel 系列最吸引人的除了 Google 大神下來親自調校以外，就是 Google 相機的軟體演算法了。實際用了這幾年真的覺得很好用，包含天文模式、夜拍、HDR 的表現都非常驚人，所以刷機之後第一個擔心的就是相機。","上網做了一些查詢之後，有的人說會不能安裝原本的 Google 相機、有的人說可以直接從 Play Store 下載，似乎沒有一個確切的答案。雖然如此我還是滿想刷的，刷完之後的相機心得我會放在下面。","無法通過 Safetynet 檢查的 APP","Safetynet 是 Google 用來檢查安裝 Android 的裝置是否有經過竄改（例如刷機、Root）的開發者工具，若 APP 開發者在 APP 中使用這個檢查，刷機後是有可能無法使用原本的 APP 的，最常見的例子就是刷機後的 Rom 有可能會無法在 Google Play 商店中搜尋到 Netflix，以及無法使用 Google 錢包的 NFC 感應付款功能。","社群為了刷機後能最大地還原裝置的使用情境，也衍伸出許多方式來繞過這個檢查，然而這就像是跟 Google 在玩貓抓老鼠一樣。Google 會不斷更新檢測方式（","例如將 Safetynet API 改成使用 Play Integrity API","），社群也隨之再繼續開發新的繞道方式。","也許目前的繞道方式可行，之後就不行了也不一定。","所以，這部分也是刷機前需要考量的，因為原本你不會知道哪些 APP 有使用這個檢查（大部分是銀行 APP、支付工具 APP），必須要有刷機後某些 APP 無法使用的心理準備。","這部份我會在最後針對自己平常使用的 APP 做個整理。","事前準備：手機部份","備份手機上的相片、檔案或 APPs","這應該是不用多說，相片什麼的我都放在 Google Photos 所以還好，主要是 LINE 的訊息要先同步一次，其他檔案就看自己需要備份。各自 APP 的轉移方式也要確認，如果能直接登帳號使用是最方便，有些遊戲要設定轉移碼什麼千萬記得設定。","轉移驗證器","這是我刷完才回來紀錄的……完全忽略這件事。","如果你有使用像","Google 驗證器","這種產生登入驗證碼的 APP，你會需要另一台手機來把原本手機裡面的驗證資料先轉移過去，等到刷完之後再轉移回來。很麻煩但建議一定要做，因為各自 APP 的驗證器重設方式都不同，像幣安就要審核，非常耗時。","確認手機為目前最新版本","LineageOS 官方的 Pixel 3a 刷機文件","要求手機韌體版本必須為 Android 12.1.0，目前最新對應的版本號碼為","SP2A.220505.008","。打開設定值 > 關於手機 > 版本號碼便可確認。建議升級到最新版本再刷機。","開啟除錯模式及允許解鎖 OEM","打開設定值 > 關於手機 > 版本號碼，連續按「版本號碼」那一欄直到系統顯示以開啟開發人員模式為止。開啟之後，回到上一頁的系統 > 開發人員選項，打開「OEM 解鎖」及「USB 偵錯」兩個選項。","事前準備：電腦部份","自從用了 Fedora 並且在上面刷機之後，覺得跟 Windows 上的刷機經驗真的天壤地別。如果你平常作業系統是 Windows 的話，我甚至建議可以拿不要的舊電腦來灌 Fedora 專門刷機用，前置作業（安裝 ADB、fastboot、驅動程式什麼的）只要用一行指令就完成，也讓你操作或設定錯誤的機會大大減少。","安裝 android-tools","sudo","dnf","install","android-tools","沒錯！就是這樣一條指令，adb 跟 fastboot 裝到好。如果是第一次安裝，安裝完建議重新開機一次。","下載相關的 ROM 以及 Recovery","因為我要刷的是 LineageOS，就到","官方頁面","下載。","下載 ih8sn（選擇性但建議安裝）","ih8sn","是個利用覆寫系統的一些設定，來讓刷機後的 ROM 盡量通過 Safetynet 的專案，大部分的開發維護人員也都是 LineageOS 的成員。在上網搜尋各種繞過 Safetynet 的方式後，我覺得 ih8sn 是最簡單的一個。","安裝方式很簡單，因 Pixel 3a 為 arm64 架構，下載時要選擇","ih8sn-aarch64.zip","這個檔案，接著只要在首次安裝 Rom 時一起把這個 zip 檔刷進去就好了。","建議安裝，因為大部分的金融相關 APP、政府 APP 可能都會檢驗，可以省麻煩。","刷機過程注意事項","刷機過程就不做詳述，可參考","LineageOS 官方文件","的解說，非常詳細。下面僅針對過程中比較特別的部份做紀錄。","所有指令都須使用 sudo","在 Fedora 上，所有指令都必須使用 sudo 來進行。","互動式解鎖 Bootloader","在解鎖 bootloader 的時候，在下完","sudo fastboot flashing unlock","指令之後，要回到手機上使用音量上下鍵選擇「Unlock Bootloader」，並按下電源鍵選擇，之後手機會重啟。看到畫面上有出現「Device state: unlocked」就是解鎖成功囉。","解鎖後須進入手機系統一次","解鎖後要再進入手機一次，重新開啟除錯模式，才能繼續往下做。","可透過指令先進入 Bootloader 再進入 Recovery","因為發現要用「音量增加鍵+電源鍵」進入 Recovery 有點困難，似乎不管怎麼樣都會被跳過 Bootloader，所以這邊我重啟進入手機後再次使用指令來強制進入 Booloader，然後再手動操作進入 Recovery：","sudo","adb","reboot","bootloader","透過 Recovery 進行 Factory reset 時收到錯誤訊息「E:can't send spi message: Try again」","根據","reddit 上網友 papi_groove 的回答","，可透過「Advanced > View recovery logs > /tmp/recovery.log」檢視在 Log 中（我的是在最後面）是否有","I:Titan M wipe successful","訊息，來確認是否無礙。","安裝完系統後要直接重啟一次到 Recovery 才能安裝 MindTheGapps","這個官方文件有寫，但與之前刷過的機種不太一樣（之前刷過的機種都可以直接連著刷）所以沒注意到，特別拉出來紀錄。不先重啟一次到 Recovery（不是重啟到系統！）的話會裝不進去。","APP 檢查清單","最後成功刷機完也啟動之後，就是裝回 APP 了。","這邊個人不建議使用還原，因為如果是從原生的 Android 轉過來，會有很多預裝的 APP，直接還原會全部都被裝回來。第一次轉到客製 Rom 還是建議先一個一個把要用的裝回來。","以下列出一些我有在用的 APP 清單，紀錄刷機後是否可以正常執行，這邊正常執行是指有安裝前面所說的","ih8sn 套件","。","正常可使用","台灣 Pay（這個是因為 Google Pay 不能用，所以上網搜尋類似功能的 APP 才開始用的，也支援手機直接感應店家的刷卡機。）","全聯支付","Disney+","Facebook","Google 相簿（而且 Pixel 3a 的無限容量判斷還有效）","Google 相機（從 Play 商店下載之後測試夜拍跟天文功能，看起來跟原本的沒什麼差異。）","LINE","LINE Bank","LINE Pay","MaiCoin","Messenger","幣安","全家便利商店","全支付","健保快易通","部份功能可用","Google Pay：可以安裝但不能設定感應式付款","大概這樣，整體而言有好有壞，最好的部分當然是 Google 相簿無限容量還在，不過 APP 無法使用的部份大多都找到替代方案，但如果有特別依賴被影響到的 APP，可能還是不建議刷機。但看到手機空間從原本使用 5X GB 變成只剩下 20 出頭，還是覺得滿爽的。","不過本來最擔心相機、付款跟銀行軟體（還有各種加密貨幣交易所），結果不能用的是全家，我真的猜不透啊，人家銀行都可以過了，請問全家在擋什麼意思！？","雖然安裝 ih8sn 之後大部分不能用的 APP 就能用了，但還是無法使用 Google Pay 感應付款。因為平常的消費使用習慣是先看店家是否支援 Line Pay，沒有的話就使用 Google Pay 感應付款，刷機後 Google Pay 無法使用影響有點大，所以去搜尋一些資料，發現台灣 Pay 也可以綁定信用卡後直接感應 POS 機器付款，類似直接感應實體卡的感覺，所以就載下來用，目前刷一些商家都有成功。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/ubuntu_lineageos_sargo","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"在Ubuntu 22.04編譯Pixel 3a的LineageOS 20.0","description":"之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了 XDA 看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。","tags":["ubuntu","android","custom rom","Gooel Pixel 3a","lineageos"],"img":"922/DxakSn.jpg","category":"linux","readingTime":{"text":"9 min read","minutes":8.785,"time":527100,"words":1757},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了 "},{"type":"element","tag":"a","props":{"href":"https://forum.xda-developers.com/t/official-lineageos-19-1-for-the-google-pixel-3a.4436933/post-88303289","rel":["nofollow"]},"children":[{"type":"text","value":"XDA"}]},{"type":"text","value":" 看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了 "},{"type":"element","tag":"a","props":{"href":"https://forum.xda-developers.com/t/official-lineageos-19-1-for-the-google-pixel-3a.4436933/post-88303289","rel":["nofollow"]},"children":[{"type":"text","value":"XDA"}]},{"type":"text","value":" 看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n雖然 eSIM 問題仍然存在，但目前官方已將 Pixel 3a 的官方版本升到 LineageOS 20.0 囉！若只是單純要升級的朋友，可直接\n"},{"type":"element","tag":"a","props":{"href":"https://download.lineageos.org/devices/sargo/builds","rel":["nofollow"]},"children":[{"type":"text","value":"下載官方編譯的 ROM"}]},{"type":"text","value":"\n就好。\n"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"免責聲明"},"children":[{"type":"text","value":"免責聲明"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本篇的內容是參考"},{"type":"element","tag":"a","props":{"href":"https://wiki.lineageos.org/devices/sargo/build","rel":["nofollow"]},"children":[{"type":"text","value":"官方文件"}]},{"type":"text","value":"的編譯過程紀錄，內容可能有所出入，請斟酌服用，因本篇文章內容錯誤導致手機損壞，本人不負任何責任。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"硬體需求"},"children":[{"type":"text","value":"硬體需求"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"根據官方文件，要編譯 LineageOS 20.0 的硬體需求如下："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CPU：64 位元處理器"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"RAM：32GB 以上"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"硬碟：300GB 以上的可用空間，建議至少 SSD。"}]}]},{"type":"element","tag":"h3","props":{"id":"ram"},"children":[{"type":"text","value":"RAM"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若 RAM 不足 32GB，可以嘗試透過"},{"type":"element","tag":"article-inner-link","props":{"slug":"ubuntu_swap_resize"},"children":[{"type":"text","value":"增加 SWAP 大小"}]},{"type":"text","value":"彌補主記憶體的不足編譯看看。我在以下兩種情境中嘗試過將 SWAP 直接增加到 32GB，皆可編譯成功，提供參考。"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在"},{"type":"element","tag":"a","props":{"href":"https://www.linode.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Linode"}]},{"type":"text","value":"開 RAM 只有 16GB 的 Ubuntu 22.04 雲端機"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 RAM 有 32GB 的 Windows 上使用 Ubuntu 22.04 WSL2（預設 RAM 只有 Windows 的一半）"}]}]},{"type":"element","tag":"h3","props":{"id":"硬碟"},"children":[{"type":"text","value":"硬碟"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我使用同一臺桌機（CPU 爲 AMD R3-3100），SSD 以及 HDD 的編譯時間差異是一倍。所以建議還是乖乖使用 SSD 比較好。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"建立編譯環境"},"children":[{"type":"text","value":"建立編譯環境"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 更新一下套件庫\nsudo apt update\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 更新一下套件庫\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" apt"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" update\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 安裝編譯需要的套件\nsudo apt install bc bison build-essential ccache curl flex g++-multilib gcc-multilib git git-lfs gnupg gperf imagemagick lib32ncurses5-dev lib32readline-dev lib32z1-dev libelf-dev liblz4-tool libncurses5 libncurses5-dev libsdl1.2-dev libssl-dev libxml2 libxml2-utils lzop pngcrush rsync schedtool squashfs-tools xsltproc zip zlib1g-dev openjdk-11-jdk python3 repo python-is-python3 wget python3-protobuf -y\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 安裝編譯需要的套件\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" apt"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" bc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" bison"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" build-essential"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ccache"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" curl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" flex"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" g++-multilib"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gcc-multilib"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" git-lfs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gnupg"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" gperf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" imagemagick"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" lib32ncurses5-dev"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" lib32readline-dev"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" lib32z1-dev"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libelf-dev"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" liblz4-tool"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libncurses5"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libncurses5-dev"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libsdl1.2-dev"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libssl-dev"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libxml2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" libxml2-utils"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" lzop"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" pngcrush"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" rsync"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" schedtool"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" squashfs-tools"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" xsltproc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" zip"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" zlib1g-dev"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" openjdk-11-jdk"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" python3"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" repo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" python-is-python3"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" wget"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" python3-protobuf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -y\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 設定git身份(email)\ngit config --global user.email \"you@example.com\"\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 設定git身份(email)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" config"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --global"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" user.email"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" \"you@example.com\"\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 設定git身份(名稱)\ngit config --global user.name \"Your Name\"\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 設定git身份(名稱)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" config"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --global"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" user.name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" \"Your Name\"\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 啟用git的大檔支援\ngit lfs install\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 啟用git的大檔支援\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" lfs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"取得-lineageos-原始碼"},"children":[{"type":"text","value":"取得 LineageOS 原始碼"}]},{"type":"element","tag":"h3","props":{"id":"同步-lineageos-的原始碼"},"children":[{"type":"text","value":"同步 LineageOS 的原始碼"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 建立資料夾以儲存原始碼\nmkdir -p ~/android/lineage\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 建立資料夾以儲存原始碼\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"mkdir"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/android/lineage\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 移到原始碼資料夾\ncd ~/android/lineage\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 移到原始碼資料夾\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/android/lineage\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 初始化 repo\nrepo init\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 初始化 repo\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"repo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" init\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 設定要同步的套件庫與分支\nrepo init -u https://github.com/LineageOS/android.git -b lineage-20.0 --git-lfs\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 設定要同步的套件庫與分支\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"repo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" init"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -u"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://github.com/LineageOS/android.git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -b"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" lineage-20.0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --git-lfs\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下來要開始取得原始碼了，這個步驟需要一段時間，會下載滿多的檔案（大概 100 多 GB）。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 開始同步\nrepo sync\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 開始同步\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"repo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" sync\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若中間因為有問題而中斷同步，只要進到資料夾"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/android/lineage"}]},{"type":"text","value":"再次執行"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"repo sync"}]},{"type":"text","value":"即可。"}]},{"type":"element","tag":"h3","props":{"id":"同步-pixel-3a-的原始碼"},"children":[{"type":"text","value":"同步 Pixel 3a 的原始碼"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 設定編譯的環境變數\nsource build/envsetup.sh\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 設定編譯的環境變數\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"source"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" build/envsetup.sh\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 同步Pixel 3a原始碼\nbreakfast sargo\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 同步Pixel 3a原始碼\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"breakfast"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" sargo\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"執行指令後，會開始取得 LineageOS 原始碼庫中有關 Pixel 3a 的部份，最後應該會收到錯誤訊息："}]},{"type":"element","tag":"pre","props":{"className":"language-plaintext shiki shiki-themes github-dark","code":"** Don't have a product spec for: 'lineage_sargo'\n** Do you have the right repo manifest?\n","language":"plaintext","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"** Don't have a product spec for: 'lineage_sargo'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"** Do you have the right repo manifest?\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可先忽略，只要確定"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/android/lineage/device/google/sargo/extract-files.sh"}]},{"type":"text","value":"這個檔案有存在就好。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 確認檔案\nls ~/android/lineage/device/google/sargo/extract-files.sh\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 確認檔案\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"ls"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/android/lineage/device/google/sargo/extract-files.sh\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"提取-pixel-3a-的專有驅動程式"},"children":[{"type":"text","value":"提取 Pixel 3a 的專有驅動程式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下來要開始提取 Pixel 3a 的驅動程式，步驟稍微複雜一些。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 建立暫存資料以儲存抽出來的驅動程式\nmkdir -p ~/android/system_dump\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 建立暫存資料以儲存抽出來的驅動程式\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"mkdir"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -p"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/android/system_dump\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 移到資料夾\ncd ~/android/system_dump\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 移到資料夾\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/android/system_dump\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"從"},{"type":"element","tag":"a","props":{"href":"https://download.lineageos.org/devices/sargo/builds","rel":["nofollow"]},"children":[{"type":"text","value":"官網下載最新的安裝檔"}]},{"type":"text","value":"（"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".zip"}]},{"type":"text","value":"），下面指令中的連結可能已過期，要自行更新。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 下載安裝檔\nwget https://mirrorbits.lineageos.org/full/sargo/20230919/lineage-19.1-20230919-nightly-sargo-signed.zip\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 下載安裝檔\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"wget"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://mirrorbits.lineageos.org/full/sargo/20230919/lineage-19.1-20230919-nightly-sargo-signed.zip\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下來要取得可以提取映像檔的程式，並從檔案中提取映像檔。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"git clone https://github.com/LineageOS/android_tools_extract-utils android/tools/extract-utils\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" clone"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://github.com/LineageOS/android_tools_extract-utils"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" android/tools/extract-utils\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"git clone https://github.com/LineageOS/android_system_update_engine android/system/update_engine\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" clone"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" https://github.com/LineageOS/android_system_update_engine"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" android/system/update_engine\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 從檔案中提取映像檔\npython android/tools/extract-utils/extract_ota.py lineage-19.1-20230919-nightly-sargo-signed.zip\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 從檔案中提取映像檔\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"python"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" android/tools/extract-utils/extract_ota.py"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" lineage-19.1-20230919-nightly-sargo-signed.zip\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這裡執行可能需要一段時間，期間沒有文字提示要耐心等候，等到完成之後，再執行下面指令來掛載取得的映像檔。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 建立資料夾來提供掛載點\nmkdir system/\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 建立資料夾來提供掛載點\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"mkdir"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" system/\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo mount -o ro system.img system/\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" mount"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -o"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ro"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" system.img"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" system/\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo mount -o ro vendor.img system/vendor/\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" mount"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -o"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ro"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" vendor.img"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" system/vendor/\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo mount -o ro product.img system/product/\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" mount"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -o"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ro"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" product.img"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" system/product/\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo mount -o ro system_ext.img system/system_ext/\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" mount"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -o"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ro"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" system_ext.img"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" system/system_ext/\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"都掛載完成後，最後就可以從映像檔中提取驅動程式了。提取驅動程式會執行一小段時間，看電腦規格而定，我自己的是大概幾分鐘。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 移到Pixel 3a的原始碼資料夾\ncd ~/android/lineage/device/google/sargo\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 移到Pixel 3a的原始碼資料夾\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/android/lineage/device/google/sargo\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 執行提取驅動程式的指令\n./extract-files.sh ~/android/system_dump/\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 執行提取驅動程式的指令\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"./extract-files.sh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/android/system_dump/\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"提取完成後，作一些收尾工作："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 卸載剛剛掛載的映像檔\nsudo umount -R ~/android/system_dump/system/\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 卸載剛剛掛載的映像檔\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" umount"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -R"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/android/system_dump/system/\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 移除用來暫存的資料夾\nrm -rf ~/android/system_dump/\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 移除用來暫存的資料夾\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"rm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -rf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/android/system_dump/\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"編譯"},"children":[{"type":"text","value":"編譯"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先，確定自己身在 LineageOS 的原始碼資料夾中："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 移到原始碼資料夾\ncd ~/android/lineage\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 移到原始碼資料夾\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ~/android/lineage\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"同步原始碼為最新"},"children":[{"type":"text","value":"同步原始碼為最新"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若是第一次編譯已經沿著上面做過指令，可跳過這個部份直接從「"},{"type":"element","tag":"article-inner-link","props":{"slug":"ubuntu_lineageos_sargo","hash":"編譯前的一些設定"},"children":[{"type":"text","value":"編譯前的一些設定"}]},{"type":"text","value":"」開始。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 強制同步原始碼為最新\nrepo sync --force-sync\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 強制同步原始碼為最新\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"repo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" sync"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --force-sync\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 設定編譯的環境變數\nsource build/envsetup.sh\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 設定編譯的環境變數\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"source"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" build/envsetup.sh\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 再次同步Pixel 3a原始碼為最新\nbreakfast sargo\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 再次同步Pixel 3a原始碼為最新\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"breakfast"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" sargo\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"編譯前的一些設定"},"children":[{"type":"text","value":"編譯前的一些設定"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 啟用CCACHE\nexport USE_CCACHE=1\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 啟用CCACHE\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" USE_CCACHE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"1\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 設定CCACHE\nccache -M 50G\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 設定CCACHE\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"ccache"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -M"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 50G\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 設定CCACHE壓縮\nccache -o compression=true\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 設定CCACHE壓縮\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"ccache"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -o"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" compression="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"true\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"開始編譯"},"children":[{"type":"text","value":"開始編譯"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下來就是重頭戲——編譯了，這個指令執行下去之後就會開始編譯，期間會大量消耗系統資源，除非你的電腦是頂級硬體否則至少也要跑個幾小時，建議就把他放著，人去做其他事情吧，不要同時使用電腦。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"brunch sargo\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"brunch"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" sargo\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在大功告成之後，編譯好的安裝檔會放在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/android/lineage/out/target/product/sargo"}]},{"type":"text","value":"裡面，名稱會長得像這樣："},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lineage-20.0-20230415-UNOFFICIAL-sargo.zip "}]},{"type":"text","value":"，日期會根據編譯日期而不同。而 recovery 檔案會是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"boot.img"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若隔了一段時間要再重新編譯，直接從"},{"type":"element","tag":"article-inner-link","props":{"slug":"ubuntu_lineageos_sargo","hash":"編譯"},"children":[{"type":"text","value":"編譯"}]},{"type":"text","value":"再執行一次就好了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"全新安裝升級或更新"},"children":[{"type":"text","value":"全新安裝、升級或更新"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"根據不同狀況，Lineageos 官方 WIKI 的操作說明也不同，可以分成"},{"type":"element","tag":"a","props":{"href":"https://wiki.lineageos.org/devices/sargo/install","rel":["nofollow"]},"children":[{"type":"text","value":"全新安裝"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://wiki.lineageos.org/devices/sargo/upgrade","rel":["nofollow"]},"children":[{"type":"text","value":"升級"}]},{"type":"text","value":"或"},{"type":"element","tag":"a","props":{"href":"https://wiki.lineageos.org/devices/sargo/update","rel":["nofollow"]},"children":[{"type":"text","value":"更新"}]},{"type":"text","value":"三種。"}]},{"type":"element","tag":"h3","props":{"id":"從-191-升級"},"children":[{"type":"text","value":"從 19.1 升級"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"升級的部分成功的話是可以保留應用程式跟資料的（就跟我們升級沒有刷 ROM 的手機一樣），這裏自己覺得要特別注意的部分，就是 Gapps 以及任何你有額外裝的東西（例如前面說的 ih8sn），要在升級後再刷入一次，Gapps 要下載對應 20.0 的版本。而且要跟在全新安裝時一樣，升級完 Lineageos 之後先直接重新啟動到 Recovery 一次。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沒有試過直接從 18.1 更新，建議先安裝目前"},{"type":"element","tag":"a","props":{"href":"https://download.lineageos.org/devices/sargo/builds","rel":["nofollow"]},"children":[{"type":"text","value":"Lineageos 官方最新的 19.1 版本"}]},{"type":"text","value":"，再進行更新。"}]},{"type":"element","tag":"h3","props":{"id":"從-200-更新"},"children":[{"type":"text","value":"從 20.0 更新"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果本來就是 20.0，要更新到較新的版本，要注意的是因為現在 Pixel 3a 尚未有官方 20.0 的版本，在官方操作說明中的指令"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"wget https://raw.githubusercontent.com/LineageOS/android_packages_apps_Updater/lineage-19.1/push-update.sh"}]},{"type":"text","value":"的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lineage-19.1"}]},{"type":"text","value":"要改成"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lineage-20.0"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這一路風風雨雨（？）真的是折騰滿久，尤其是最後編譯的時候，因為時間很長，中途突然給你出錯又要整個重來，除錯了好一陣子。雖然更新不像直接使用官方發布版本方便，要先打開開發人員模式，但使用最新版本的感覺就是爽（？）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不過……誠心建議如果不是特別想要追求最新版本，真的還是乖乖等官方發佈就好。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"參考文獻"},"children":[{"type":"text","value":"參考文獻"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://wiki.lineageos.org/devices/sargo/build","rel":["nofollow"]},"children":[{"type":"text","value":"Build for sargo"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://wiki.lineageos.org/extracting_blobs_from_zips#extracting-proprietary-blobs-from-payload-based-otas","rel":["nofollow"]},"children":[{"type":"text","value":"Extracting proprietary blobs from LineageOS zip files"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"免責聲明","depth":2,"text":"免責聲明"},{"id":"硬體需求","depth":2,"text":"硬體需求","children":[{"id":"ram","depth":3,"text":"RAM"},{"id":"硬碟","depth":3,"text":"硬碟"}]},{"id":"建立編譯環境","depth":2,"text":"建立編譯環境"},{"id":"取得-lineageos-原始碼","depth":2,"text":"取得 LineageOS 原始碼","children":[{"id":"同步-lineageos-的原始碼","depth":3,"text":"同步 LineageOS 的原始碼"},{"id":"同步-pixel-3a-的原始碼","depth":3,"text":"同步 Pixel 3a 的原始碼"}]},{"id":"提取-pixel-3a-的專有驅動程式","depth":2,"text":"提取 Pixel 3a 的專有驅動程式"},{"id":"編譯","depth":2,"text":"編譯","children":[{"id":"同步原始碼為最新","depth":3,"text":"同步原始碼為最新"},{"id":"編譯前的一些設定","depth":3,"text":"編譯前的一些設定"},{"id":"開始編譯","depth":3,"text":"開始編譯"}]},{"id":"全新安裝升級或更新","depth":2,"text":"全新安裝、升級或更新","children":[{"id":"從-191-升級","depth":3,"text":"從 19.1 升級"},{"id":"從-200-更新","depth":3,"text":"從 20.0 更新"}]},{"id":"後記","depth":2,"text":"後記"},{"id":"參考文獻","depth":2,"text":"參考文獻"}]}},"_type":"markdown","_id":"content:articles:2023:ubuntu_lineageos_sargo.md","_source":"content","_file":"articles/2023/ubuntu_lineageos_sargo.md","_extension":"md","createdAt":"2023-04-15T11:38:12.000Z","updatedAt":"2024-01-24T07:26:04.000Z","slug":"ubuntu_lineageos_sargo","plainTexts":["之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了","XDA","看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。","雖然 eSIM 問題仍然存在，但目前官方已將 Pixel 3a 的官方版本升到 LineageOS 20.0 囉！若只是單純要升級的朋友，可直接","下載官方編譯的 ROM","就好。","免責聲明","本篇的內容是參考","官方文件","的編譯過程紀錄，內容可能有所出入，請斟酌服用，因本篇文章內容錯誤導致手機損壞，本人不負任何責任。","硬體需求","根據官方文件，要編譯 LineageOS 20.0 的硬體需求如下：","CPU：64 位元處理器","RAM：32GB 以上","硬碟：300GB 以上的可用空間，建議至少 SSD。","RAM","若 RAM 不足 32GB，可以嘗試透過","增加 SWAP 大小","彌補主記憶體的不足編譯看看。我在以下兩種情境中嘗試過將 SWAP 直接增加到 32GB，皆可編譯成功，提供參考。","在","Linode","開 RAM 只有 16GB 的 Ubuntu 22.04 雲端機","在 RAM 有 32GB 的 Windows 上使用 Ubuntu 22.04 WSL2（預設 RAM 只有 Windows 的一半）","硬碟","我使用同一臺桌機（CPU 爲 AMD R3-3100），SSD 以及 HDD 的編譯時間差異是一倍。所以建議還是乖乖使用 SSD 比較好。","建立編譯環境","# 更新一下套件庫","sudo","apt","update","# 安裝編譯需要的套件","sudo","apt","install","bc","bison","build-essential","ccache","curl","flex","g++-multilib","gcc-multilib","git","git-lfs","gnupg","gperf","imagemagick","lib32ncurses5-dev","lib32readline-dev","lib32z1-dev","libelf-dev","liblz4-tool","libncurses5","libncurses5-dev","libsdl1.2-dev","libssl-dev","libxml2","libxml2-utils","lzop","pngcrush","rsync","schedtool","squashfs-tools","xsltproc","zip","zlib1g-dev","openjdk-11-jdk","python3","repo","python-is-python3","wget","python3-protobuf","-y","# 設定git身份(email)","git","config","--global","user.email","\"you@example.com\"","# 設定git身份(名稱)","git","config","--global","user.name","\"Your Name\"","# 啟用git的大檔支援","git","lfs","install","取得 LineageOS 原始碼","同步 LineageOS 的原始碼","# 建立資料夾以儲存原始碼","mkdir","-p","~/android/lineage","# 移到原始碼資料夾","cd","~/android/lineage","# 初始化 repo","repo","init","# 設定要同步的套件庫與分支","repo","init","-u","https://github.com/LineageOS/android.git","-b","lineage-20.0","--git-lfs","接下來要開始取得原始碼了，這個步驟需要一段時間，會下載滿多的檔案（大概 100 多 GB）。","# 開始同步","repo","sync","若中間因為有問題而中斷同步，只要進到資料夾","~/android/lineage","再次執行","repo sync","即可。","同步 Pixel 3a 的原始碼","# 設定編譯的環境變數","source","build/envsetup.sh","# 同步Pixel 3a原始碼","breakfast","sargo","執行指令後，會開始取得 LineageOS 原始碼庫中有關 Pixel 3a 的部份，最後應該會收到錯誤訊息：","** Don't have a product spec for: 'lineage_sargo'","** Do you have the right repo manifest?","可先忽略，只要確定","~/android/lineage/device/google/sargo/extract-files.sh","這個檔案有存在就好。","# 確認檔案","ls","~/android/lineage/device/google/sargo/extract-files.sh","提取 Pixel 3a 的專有驅動程式","接下來要開始提取 Pixel 3a 的驅動程式，步驟稍微複雜一些。","# 建立暫存資料以儲存抽出來的驅動程式","mkdir","-p","~/android/system_dump","# 移到資料夾","cd","~/android/system_dump","從","官網下載最新的安裝檔","（",".zip","），下面指令中的連結可能已過期，要自行更新。","# 下載安裝檔","wget","https://mirrorbits.lineageos.org/full/sargo/20230919/lineage-19.1-20230919-nightly-sargo-signed.zip","接下來要取得可以提取映像檔的程式，並從檔案中提取映像檔。","git","clone","https://github.com/LineageOS/android_tools_extract-utils","android/tools/extract-utils","git","clone","https://github.com/LineageOS/android_system_update_engine","android/system/update_engine","# 從檔案中提取映像檔","python","android/tools/extract-utils/extract_ota.py","lineage-19.1-20230919-nightly-sargo-signed.zip","這裡執行可能需要一段時間，期間沒有文字提示要耐心等候，等到完成之後，再執行下面指令來掛載取得的映像檔。","# 建立資料夾來提供掛載點","mkdir","system/","sudo","mount","-o","ro","system.img","system/","sudo","mount","-o","ro","vendor.img","system/vendor/","sudo","mount","-o","ro","product.img","system/product/","sudo","mount","-o","ro","system_ext.img","system/system_ext/","都掛載完成後，最後就可以從映像檔中提取驅動程式了。提取驅動程式會執行一小段時間，看電腦規格而定，我自己的是大概幾分鐘。","# 移到Pixel 3a的原始碼資料夾","cd","~/android/lineage/device/google/sargo","# 執行提取驅動程式的指令","./extract-files.sh","~/android/system_dump/","提取完成後，作一些收尾工作：","# 卸載剛剛掛載的映像檔","sudo","umount","-R","~/android/system_dump/system/","# 移除用來暫存的資料夾","rm","-rf","~/android/system_dump/","編譯","首先，確定自己身在 LineageOS 的原始碼資料夾中：","# 移到原始碼資料夾","cd","~/android/lineage","同步原始碼為最新","若是第一次編譯已經沿著上面做過指令，可跳過這個部份直接從「","編譯前的一些設定","」開始。","# 強制同步原始碼為最新","repo","sync","--force-sync","# 設定編譯的環境變數","source","build/envsetup.sh","# 再次同步Pixel 3a原始碼為最新","breakfast","sargo","編譯前的一些設定","# 啟用CCACHE","export","USE_CCACHE","=","1","# 設定CCACHE","ccache","-M","50G","# 設定CCACHE壓縮","ccache","-o","compression=","true","開始編譯","接下來就是重頭戲——編譯了，這個指令執行下去之後就會開始編譯，期間會大量消耗系統資源，除非你的電腦是頂級硬體否則至少也要跑個幾小時，建議就把他放著，人去做其他事情吧，不要同時使用電腦。","brunch","sargo","在大功告成之後，編譯好的安裝檔會放在","~/android/lineage/out/target/product/sargo","裡面，名稱會長得像這樣：","lineage-20.0-20230415-UNOFFICIAL-sargo.zip","，日期會根據編譯日期而不同。而 recovery 檔案會是","boot.img","。","若隔了一段時間要再重新編譯，直接從","編譯","再執行一次就好了。","全新安裝、升級或更新","根據不同狀況，Lineageos 官方 WIKI 的操作說明也不同，可以分成","全新安裝","、","升級","或","更新","三種。","從 19.1 升級","升級的部分成功的話是可以保留應用程式跟資料的（就跟我們升級沒有刷 ROM 的手機一樣），這裏自己覺得要特別注意的部分，就是 Gapps 以及任何你有額外裝的東西（例如前面說的 ih8sn），要在升級後再刷入一次，Gapps 要下載對應 20.0 的版本。而且要跟在全新安裝時一樣，升級完 Lineageos 之後先直接重新啟動到 Recovery 一次。","沒有試過直接從 18.1 更新，建議先安裝目前","Lineageos 官方最新的 19.1 版本","，再進行更新。","從 20.0 更新","如果本來就是 20.0，要更新到較新的版本，要注意的是因為現在 Pixel 3a 尚未有官方 20.0 的版本，在官方操作說明中的指令","wget https://raw.githubusercontent.com/LineageOS/android_packages_apps_Updater/lineage-19.1/push-update.sh","的","lineage-19.1","要改成","lineage-20.0","。","後記","這一路風風雨雨（？）真的是折騰滿久，尤其是最後編譯的時候，因為時間很長，中途突然給你出錯又要整個重來，除錯了好一陣子。雖然更新不像直接使用官方發布版本方便，要先打開開發人員模式，但使用最新版本的感覺就是爽（？）。","不過……誠心建議如果不是特別想要追求最新版本，真的還是乖乖等官方發佈就好。","參考文獻","Build for sargo","Extracting proprietary blobs from LineageOS zip files","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/ubuntu_swap_resize","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"調整Ubuntu中的SWAP大小","description":"在Ubuntu 中嘗試編譯 LineageOS時，因為實體記憶體不足的關係，上網查了一下資料發現或許能透過增加虛擬記憶體 SWAP 來解決，所以就紀錄了下來。","img":"924/Ld14Ra.jpg","tags":["ubuntu","swap"],"category":"linux","readingTime":{"text":"1 min read","minutes":0.89,"time":53400,"words":178},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在"},{"type":"element","tag":"article-inner-link","props":{"slug":"ubuntu_lineageos_sargo"},"children":[{"type":"text","value":"Ubuntu 中嘗試編譯 LineageOS"}]},{"type":"text","value":"時，因為實體記憶體不足的關係，上網查了一下資料發現或許能透過增加虛擬記憶體 SWAP 來解決，所以就紀錄了下來。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在"},{"type":"element","tag":"article-inner-link","props":{"slug":"ubuntu_lineageos_sargo"},"children":[{"type":"text","value":"Ubuntu 中嘗試編譯 LineageOS"}]},{"type":"text","value":"時，因為實體記憶體不足的關係，上網查了一下資料發現或許能透過增加虛擬記憶體 SWAP 來解決，所以就紀錄了下來。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 首先檢查一下目前的SWAP大小\nswapon\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 首先檢查一下目前的SWAP大小\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"swapon\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 會看到這樣子的輸出，可以看到SIZE是8GB。\nNAME       TYPE      SIZE  USED PRIO\n/dev/sdb0 partition   8G 15.8M  100\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 會看到這樣子的輸出，可以看到SIZE是8GB。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"NAME"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"       TYPE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"      SIZE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"  USED"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" PRIO\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"/dev/sdb0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" partition"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"   8G"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 15.8M"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  100\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 先關閉SWAP\nsudo swapoff -a\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 先關閉SWAP\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" swapoff"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -a\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 建立一個SWAP檔案\nsudo fallocate -l 16G /swapfile\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 建立一個SWAP檔案\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" fallocate"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -l"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 16G"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /swapfile\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 改變檔案的權限\nsudo chmod 600 /swapfile\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 改變檔案的權限\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" chmod"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 600"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /swapfile\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 標記檔案爲SWAP\nsudo mkswap /swapfile\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 標記檔案爲SWAP\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" mkswap"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /swapfile\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 啟用\nsudo swapon /swapfile\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 啟用\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" swapon"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /swapfile\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# 檢查一下調整後的大小\nswapon\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# 檢查一下調整後的大小\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"swapon\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"# SIZE變成16GB就對囉\nNAME       TYPE      SIZE USED PRIO\n/dev/zram0 partition  16G   0B  100\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"# SIZE變成16GB就對囉\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"NAME"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"       TYPE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"      SIZE"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" USED"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" PRIO\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"/dev/zram0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" partition"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"  16G"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"   0B"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  100\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"參考文獻"},"children":[{"type":"text","value":"參考文獻"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-22-04","rel":["nofollow"]},"children":[{"type":"text","value":"How To Add Swap Space on Ubuntu 22.04"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"參考文獻","depth":2,"text":"參考文獻"}]}},"_type":"markdown","_id":"content:articles:2023:ubuntu_swap_resize.md","_source":"content","_file":"articles/2023/ubuntu_swap_resize.md","_extension":"md","createdAt":"2023-04-15T11:38:12.000Z","updatedAt":"2023-12-11T03:54:57.000Z","slug":"ubuntu_swap_resize","plainTexts":["在","Ubuntu 中嘗試編譯 LineageOS","時，因為實體記憶體不足的關係，上網查了一下資料發現或許能透過增加虛擬記憶體 SWAP 來解決，所以就紀錄了下來。","# 首先檢查一下目前的SWAP大小","swapon","# 會看到這樣子的輸出，可以看到SIZE是8GB。","NAME","TYPE","SIZE","USED","PRIO","/dev/sdb0","partition","8G","15.8M","100","# 先關閉SWAP","sudo","swapoff","-a","# 建立一個SWAP檔案","sudo","fallocate","-l","16G","/swapfile","# 改變檔案的權限","sudo","chmod","600","/swapfile","# 標記檔案爲SWAP","sudo","mkswap","/swapfile","# 啟用","sudo","swapon","/swapfile","# 檢查一下調整後的大小","swapon","# SIZE變成16GB就對囉","NAME","TYPE","SIZE","USED","PRIO","/dev/zram0","partition","16G","0B","100","參考文獻","How To Add Swap Space on Ubuntu 22.04","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2023/what_we_know_rainbow_parent","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"同志家庭中的兒少福祉——學術研究怎麼說？","description":"本文翻譯自康乃爾大學的《What we know》計劃中（現已轉移至社會不平等研究中心），針對同志家庭所扶養兒少福祉的學術研究回顧專文：《What does the scholarly research say about the well-being of children with gay or lesbian parents? 》","img":"924/d7KQrW.jpg","tags":["社會議題","LGBT","翻譯"],"category":"life","readingTime":{"text":"16 min read","minutes":15.755,"time":945300,"words":3151},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本文翻譯自康乃爾大學的"},{"type":"element","tag":"a","props":{"href":"https://whatweknow.inequality.cornell.edu/","rel":["nofollow"]},"children":[{"type":"text","value":"《What we know》"}]},{"type":"text","value":"計劃中（現已轉移至"},{"type":"element","tag":"a","props":{"href":"http://inequality.cornell.edu/","rel":["nofollow"]},"children":[{"type":"text","value":"社會不平等研究中心"}]},{"type":"text","value":"），針對同志家庭所扶養兒少福祉的學術研究回顧專文："},{"type":"element","tag":"a","props":{"href":"https://whatweknow.inequality.cornell.edu/topics/lgbt-equality/what-does-the-scholarly-research-say-about-the-wellbeing-of-children-with-gay-or-lesbian-parents/","rel":["nofollow"]},"children":[{"type":"text","value":"《What does the scholarly research say about the well-being of children with gay or lesbian parents? 》"}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本文翻譯自康乃爾大學的"},{"type":"element","tag":"a","props":{"href":"https://whatweknow.inequality.cornell.edu/","rel":["nofollow"]},"children":[{"type":"text","value":"《What we know》"}]},{"type":"text","value":"計劃中（現已轉移至"},{"type":"element","tag":"a","props":{"href":"http://inequality.cornell.edu/","rel":["nofollow"]},"children":[{"type":"text","value":"社會不平等研究中心"}]},{"type":"text","value":"），針對同志家庭所扶養兒少福祉的學術研究回顧專文："},{"type":"element","tag":"a","props":{"href":"https://whatweknow.inequality.cornell.edu/topics/lgbt-equality/what-does-the-scholarly-research-say-about-the-wellbeing-of-children-with-gay-or-lesbian-parents/","rel":["nofollow"]},"children":[{"type":"text","value":"《What does the scholarly research say about the well-being of children with gay or lesbian parents? 》"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下，正文開始。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"摘要"},"children":[{"type":"text","value":"摘要"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在針對「同志家庭的兒少福祉」的主題中，我們找到了 79 個符合《What we know》計劃中"},{"type":"element","tag":"a","props":{"href":"https://whatweknow.inequality.cornell.edu/about/selection-methodology/","rel":["nofollow"]},"children":[{"type":"text","value":"挑選標準"}]},{"type":"text","value":"且通過同儕審查的學術研究。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"b","props":{},"children":[{"type":"text","value":"其中有 75 個研究指出，同志家庭的小孩福祉並不會比其他小孩來得更差。"}]},{"type":"text","value":"雖然大部分研究的樣本數較小、部份研究缺乏控制組，研究者們仍認為這些研究已能提供在兒童領養的議題上目前可得且最佳的證據，並不一定要有大量且具代表性的樣本。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"另外 4 個研究則指出同志家庭的小孩，比起一般小孩會面臨額外的風險。這些研究所採用的小孩樣本，皆經歷了家庭破裂（已被證實為兒童身心健康的危險因子），因此已被許多學者批判，認為其研究結果並無法真正評估同志家庭小孩的福祉議題。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"綜上所述，"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"基於過去三十年間所做且通過同儕審查的眾多研究，壓倒性的學術共識已然形成：同志雙親不會危害到小孩。"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"關於同志家庭會增加小孩風險的研究"},"children":[{"type":"text","value":"關於「同志家庭會增加小孩風險」的研究"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這四個仿若「局外人」的研究，都有一個共同的缺陷：只有少數小孩樣本是真正被同志雙親養大。多數的小孩曾被異性雙親養育，但後來其異性雙親中有人出櫃，離開了家庭或是帶著小孩進入了另一段同性關係中。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"因為這些小孩大部分是由異性雙親養大，經歷家庭變故之後才與一個以上的同志雙親生活一小段時間"}]},{"type":"text","value":"，只有極少數是真的從小就長期由同志雙親養育長大。如此一來，其結果就變成是在研究「因為關係破裂或崩解而經歷額外壓力的家庭」，但這些研究卻把其樣本標籤為「由同志雙親養大的小孩」，這是非常不精確且具有誤導性的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"面對這些質疑，這些研究的作者則如此辯駁道：儘管有這樣的問題存在，但他們終究在結構上是同志家庭，因此將這些樣本做為「同志家庭對小孩影響」的預測指標，仍是有意義的。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"關於同志家庭中的小孩與一般家庭無異的研究"},"children":[{"type":"text","value":"關於「同志家庭中的小孩與一般家庭無異」的研究"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有些人會批判 LGB 親職研究使用了小型、非隨機的樣本抽樣方法——便利抽樣法（在相關領域是很常見的抽樣方式），然而在此研究領域中，便利抽樣並不會被視為是方法學缺陷，只是在可推論性上有所限制而已。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在社會學、特別是心理學的範疇裡，小型但高品質的長期研究比起隨機研究有著某些優點：研究者能夠更細緻、更徹底地觀察並分析兒童的發展過程，這是使用大型樣本的統計報告容易遺漏的部分。而重要的是，在作出「同志家庭的小孩與一般小孩無異」結論的研究中，也有研究者使用了大型且具代表性的樣本。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"2010 年由史丹佛大學教授 Rosenfeld 所做的研究，使用了政府戶口調查樣本去分析 3,500 位有同志雙親的小孩其在校的學業成績，發現在控制了家庭背景之後，異性雙親與同志雙親家庭中的小孩並沒有顯著差異。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而另一個基於國家級的長期且具代表性的樣本，總數超過了 20,000，其中有 158 位與同志雙親共同生活；同樣在控制了家庭崩解的狀況之後，這些小孩在學業上的表現與同儕並無差異。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"引用文獻"},"children":[{"type":"text","value":"引用文獻"}]},{"type":"element","tag":"h3","props":{"id":"認為同志家庭的小孩與一般小孩無異的研究共-75-篇"},"children":[{"type":"text","value":"認為同志家庭的小孩與一般小孩無異的研究（共 75 篇）"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Adams, J., & Light, R. (2015). Scientific consensus, the law, and same sex parenting outcomes. Social Science Research, 53, 300–310."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Allen, M., & Burrell, N. (1996). Comparing the impact of homosexual and heterosexual parents on children: metaanalysis of existing research. Journal of Homosexuality, 32(2), 19–35."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Anderssen, N., Amlie, C., & Ytteroy, E. A. (2002). Outcomes for children with lesbian or gay parents. A review of studies from 1978 to 2000. Scandinavian Journal of Psychology, 43(4), 335–351."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Baiocco, R., Santamaria, F., Ioverno, S., Fontanesi, L., Baumgartner, E., Laghi, F., Lingiardi V. (2015). Lesbian mother families and gay father families in Italy: family functioning, dyadic satisfaction, and child well-being. Sexuality Research and Social Policy, 12(3), 202–212."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bailey, J., Bobrow, D., Wolfe, M., & Mikach, S. (1995). Sexual orientation of adult sons of gay fathers. Developmental Psychology, 31(1), 124–129."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Biblarz, T. J., & Stacey, J. (2010). How does the gender of parents matter? Jrnl of Marriage and Family, 72(1), 3–22."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bos, H. M. W. (2010). Planned gay father families in kinship arrangements. The Australian and New Zealand Journal of Family Therapy, 31(4), 356–371."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bos, H. M. W., Knox, J. R., van Rijn-van Gelderen, L., Gartrell, N. K. (2016). Same-Sex and Different-Sex Parent Households and Child Health Outcomes: Findings from the National Survey of Children’s Health. Journal of Developmental & Behavioral Pediatrics, 37(3), 179–187."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bos, H. M. W., & Sandfort, T. G. M. (2010). Children’s gender identity in lesbian and heterosexual two-parent families. Sex Roles, 62(1–2), 114–126."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bos, H. M. W., van Balen F., & van den Boom, D. C. (2005). Lesbian families and family functioning: an overview. Patient Education and Counseling, 59(3), 263–275."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bos, H. M. W., van Balen, F., & van den Boom, D. C. (2007). Child adjustment and parenting in planned lesbianparent families. American Journal of Orthopsychiatry, 77(1), 38–48."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bos, H., Gartrell, N., & van Gelderen, L. (2013). Adolescents in lesbian families: DSM-oriented scale scores and stigmatization. Journal of Gay & Lesbian Social Services, 25(2), 121–140."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bos, H., van Gelderen, L., & Gartrell, N. (2014). Lesbian and heterosexual two-parent families: adolescent-parent relationship quality and adolescent well-being. Journal of Child and Family Studies, 23(2), 1–16."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bos, H. M. W., Gartrell, N. K., Peyser, H., & van Balen, F. (2008). The USA national longitudinal lesbian family study (NLLFS): homophobia, psychological adjustment, and protective factors. Journal of Lesbian Studies, 12(4), 455–471."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bos, H. M. W., Goldberg, N. K, van Gelderen, L., & Gartrell, N. (2012). Adolescents of the U.S. National longitudinal lesbian family study: male role models, gender role traits and psychological adjustment. Gend. & Soc., 26(4), 603–638."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Brewaeys, A., Ponjaert, I., van Hall, E. V., & Golombok, S. (1997). Donor insemination: child development and family functioning in lesbian mother families. Human Reproduction, 12(6), 1349–1359."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Brewaeys, A., & van Hall, E. V. (1997). Lesbian motherhood: the impact on child development and family functioning. Journal of Psychosomatic Obstetrics & Gynecology, 18(1), 1–16."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Chan, R. W., Raboy, B., & Patterson, C. J. (1998). Psychosocial adjustment among children conceived via donor insemination by lesbian and heterosexual mothers. Child Development, 69(2), 443–457."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Crouch, S. R., Waters, E., McNair, R., Power, J., & Davis, E. (2014). Parent-reported measures of child health and wellbeing in same-sex parent families: a cross-sectional survey. BMC Public Health, 14 (635), 1–12."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Crowl, A. L., Ahn, S., & Baker, J. (2008). A meta-analysis of developmental outcomes for children of same-sex and heterosexual parents. Journal of GLBT Family Studies, 4(3), 385–407."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Erich, S., Leung, P., & Kindle, P. (2005). A comparative analysis of adoptive family functioning with gay, lesbian, and heterosexual parents and their children. Journal of GLBT Family Studies, 1 (4), 43–60."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Erich, S., Kanenberg, H., Case, K., Allen, T., & Bogdanos, T. (2009). An empirical analysis of factors affecting adolescent attachment in adoptive families with homosexual and straight parents. Children and Youth Services Review, 31(3), 398–404."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Falk, P. J. (1989). Lesbian mothers: Psychosocial assumptions in family law. American Psychologist, 44(6), 941–947."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Farr, R. H., Forssell, S. L., & Patterson, C. J. (2010). Parenting and child development in adoptive families: does parental sexual orientation matter? Applied Developmental Science, 14(3), 164–178."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Farr, R. H., & Patterson, C. J. (2013). Coparenting among lesbian, gay, and heterosexual couples: associations with adopted children’s outcomes. Child Development, 84(4), 1226–1240."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Farr, R. H. (2017). Does parental sexual orientation matter? A longitudinal follow-up of adoptive families with schoolage children. Developmental Psychology, 53(2), 252–264."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fedewa, A. L., & Clark, T. P. (2009). Parent practices and home-school partnerships: a differential effect for children with same-sex coupled parents? Journal of GLBT Family Studies, 5(4), 312–339."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Flaks, D. K., Ficher, I., Masterpasqua, F., & Joseph, G. (1995) Lesbians choosing motherhood: a comparative study of lesbian and heterosexual parents and their children. Developmental Psychology, 31(1), 105–114."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fulcher, M., Chan, R. W., Raboy, B., & Patterson, C. J. (2002). Contact with grandparents among children conceived via donor insemination by lesbian and heterosexual mothers. Parenting, 2(1), 61–76."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fulcher, M., Sutfin, E. L., & Patterson, C. J. (2008) Individual differences in gender development: associations with parental sexual orientation, attitudes, and division of labor. Sex Roles, 58(5/6), 330–341."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Gartrell, N. K., Bos, H. M. W., & Goldberg, N. G. (2011). Adolescents of the U.S. National longitudinal lesbian family study: sexual orientation, sexual behavior, and sexual risk exposure. Archives of Sexual Behavior, 40(6), 1199–1209."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Gartrell, N. K., & Bos, H. M. W. (2010). Us national longitudinal lesbian family study: psychological adjustment of 17-year-old adolescents.Pediatrics, 126(1), 28–36."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Gartrell, N. K., Bos, H. M. W., Peyser, H., Deck, A., & Rodas, C. (2012). Adolescents with lesbian mothers describe their own lives. Journal of Homosexuality, 59(9), 1211–1229."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Gartrell, N. K., Deck, A., Rodas, C., Peyser, H., & Banks, A. (2005). The national lesbian family study: 4. Interviews with the 10-year-old children. American Journal of Orthopsychiatry, 75(4), 518–524."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Goldberg, A. E. (2007). (How) does it make a difference? Perspectives of adults with lesbian, gay, and bisexual parents. American Journal of Orthopsychiatry, 77(4), 550–562."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Goldberg, A., & Smith, J. (2013). Predictors of psychological adjustment in early placed adopted children with lesbian, gay, and heterosexual parents. Journal of Family Psychology, 27(3), 431–42."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Goldberg, N. G., Bos, H. M. W., & Gartrell, N. K. (2011). Substance use by adolescents of the USA National Longitudinal Lesbian Family Study. Journal of Health Psychology, 16(8), 1231–1240."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Golombok, S., Perry, B., Burston, A., Murray, C., Mooney-Somers, J., Stevens, M., Golding, J. (2003). Children with lesbian parents: A community study. Developmental Psychology, 39(1), 20–33."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Golombok, S., Spencer, A., & Rutter, M. (1983). Children in lesbian and single-parent households: psychosexual and psychiatric appraisal. Journal of Child Psychology and Psychiatry, 24(4), 551–572."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Golombok, S. & Tasker, F. (1996) Do parents influence the sexual orientation of their children? Findings from a longitudinal study of lesbian families. Developmental Psychology, 32 (1), 3–11."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Golombok, S., Tasker, F., & Murray, C. (1997). Children raised in fatherless families from infancy: family relationships and the socioemotional development of children of lesbian and single heterosexual mothers. Journal of Child Psychology and Psychiatry, 38(7), 783–791."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Gottman, J. S. (1989). Children of gay and lesbian parents. Marriage & Family Review, 14(3–4), 177–196."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Green, R., Mandel, J. B., Hotvedt, M. E., Gray, J., & Smith, L. (1986). Lesbian mothers and their children: a comparison with solo parent heterosexual mothers and their children. Archives of Sexual Behavior, 15(2), 167–184."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Harris, M., & Turner, P. (1986). Gay and lesbian parents. Journal of Homosexuality, 12(2), 101–13."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Hoeffer, B. (1981). Children’s acquisition of sex-role behavior in lesbian-mother families. American Journal of Orthopsychiatry, 51 (3), 536–544."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Huggins, S. (1989). A comparative study of self-esteem of adolescent children of divorced lesbian mothers and divorced heterosexual mothers. Journal of Homosexuality, 18(1–2), 123–135."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Kirkpatrick, M., Smith, C., & Roy, R. (1981). Lesbian mothers and their children: a comparative survey. American Journal of Orthopsychiatry, 51(3), 545–551."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lamb, M. E. (2012). Mothers, fathers, families, and circumstances: factors affecting children’s adjustment. Applied Developmental Science, 16(2), 98–111."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lavner, J. A., Waterman, J., & Peplau, L. A. (2012). Can gay and lesbian parents promote healthy development in high-risk children adopted from foster care? American Journal of Orthopsychiatry, 82(4), 465–472."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Leddy, A., Gartrell, N., & Bos, H. (2012). Growing up in a lesbian family: the life experiences of the adult daughters and sons of lesbian mothers. Journal of GLBT Family Studies, 8(3), 243–257."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lewis, K. G. (1980). Children of lesbians: Their point of view. Social Work, 25(3), 198–203."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lick, D. J., Patterson, C. J., & Schmidt, K. M. (2013). Recalled social experiences and current psychological adjustment among adults reared by gay and lesbian parents. Journal of GLBT Family Studies, 9(3), 230–253."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"MacCallum, F., & Golombok, S. (2004). Children raised in fatherless families from infancy: a follow-up of children of lesbian and single heterosexual mothers at early adolescence. Journal of Child Psychology and Psychiatry, 45(8), 1407- 1419."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Miller, J. A., Jacobsen, R. B., & Bigner, J. J. (1981). The child’s home environment for lesbian vs. heterosexual mothers: a neglected area of research. Journal of Homosexuality, 7(1), 49–56."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Patterson, C. J. (1995). Families of the lesbian baby boom: parents’ division of labor and children’s adjustment. Developmental Psychology, 31(1), 115–123."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Patterson, C. J. (2001). Families of the Lesbian baby boom: Maternal mental health and child adjustment. Journal of Gay & Lesbian Mental Health, 4(3), 91–107."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Patterson, C. J., Hurt, S., & Mason, C. D. (1998). Families of the lesbian baby boom: Children’s contact with grandparents and other adults.American Journal of Orthopsychiatry, 68(3), 390–399."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Pawelski, J. G. et al (2006). The effects of marriage, civil union, and domestic partnerships laws on the health and wellbeing of children.Pediatrics, 118(1), 349 -364."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Perrin, E. C. (2002). Technical report: coparent or second-parent adoption by same-sex parents. Pediatrics, 109(2), 341–344."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Perry, B., Burston, A., Stevens, M., Golding, J., Steele, H., & Golombok, S. (2004). Children’s play narratives: what they tell us about lesbian-mother families. American Journal of Orthopsychiatry, 74(4), 467–479."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Potter, D. (2012).Same-sex parent families and children’s academic achievement. Journal of Marriage and Family, 74(3), 556–571."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Rosenfeld, M. J. (2010).Nontraditional families and childhood progress through school. Demography, 47(3), 755–775."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ryan, S. (2007). Parent-child interaction styles between gay and lesbian parents and their adopted children. Journal of GLBT Family Studies, 3(2), 105–132."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Shechner, T., Slone, M., Lobel, T., & Schecter, R. (2013). Children’s adjustment in non-traditional families in Israel: the effect of parental sexual orientation and the number of parents on children’s development. Child: Care, Health, & Development, 39(2), 178–184."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Stacey, J., & Biblarz, T. J. (2001). (How) does the sexual orientation of parents matter? American Sociological Review, 66(2), 159–183."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Tasker, F. (2005). Lesbian mothers, gay fathers, and their children: a review. Journal of Developmental & Behavioral Pediatrics, 26(3), 224–40."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Tasker, F., & Golombok, S. (1995). Adults raised as children in lesbian families. American Journal of Orthopsychiatry, 65(2), 203–215."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"van Gelderen, L., Bos, H. M. W., Gartrell, N., & Hermanns, J., Perrin, E. C. (2012). Quality of life of adolescents raised from birth by lesbian mothers: the us national longitudinal family study. Journal of Developmental & Behavioral Pediatrics, 33(1), 17–23."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"van Gelderen, L., Gartrell, N. N., Bos, H. M. W., & Hermanns, J. M. A. (2013). Stigmatization and promotive factors in relation to psychological health and life satisfaction of adolescents in planned lesbian families. Journal of Family Issues, 34(6), 809–827."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"van Rijn-van Gelderen, L., Bos, H. M. W., & Gartrell, N. (2015) Dutch adolescents from lesbian-parent families: how do they compare to peers with heterosexual parents and what is the impact of homophobic stigmatization? Journal of Adolescence, 40, 65–73."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Vanfraussen, K., Ponjaert-Kristoffersen, I., & Brewaeys, A. (2002). What does it mean for youngsters to grow up in a lesbian family created by means of donor insemination? Journal of Reproductive and Infant Psychology, 20(4), 237- 252."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Vanfraussen, K., Ponjaert-Kristoffersen, I., & Brewaeys, A. (2003). Family functioning in lesbian families created by donor insemination. American Journal of Orthopsychiatry, 73(1), 78–90."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Wainright, J. L., & Patterson, C. J. (2006).Delinquency, victimization, and substance use among adolescents with female same-sex parents. Journal of Family Psychology, 20(3), 526–530."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Wainright, J. L., & Patterson, C. J. (2008). Peer relations among adolescents with female same-sex parents. Developmental Psychology, 44(1), 117–126."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Wainright, J. L., Russell, S. T., & Patterson, C. J. (2004). Psychosocial adjustment, school outcomes, and romantic relationships of adolescents with same-sex parents. Child Development, 75(6), 1886–1898."}]}]},{"type":"element","tag":"h3","props":{"id":"認為同志家庭的小孩會面臨額外風險的研究共-4-篇"},"children":[{"type":"text","value":"認為同志家庭的小孩會面臨額外風險的研究（共 4 篇）"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Allen, D. W. (2013). High school graduation rates among children of same-sex households. Review of Economics of the Household, 11(4), 635–658."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Regnerus, M. (2012). How different are the adult children of parents who have same-sex relationships? Findings from the New Family Structures Study. Social Science Research, 41(4), 752–770."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sarantakos, S. (1996). Children in three contexts: Family, education and social development. Children Australia, 21(3), 23–31."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Sullins, D. P. (2015). Emotional problems among children with same-sex parents: difference by definition. British Journal of Education, Society and Behavioural Science, (forthcoming)."}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"摘要","depth":2,"text":"摘要"},{"id":"關於同志家庭會增加小孩風險的研究","depth":2,"text":"關於「同志家庭會增加小孩風險」的研究"},{"id":"關於同志家庭中的小孩與一般家庭無異的研究","depth":2,"text":"關於「同志家庭中的小孩與一般家庭無異」的研究"},{"id":"引用文獻","depth":2,"text":"引用文獻","children":[{"id":"認為同志家庭的小孩與一般小孩無異的研究共-75-篇","depth":3,"text":"認為同志家庭的小孩與一般小孩無異的研究（共 75 篇）"},{"id":"認為同志家庭的小孩會面臨額外風險的研究共-4-篇","depth":3,"text":"認為同志家庭的小孩會面臨額外風險的研究（共 4 篇）"}]}]}},"_type":"markdown","_id":"content:articles:2023:what_we_know_rainbow_parent.md","_source":"content","_file":"articles/2023/what_we_know_rainbow_parent.md","_extension":"md","createdAt":"2023-10-17T09:54:19.000Z","updatedAt":"2023-12-11T03:54:57.000Z","slug":"what_we_know_rainbow_parent","plainTexts":["本文翻譯自康乃爾大學的","《What we know》","計劃中（現已轉移至","社會不平等研究中心","），針對同志家庭所扶養兒少福祉的學術研究回顧專文：","《What does the scholarly research say about the well-being of children with gay or lesbian parents? 》","以下，正文開始。","摘要","在針對「同志家庭的兒少福祉」的主題中，我們找到了 79 個符合《What we know》計劃中","挑選標準","且通過同儕審查的學術研究。","其中有 75 個研究指出，同志家庭的小孩福祉並不會比其他小孩來得更差。","雖然大部分研究的樣本數較小、部份研究缺乏控制組，研究者們仍認為這些研究已能提供在兒童領養的議題上目前可得且最佳的證據，並不一定要有大量且具代表性的樣本。","另外 4 個研究則指出同志家庭的小孩，比起一般小孩會面臨額外的風險。這些研究所採用的小孩樣本，皆經歷了家庭破裂（已被證實為兒童身心健康的危險因子），因此已被許多學者批判，認為其研究結果並無法真正評估同志家庭小孩的福祉議題。","綜上所述，","基於過去三十年間所做且通過同儕審查的眾多研究，壓倒性的學術共識已然形成：同志雙親不會危害到小孩。","關於「同志家庭會增加小孩風險」的研究","這四個仿若「局外人」的研究，都有一個共同的缺陷：只有少數小孩樣本是真正被同志雙親養大。多數的小孩曾被異性雙親養育，但後來其異性雙親中有人出櫃，離開了家庭或是帶著小孩進入了另一段同性關係中。","因為這些小孩大部分是由異性雙親養大，經歷家庭變故之後才與一個以上的同志雙親生活一小段時間","，只有極少數是真的從小就長期由同志雙親養育長大。如此一來，其結果就變成是在研究「因為關係破裂或崩解而經歷額外壓力的家庭」，但這些研究卻把其樣本標籤為「由同志雙親養大的小孩」，這是非常不精確且具有誤導性的。","面對這些質疑，這些研究的作者則如此辯駁道：儘管有這樣的問題存在，但他們終究在結構上是同志家庭，因此將這些樣本做為「同志家庭對小孩影響」的預測指標，仍是有意義的。","關於「同志家庭中的小孩與一般家庭無異」的研究","有些人會批判 LGB 親職研究使用了小型、非隨機的樣本抽樣方法——便利抽樣法（在相關領域是很常見的抽樣方式），然而在此研究領域中，便利抽樣並不會被視為是方法學缺陷，只是在可推論性上有所限制而已。","在社會學、特別是心理學的範疇裡，小型但高品質的長期研究比起隨機研究有著某些優點：研究者能夠更細緻、更徹底地觀察並分析兒童的發展過程，這是使用大型樣本的統計報告容易遺漏的部分。而重要的是，在作出「同志家庭的小孩與一般小孩無異」結論的研究中，也有研究者使用了大型且具代表性的樣本。","2010 年由史丹佛大學教授 Rosenfeld 所做的研究，使用了政府戶口調查樣本去分析 3,500 位有同志雙親的小孩其在校的學業成績，發現在控制了家庭背景之後，異性雙親與同志雙親家庭中的小孩並沒有顯著差異。","而另一個基於國家級的長期且具代表性的樣本，總數超過了 20,000，其中有 158 位與同志雙親共同生活；同樣在控制了家庭崩解的狀況之後，這些小孩在學業上的表現與同儕並無差異。","引用文獻","認為同志家庭的小孩與一般小孩無異的研究（共 75 篇）","Adams, J., & Light, R. (2015). Scientific consensus, the law, and same sex parenting outcomes. Social Science Research, 53, 300–310.","Allen, M., & Burrell, N. (1996). Comparing the impact of homosexual and heterosexual parents on children: metaanalysis of existing research. Journal of Homosexuality, 32(2), 19–35.","Anderssen, N., Amlie, C., & Ytteroy, E. A. (2002). Outcomes for children with lesbian or gay parents. A review of studies from 1978 to 2000. Scandinavian Journal of Psychology, 43(4), 335–351.","Baiocco, R., Santamaria, F., Ioverno, S., Fontanesi, L., Baumgartner, E., Laghi, F., Lingiardi V. (2015). Lesbian mother families and gay father families in Italy: family functioning, dyadic satisfaction, and child well-being. Sexuality Research and Social Policy, 12(3), 202–212.","Bailey, J., Bobrow, D., Wolfe, M., & Mikach, S. (1995). Sexual orientation of adult sons of gay fathers. Developmental Psychology, 31(1), 124–129.","Biblarz, T. J., & Stacey, J. (2010). How does the gender of parents matter? Jrnl of Marriage and Family, 72(1), 3–22.","Bos, H. M. W. (2010). Planned gay father families in kinship arrangements. The Australian and New Zealand Journal of Family Therapy, 31(4), 356–371.","Bos, H. M. W., Knox, J. R., van Rijn-van Gelderen, L., Gartrell, N. K. (2016). Same-Sex and Different-Sex Parent Households and Child Health Outcomes: Findings from the National Survey of Children’s Health. Journal of Developmental & Behavioral Pediatrics, 37(3), 179–187.","Bos, H. M. W., & Sandfort, T. G. M. (2010). Children’s gender identity in lesbian and heterosexual two-parent families. Sex Roles, 62(1–2), 114–126.","Bos, H. M. W., van Balen F., & van den Boom, D. C. (2005). Lesbian families and family functioning: an overview. Patient Education and Counseling, 59(3), 263–275.","Bos, H. M. W., van Balen, F., & van den Boom, D. C. (2007). Child adjustment and parenting in planned lesbianparent families. American Journal of Orthopsychiatry, 77(1), 38–48.","Bos, H., Gartrell, N., & van Gelderen, L. (2013). Adolescents in lesbian families: DSM-oriented scale scores and stigmatization. Journal of Gay & Lesbian Social Services, 25(2), 121–140.","Bos, H., van Gelderen, L., & Gartrell, N. (2014). Lesbian and heterosexual two-parent families: adolescent-parent relationship quality and adolescent well-being. Journal of Child and Family Studies, 23(2), 1–16.","Bos, H. M. W., Gartrell, N. K., Peyser, H., & van Balen, F. (2008). The USA national longitudinal lesbian family study (NLLFS): homophobia, psychological adjustment, and protective factors. Journal of Lesbian Studies, 12(4), 455–471.","Bos, H. M. W., Goldberg, N. K, van Gelderen, L., & Gartrell, N. (2012). Adolescents of the U.S. National longitudinal lesbian family study: male role models, gender role traits and psychological adjustment. Gend. & Soc., 26(4), 603–638.","Brewaeys, A., Ponjaert, I., van Hall, E. V., & Golombok, S. (1997). Donor insemination: child development and family functioning in lesbian mother families. Human Reproduction, 12(6), 1349–1359.","Brewaeys, A., & van Hall, E. V. (1997). Lesbian motherhood: the impact on child development and family functioning. Journal of Psychosomatic Obstetrics & Gynecology, 18(1), 1–16.","Chan, R. W., Raboy, B., & Patterson, C. J. (1998). Psychosocial adjustment among children conceived via donor insemination by lesbian and heterosexual mothers. Child Development, 69(2), 443–457.","Crouch, S. R., Waters, E., McNair, R., Power, J., & Davis, E. (2014). Parent-reported measures of child health and wellbeing in same-sex parent families: a cross-sectional survey. BMC Public Health, 14 (635), 1–12.","Crowl, A. L., Ahn, S., & Baker, J. (2008). A meta-analysis of developmental outcomes for children of same-sex and heterosexual parents. Journal of GLBT Family Studies, 4(3), 385–407.","Erich, S., Leung, P., & Kindle, P. (2005). A comparative analysis of adoptive family functioning with gay, lesbian, and heterosexual parents and their children. Journal of GLBT Family Studies, 1 (4), 43–60.","Erich, S., Kanenberg, H., Case, K., Allen, T., & Bogdanos, T. (2009). An empirical analysis of factors affecting adolescent attachment in adoptive families with homosexual and straight parents. Children and Youth Services Review, 31(3), 398–404.","Falk, P. J. (1989). Lesbian mothers: Psychosocial assumptions in family law. American Psychologist, 44(6), 941–947.","Farr, R. H., Forssell, S. L., & Patterson, C. J. (2010). Parenting and child development in adoptive families: does parental sexual orientation matter? Applied Developmental Science, 14(3), 164–178.","Farr, R. H., & Patterson, C. J. (2013). Coparenting among lesbian, gay, and heterosexual couples: associations with adopted children’s outcomes. Child Development, 84(4), 1226–1240.","Farr, R. H. (2017). Does parental sexual orientation matter? A longitudinal follow-up of adoptive families with schoolage children. Developmental Psychology, 53(2), 252–264.","Fedewa, A. L., & Clark, T. P. (2009). Parent practices and home-school partnerships: a differential effect for children with same-sex coupled parents? Journal of GLBT Family Studies, 5(4), 312–339.","Flaks, D. K., Ficher, I., Masterpasqua, F., & Joseph, G. (1995) Lesbians choosing motherhood: a comparative study of lesbian and heterosexual parents and their children. Developmental Psychology, 31(1), 105–114.","Fulcher, M., Chan, R. W., Raboy, B., & Patterson, C. J. (2002). Contact with grandparents among children conceived via donor insemination by lesbian and heterosexual mothers. Parenting, 2(1), 61–76.","Fulcher, M., Sutfin, E. L., & Patterson, C. J. (2008) Individual differences in gender development: associations with parental sexual orientation, attitudes, and division of labor. Sex Roles, 58(5/6), 330–341.","Gartrell, N. K., Bos, H. M. W., & Goldberg, N. G. (2011). Adolescents of the U.S. National longitudinal lesbian family study: sexual orientation, sexual behavior, and sexual risk exposure. Archives of Sexual Behavior, 40(6), 1199–1209.","Gartrell, N. K., & Bos, H. M. W. (2010). Us national longitudinal lesbian family study: psychological adjustment of 17-year-old adolescents.Pediatrics, 126(1), 28–36.","Gartrell, N. K., Bos, H. M. W., Peyser, H., Deck, A., & Rodas, C. (2012). Adolescents with lesbian mothers describe their own lives. Journal of Homosexuality, 59(9), 1211–1229.","Gartrell, N. K., Deck, A., Rodas, C., Peyser, H., & Banks, A. (2005). The national lesbian family study: 4. Interviews with the 10-year-old children. American Journal of Orthopsychiatry, 75(4), 518–524.","Goldberg, A. E. (2007). (How) does it make a difference? Perspectives of adults with lesbian, gay, and bisexual parents. American Journal of Orthopsychiatry, 77(4), 550–562.","Goldberg, A., & Smith, J. (2013). Predictors of psychological adjustment in early placed adopted children with lesbian, gay, and heterosexual parents. Journal of Family Psychology, 27(3), 431–42.","Goldberg, N. G., Bos, H. M. W., & Gartrell, N. K. (2011). Substance use by adolescents of the USA National Longitudinal Lesbian Family Study. Journal of Health Psychology, 16(8), 1231–1240.","Golombok, S., Perry, B., Burston, A., Murray, C., Mooney-Somers, J., Stevens, M., Golding, J. (2003). Children with lesbian parents: A community study. Developmental Psychology, 39(1), 20–33.","Golombok, S., Spencer, A., & Rutter, M. (1983). Children in lesbian and single-parent households: psychosexual and psychiatric appraisal. Journal of Child Psychology and Psychiatry, 24(4), 551–572.","Golombok, S. & Tasker, F. (1996) Do parents influence the sexual orientation of their children? Findings from a longitudinal study of lesbian families. Developmental Psychology, 32 (1), 3–11.","Golombok, S., Tasker, F., & Murray, C. (1997). Children raised in fatherless families from infancy: family relationships and the socioemotional development of children of lesbian and single heterosexual mothers. Journal of Child Psychology and Psychiatry, 38(7), 783–791.","Gottman, J. S. (1989). Children of gay and lesbian parents. Marriage & Family Review, 14(3–4), 177–196.","Green, R., Mandel, J. B., Hotvedt, M. E., Gray, J., & Smith, L. (1986). Lesbian mothers and their children: a comparison with solo parent heterosexual mothers and their children. Archives of Sexual Behavior, 15(2), 167–184.","Harris, M., & Turner, P. (1986). Gay and lesbian parents. Journal of Homosexuality, 12(2), 101–13.","Hoeffer, B. (1981). Children’s acquisition of sex-role behavior in lesbian-mother families. American Journal of Orthopsychiatry, 51 (3), 536–544.","Huggins, S. (1989). A comparative study of self-esteem of adolescent children of divorced lesbian mothers and divorced heterosexual mothers. Journal of Homosexuality, 18(1–2), 123–135.","Kirkpatrick, M., Smith, C., & Roy, R. (1981). Lesbian mothers and their children: a comparative survey. American Journal of Orthopsychiatry, 51(3), 545–551.","Lamb, M. E. (2012). Mothers, fathers, families, and circumstances: factors affecting children’s adjustment. Applied Developmental Science, 16(2), 98–111.","Lavner, J. A., Waterman, J., & Peplau, L. A. (2012). Can gay and lesbian parents promote healthy development in high-risk children adopted from foster care? American Journal of Orthopsychiatry, 82(4), 465–472.","Leddy, A., Gartrell, N., & Bos, H. (2012). Growing up in a lesbian family: the life experiences of the adult daughters and sons of lesbian mothers. Journal of GLBT Family Studies, 8(3), 243–257.","Lewis, K. G. (1980). Children of lesbians: Their point of view. Social Work, 25(3), 198–203.","Lick, D. J., Patterson, C. J., & Schmidt, K. M. (2013). Recalled social experiences and current psychological adjustment among adults reared by gay and lesbian parents. Journal of GLBT Family Studies, 9(3), 230–253.","MacCallum, F., & Golombok, S. (2004). Children raised in fatherless families from infancy: a follow-up of children of lesbian and single heterosexual mothers at early adolescence. Journal of Child Psychology and Psychiatry, 45(8), 1407- 1419.","Miller, J. A., Jacobsen, R. B., & Bigner, J. J. (1981). The child’s home environment for lesbian vs. heterosexual mothers: a neglected area of research. Journal of Homosexuality, 7(1), 49–56.","Patterson, C. J. (1995). Families of the lesbian baby boom: parents’ division of labor and children’s adjustment. Developmental Psychology, 31(1), 115–123.","Patterson, C. J. (2001). Families of the Lesbian baby boom: Maternal mental health and child adjustment. Journal of Gay & Lesbian Mental Health, 4(3), 91–107.","Patterson, C. J., Hurt, S., & Mason, C. D. (1998). Families of the lesbian baby boom: Children’s contact with grandparents and other adults.American Journal of Orthopsychiatry, 68(3), 390–399.","Pawelski, J. G. et al (2006). The effects of marriage, civil union, and domestic partnerships laws on the health and wellbeing of children.Pediatrics, 118(1), 349 -364.","Perrin, E. C. (2002). Technical report: coparent or second-parent adoption by same-sex parents. Pediatrics, 109(2), 341–344.","Perry, B., Burston, A., Stevens, M., Golding, J., Steele, H., & Golombok, S. (2004). Children’s play narratives: what they tell us about lesbian-mother families. American Journal of Orthopsychiatry, 74(4), 467–479.","Potter, D. (2012).Same-sex parent families and children’s academic achievement. Journal of Marriage and Family, 74(3), 556–571.","Rosenfeld, M. J. (2010).Nontraditional families and childhood progress through school. Demography, 47(3), 755–775.","Ryan, S. (2007). Parent-child interaction styles between gay and lesbian parents and their adopted children. Journal of GLBT Family Studies, 3(2), 105–132.","Shechner, T., Slone, M., Lobel, T., & Schecter, R. (2013). Children’s adjustment in non-traditional families in Israel: the effect of parental sexual orientation and the number of parents on children’s development. Child: Care, Health, & Development, 39(2), 178–184.","Stacey, J., & Biblarz, T. J. (2001). (How) does the sexual orientation of parents matter? American Sociological Review, 66(2), 159–183.","Tasker, F. (2005). Lesbian mothers, gay fathers, and their children: a review. Journal of Developmental & Behavioral Pediatrics, 26(3), 224–40.","Tasker, F., & Golombok, S. (1995). Adults raised as children in lesbian families. American Journal of Orthopsychiatry, 65(2), 203–215.","van Gelderen, L., Bos, H. M. W., Gartrell, N., & Hermanns, J., Perrin, E. C. (2012). Quality of life of adolescents raised from birth by lesbian mothers: the us national longitudinal family study. Journal of Developmental & Behavioral Pediatrics, 33(1), 17–23.","van Gelderen, L., Gartrell, N. N., Bos, H. M. W., & Hermanns, J. M. A. (2013). Stigmatization and promotive factors in relation to psychological health and life satisfaction of adolescents in planned lesbian families. Journal of Family Issues, 34(6), 809–827.","van Rijn-van Gelderen, L., Bos, H. M. W., & Gartrell, N. (2015) Dutch adolescents from lesbian-parent families: how do they compare to peers with heterosexual parents and what is the impact of homophobic stigmatization? Journal of Adolescence, 40, 65–73.","Vanfraussen, K., Ponjaert-Kristoffersen, I., & Brewaeys, A. (2002). What does it mean for youngsters to grow up in a lesbian family created by means of donor insemination? Journal of Reproductive and Infant Psychology, 20(4), 237- 252.","Vanfraussen, K., Ponjaert-Kristoffersen, I., & Brewaeys, A. (2003). Family functioning in lesbian families created by donor insemination. American Journal of Orthopsychiatry, 73(1), 78–90.","Wainright, J. L., & Patterson, C. J. (2006).Delinquency, victimization, and substance use among adolescents with female same-sex parents. Journal of Family Psychology, 20(3), 526–530.","Wainright, J. L., & Patterson, C. J. (2008). Peer relations among adolescents with female same-sex parents. Developmental Psychology, 44(1), 117–126.","Wainright, J. L., Russell, S. T., & Patterson, C. J. (2004). Psychosocial adjustment, school outcomes, and romantic relationships of adolescents with same-sex parents. Child Development, 75(6), 1886–1898.","認為同志家庭的小孩會面臨額外風險的研究（共 4 篇）","Allen, D. W. (2013). High school graduation rates among children of same-sex households. Review of Economics of the Household, 11(4), 635–658.","Regnerus, M. (2012). How different are the adult children of parents who have same-sex relationships? Findings from the New Family Structures Study. Social Science Research, 41(4), 752–770.","Sarantakos, S. (1996). Children in three contexts: Family, education and social development. Children Australia, 21(3), 23–31.","Sullins, D. P. (2015). Emotional problems among children with same-sex parents: difference by definition. British Journal of Education, Society and Behavioural Science, (forthcoming)."]},{"_path":"/articles/2023/what_we_know_rainbow_therapy","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"性傾向轉換療法的有效性——學術研究怎麼說？","description":"本文翻譯自康乃爾大學的《What we know》計劃中（現已轉移至社會不平等研究中心），針對性傾向轉換療法的學術研究回顧專文：《What does the scholarly research say about whether conversion therapy can alter sexual orientation without causing harm?》","img":"923/IUrogW.jpg","tags":["社會議題","LGBT","翻譯"],"category":"life","readingTime":{"text":"11 min read","minutes":10.83,"time":649800,"words":2166},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本文翻譯自康乃爾大學的"},{"type":"element","tag":"a","props":{"href":"https://whatweknow.inequality.cornell.edu/","rel":["nofollow"]},"children":[{"type":"text","value":"《What we know》"}]},{"type":"text","value":"計劃中（現已轉移至"},{"type":"element","tag":"a","props":{"href":"http://inequality.cornell.edu/","rel":["nofollow"]},"children":[{"type":"text","value":"社會不平等研究中心"}]},{"type":"text","value":"），針對性傾向轉換療法的學術研究回顧專文："},{"type":"element","tag":"a","props":{"href":"https://whatweknow.inequality.cornell.edu/topics/lgbt-equality/what-does-the-scholarly-research-say-about-whether-conversion-therapy-can-alter-sexual-orientation-without-causing-harm/","rel":["nofollow"]},"children":[{"type":"text","value":"《What does the scholarly research say about whether conversion therapy can alter sexual orientation without causing harm?》"}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本文翻譯自康乃爾大學的"},{"type":"element","tag":"a","props":{"href":"https://whatweknow.inequality.cornell.edu/","rel":["nofollow"]},"children":[{"type":"text","value":"《What we know》"}]},{"type":"text","value":"計劃中（現已轉移至"},{"type":"element","tag":"a","props":{"href":"http://inequality.cornell.edu/","rel":["nofollow"]},"children":[{"type":"text","value":"社會不平等研究中心"}]},{"type":"text","value":"），針對性傾向轉換療法的學術研究回顧專文："},{"type":"element","tag":"a","props":{"href":"https://whatweknow.inequality.cornell.edu/topics/lgbt-equality/what-does-the-scholarly-research-say-about-whether-conversion-therapy-can-alter-sexual-orientation-without-causing-harm/","rel":["nofollow"]},"children":[{"type":"text","value":"《What does the scholarly research say about whether conversion therapy can alter sexual orientation without causing harm?》"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下，正文開始。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在針對「性傾向轉換療法是否能在無害的前提下產生效果」的主題中，我們找到了 47 個符合《What we know》計劃中"},{"type":"element","tag":"a","props":{"href":"https://whatweknow.inequality.cornell.edu/about/selection-methodology/","rel":["nofollow"]},"children":[{"type":"text","value":"挑選標準"}]},{"type":"text","value":"且通過同儕審查的學術研究。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"其中有 13 個是第一手研究（ primary research）。而在這 13 個第一手研究中，"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"有 12 個作出了轉換療法無效／有害的結論，並發現轉換療法與抑鬱、自殺意念、焦慮、自我孤立以及親密能力的降低有關。只有 1 個研究作出了轉換療法可能成功的結論"}]},{"type":"text","value":"——雖然只佔其研究樣本中的極少數，並且這份研究有著方法學上的限制：這份研究的樣本皆使用自承報告且自承有虔誠的宗教信仰，這可能導致了偏頗與不可信的研究結果。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"剩下的 34 個研究並未做出「轉換療法有效」的實證結論，但或許對於臨床工作者如何面對 LGB 族群個案的議題上，可以提供有用的觀點。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在轉換療法的研究中，普遍有著無法客觀評斷性傾向的限制。所有我們選擇的 47 個研究中，皆依賴自承報告。而那些非常渴望改變性傾向以至於尋求「治療」的人，可能會在回報他們自身性吸引的時候有所偏頗。大部分的研究皆缺乏控制組，並且沒有使用全國性的隨機樣本。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有許多贊同轉換療法的研究者，並非真正評估了性傾向的轉變或是生理反應，而是以樣本的行為作為改變的指標——而這並不符合性傾向真實的定義標準。許多宣稱自己性傾向從同性戀轉換回異性戀的樣本，其實能被更精準地以「雙性戀」描述，但沒有被如此紀錄下來。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而有許多研究僅只收取了有宗教背景的樣本，因此這些研究的結論比起「性傾向真正被改變」，更多的是反映了樣本的宗教認同。有些研究者成功抑制了受試者對於同性的性興奮反應——這通常使用了某些技巧，但這些被抑制的興奮反應，並無法轉換與增加到對於異性的性興奮反應，也無法增加受試者與異性維持穩定且彼此滿足關係的能力。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然有著這些限制，但不代表針對轉換療法的研究無法提供任何資訊。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在我們選擇的研究中，部分針對臨床工作者較有興趣的研究報告有著某些倫理議題上的討論，例如如何處遇對自己性傾向不滿意的個案。除此之外，直接檢視這些研究報告，也能幫助觀看這篇文章的人去判斷「性傾向可被改變」的論點有多少說服力。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然而，在回顧了這些研究之後，我們認為並沒有關鍵性的證據可證明性傾向能透過醫療處遇來轉變。許多這些所謂的「轉變」，比較像是「信仰療法」。同時也有許多有力的證據指出，試圖改變一個人的性傾向是非常危險且有害的。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"綜上所述，許多心理學家與精神醫師在研究過轉換療法，或是研究如何治療對於自己性傾向有所掙扎的個案後，皆產生了壓倒性的共識：醫療處遇並無法改變一個人的性傾向。這個共識也受到相關領域中許多專業組織的聲援，例如"},{"type":"element","tag":"a","props":{"href":"https://www.apa.org/pi/lgbt/resources/therapeutic-response.pdf","rel":["nofollow"]},"children":[{"type":"text","value":"美國心理學會（APA）"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"引用文獻"},"children":[{"type":"text","value":"引用文獻"}]},{"type":"element","tag":"h3","props":{"id":"認為轉換療法無效有害的學術研究共-12-篇"},"children":[{"type":"text","value":"認為轉換療法無效／有害的學術研究（共 12 篇）"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Beckstead, A. L., & Morrow, S. L. (2004). Mormon clients’ experiences of conversion therapy: The need for a new treatment approach. The Counseling Psychologist, 32(5), 651–690."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Borowich, A. (2008). Failed reparative therapy of orthodox Jewish homosexuals.Journal of Gay & Lesbian Mental Health, 12(3), 167–177."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Dehlin, J. P., Galliher, R. V., Bradshaw, W. S., Hyde, D. C., & Crowell, K. A. (2014). Sexual orientation change efforts among current or former LDS church members. Journal of Counseling Psychology. Advance online publication."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fjelstrom, J. (2013). Sexual orientation change efforts and the search for authenticity. Journal of Homosexuality, 60(6), 801–827."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Flentje, A., Heck, N. C., & Cochran, B. N. (2013). Sexual reorientation therapy interventions: perspectives of ex-ex-gay individuals. Journal of Gay & Lesbian Mental Health, 17(3), 256–277."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Haldeman, D. C. (2001). Therapeutic antidotes: Helping gay and bisexual men recover from conversion therapy. Journal of Gay and Lesbian Psychotherapy, 5(3/4), 117–130."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Jones, M., Botsko, M., & Gorman, B. (2003). Predictors of psychotherapeutic benefit of lesbian, gay, and bisexual clients: the effects of sexual orientation matching and other factors. Psychotherapy: Theory, Research, Practice, Training, 40(4), 289–301."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Maccio, E. (2011). Self-reported sexual orientation and identity before and after sexual reorientation therapy. Journal of Gay & Lesbian Mental Health, 15(3), 242–259."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Schroeder, M., & Shidlo, A. (2002). Ethical issues in sexual orientation conversion therapies: An empirical study of consumers. Journal of Gay and Lesbian Psychotherapy, 5(3/4), 131–166."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Shidlo, A., & Schroeder, M. (2002). Changing sexual orientation: A consumer’s report. Professional Psychology: Research and Practice, 33(3), 249–259."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Smith, G., Bartlett, A. & King, M. (2004). Treatments of homosexuality in Britain since 1950 — an oral history: The experience of patients. British Medical Journal, 328(7437), 427–429."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Weiss, E. M., Morehouse, J., Yeager, T., & Berry, T. (2010). A qualitative study of ex-gay and ex-ex-gay experiences. Journal of Gay & Lesbian Mental Health, 14(4), 291-319."}]}]},{"type":"element","tag":"h3","props":{"id":"認為轉換療法有效的研究共-1-篇"},"children":[{"type":"text","value":"認為轉換療法有效的研究（共 1 篇）"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Nicolosi, J., Byrd, A. D., & Potts, R. W. (2000). Retrospective self-reports of changes in homosexual orientation: A consumer survey of conversion therapy clients. Psychological Reports, 86, 1071–1088."}]}]},{"type":"element","tag":"h3","props":{"id":"並未作出結論但對於面對-lgb-個案的臨床工作者可能有用的研究共-34-篇"},"children":[{"type":"text","value":"並未作出結論但對於面對 LGB 個案的臨床工作者可能有用的研究（共 34 篇）"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Beckstead, A. L. (2012). Can we change sexual orientation? Archives of Sexual Behavior, 41(1), 121–134."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Bright, C. (2004). Deconstructing reparative therapy: an examination of the processes involved when attempting to change sexual orientation. Clinical Social Work Journal, 32(4), 471–481."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Cates, J. A. (2007). Identity in crisis: Spirituality and homosexuality in adolescence. Child and Adolescent Social Work Journal, 24(4), 369–383."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Cramer, R. J., Golom, F. D., LoPresto, C. T., & Kirkley, S. M. (2008). Weighing the evidence: Empirical assessment and ethical implications of conversion therapy. Ethics and Behavior, 18(1), 93–114."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Creek, S. J., & Dunn, J. L. (2012). “Be ye transformed”: the sexual storytelling of ex-gay participants. Sociological Focus, 45(4), 306–319."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Drescher, J. (1998). I’m your handyman: A history of reparative therapies. Journal of Homosexuality, 36(1), 19–42."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Drescher, J. (2002). Ethical concerns raised when patients seek to change same-sex attractions. Journal of Gay & Lesbian Psychotherapy, 5(3/4), 181–204."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Drescher, J. (2015). Can sexual orientation be changed? Journal of Gay & Lesbian Mental Health, 19(1), 84–93."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ford, J. G. (2002). Healing homosexuals: a psychologist’s journey through the ex-gay movement and the pseudo-science of reparative therapy. Journal of Gay & Lesbian Psychotherapy, 5(3/4), 69–86."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Forstein, M. (2002). Overview of ethical and research issues in sexual orientation therapy. Journal of Gay & Lesbian Psychotherapy, 5(3/4), 167–179."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Gonsiorek, J. C. (2004). Reflections from the conversion therapy battlefield. The Counseling Psychologist, 32, 750–759."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Haldeman, D. C. (1994). The practice and ethics of sexual orientation conversion therapy. Journal of Consulting and Clinical Psychology, 62(2), 221–227."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Haldeman, D. C. (2002). Gay rights, patient rights: The implications of sexual orientation conversion therapy. Professional Psychology: Research and Practice, 33(3), 260–264."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Haldeman, D. C. (2004). When sexual and religious orientation collide: Considerations in working with conflicted same-sex attracted male clients. The Counseling Psychologist, 32(5), 691–715."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Halpert, S. C. (2000). “If it ain’t broke, don’t fix it”: Ethical considerations regarding conversion therapies. International Journal of Sexuality and Gender Studies, 5(1), 19–35."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Hein, L. C., & Matthews, A. K. (2010). Reparative therapy: the adolescent, the psych nurse, and the issues. Journal of Child and Adolescent Psychiatric Nursing, 23(1), 29–35."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lasser, J. S., & Gottlieb, M. C. (2004). Treating patients distressed regarding their sexual orientation: Clinical and ethical alternatives. Professional Psychology: Research and Practice, 35(2), 194–200."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lingiardi, V., Nardelli, N., & Drescher, J. (2015). New Italian lesbian, gay and bisexual psychotherapy guidelines: A review. International Review of Psychiatry, 27(5), 405–415."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Lingiardi, V., Nardelli, N., & Tripodi, E. (2015). Reparative attitudes of Italian psychologists toward lesbian and gay clients: Theoretical, clinical, and social implications. Professional Psychology: Research and Practice, 46(2), 132–139."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Maccio, E. (2010). Influence of family, religion, and social conformity on client participation in sexual reorientation therapy. Journal of Homosexuality, 57(3), 441–458."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Morrow, S. L., & Beckstead, A. L. (2004). Conversion therapies for same-sex attracted clients in religious conflict: Context, predisposing factors, experiences, and implications for therapy. The Counseling Psychologist, 32, 641–650."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Moss, I. (2014). Ending reparative therapy in minors: an appropriate legislative response. Family Court Review, 52(2), 316–329."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Murphy, T. F. (1992). Redirecting sexual orientation: Techniques and justifications.Journal of Sex Research, 29(4), 501–523."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ponticelli, C. M. (1999). Crafting stories of sexual identity reconstruction. Social Psychology Quarterly, 62(2), 157–172."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Rosik, C. H. (2003). Motivational, ethical, and epistemological foundations in the treatment of unwanted homoerotic attractions. Journal of Marital and Family Therapy, 29(1), 13–28."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Schneider, M. S., Brown, L., & Glassgold, J. (2002). Implementing the resolution on appropriate therapeutic responses to sexual orientation: A guide for the perplexed. Professional Psychology: Research and Practice, 33, 265- 276."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Schreier, B. A. (1998). Of shoes, and ships, and sealing wax: the faulty and specious assumptions of sexual reorientation therapies. Journal of Mental Health Counseling, 20(4), 305–314."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Steigerwald, F., & Janson, G. R. (2003). Conversion therapy: Ethical considerations in family counseling. The Family Journal: Counseling and Therapy for Couples and Families, 11(1), 55– 59."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Throckmorton, W. (1998). Efforts to modify sexual orientation: A review of outcome literature and ethical issues. Journal of Mental Health Counseling, 20, 283–304."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Throckmorton, W. (2002). Initial empirical and clinical findings concerning the change process for ex-gays. Professional Psychology: Research and Practice, 33, 242- 248."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Tozer, E. E., & Hayes, J. A. (2004). Why do individuals seek conversion therapy? The role of religiosity, internalized homonegativity, and identity development. The Counseling Psychologist, 32, 716–740."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Tozer, E. E., & McClanahan, M. K. (1999). Treating the purple menace: ethical considerations of conversion therapy and affirmative alternatives. The Counseling Psychologist, 27(5), 722–742."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Yarhouse, M. A. (1998). When families present with concerns about an adolescent’s experience of same-sex attraction. The American Journal of Family Therapy, 26(4), 321–330."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Yarhouse, M. A., & Throckmorton, W. (2002). Ethical issues in attempts to ban reorientation therapies. Psychotherapy: Theory, Research, Practice, Training, 39(1), 66–75."}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"引用文獻","depth":2,"text":"引用文獻","children":[{"id":"認為轉換療法無效有害的學術研究共-12-篇","depth":3,"text":"認為轉換療法無效／有害的學術研究（共 12 篇）"},{"id":"認為轉換療法有效的研究共-1-篇","depth":3,"text":"認為轉換療法有效的研究（共 1 篇）"},{"id":"並未作出結論但對於面對-lgb-個案的臨床工作者可能有用的研究共-34-篇","depth":3,"text":"並未作出結論但對於面對 LGB 個案的臨床工作者可能有用的研究（共 34 篇）"}]}]}},"_type":"markdown","_id":"content:articles:2023:what_we_know_rainbow_therapy.md","_source":"content","_file":"articles/2023/what_we_know_rainbow_therapy.md","_extension":"md","createdAt":"2023-10-17T09:54:19.000Z","updatedAt":"2023-12-11T03:54:57.000Z","slug":"what_we_know_rainbow_therapy","plainTexts":["本文翻譯自康乃爾大學的","《What we know》","計劃中（現已轉移至","社會不平等研究中心","），針對性傾向轉換療法的學術研究回顧專文：","《What does the scholarly research say about whether conversion therapy can alter sexual orientation without causing harm?》","以下，正文開始。","在針對「性傾向轉換療法是否能在無害的前提下產生效果」的主題中，我們找到了 47 個符合《What we know》計劃中","挑選標準","且通過同儕審查的學術研究。","其中有 13 個是第一手研究（ primary research）。而在這 13 個第一手研究中，","有 12 個作出了轉換療法無效／有害的結論，並發現轉換療法與抑鬱、自殺意念、焦慮、自我孤立以及親密能力的降低有關。只有 1 個研究作出了轉換療法可能成功的結論","——雖然只佔其研究樣本中的極少數，並且這份研究有著方法學上的限制：這份研究的樣本皆使用自承報告且自承有虔誠的宗教信仰，這可能導致了偏頗與不可信的研究結果。","剩下的 34 個研究並未做出「轉換療法有效」的實證結論，但或許對於臨床工作者如何面對 LGB 族群個案的議題上，可以提供有用的觀點。","在轉換療法的研究中，普遍有著無法客觀評斷性傾向的限制。所有我們選擇的 47 個研究中，皆依賴自承報告。而那些非常渴望改變性傾向以至於尋求「治療」的人，可能會在回報他們自身性吸引的時候有所偏頗。大部分的研究皆缺乏控制組，並且沒有使用全國性的隨機樣本。","有許多贊同轉換療法的研究者，並非真正評估了性傾向的轉變或是生理反應，而是以樣本的行為作為改變的指標——而這並不符合性傾向真實的定義標準。許多宣稱自己性傾向從同性戀轉換回異性戀的樣本，其實能被更精準地以「雙性戀」描述，但沒有被如此紀錄下來。","而有許多研究僅只收取了有宗教背景的樣本，因此這些研究的結論比起「性傾向真正被改變」，更多的是反映了樣本的宗教認同。有些研究者成功抑制了受試者對於同性的性興奮反應——這通常使用了某些技巧，但這些被抑制的興奮反應，並無法轉換與增加到對於異性的性興奮反應，也無法增加受試者與異性維持穩定且彼此滿足關係的能力。","雖然有著這些限制，但不代表針對轉換療法的研究無法提供任何資訊。","在我們選擇的研究中，部分針對臨床工作者較有興趣的研究報告有著某些倫理議題上的討論，例如如何處遇對自己性傾向不滿意的個案。除此之外，直接檢視這些研究報告，也能幫助觀看這篇文章的人去判斷「性傾向可被改變」的論點有多少說服力。","然而，在回顧了這些研究之後，我們認為並沒有關鍵性的證據可證明性傾向能透過醫療處遇來轉變。許多這些所謂的「轉變」，比較像是「信仰療法」。同時也有許多有力的證據指出，試圖改變一個人的性傾向是非常危險且有害的。","綜上所述，許多心理學家與精神醫師在研究過轉換療法，或是研究如何治療對於自己性傾向有所掙扎的個案後，皆產生了壓倒性的共識：醫療處遇並無法改變一個人的性傾向。這個共識也受到相關領域中許多專業組織的聲援，例如","美國心理學會（APA）","。","引用文獻","認為轉換療法無效／有害的學術研究（共 12 篇）","Beckstead, A. L., & Morrow, S. L. (2004). Mormon clients’ experiences of conversion therapy: The need for a new treatment approach. The Counseling Psychologist, 32(5), 651–690.","Borowich, A. (2008). Failed reparative therapy of orthodox Jewish homosexuals.Journal of Gay & Lesbian Mental Health, 12(3), 167–177.","Dehlin, J. P., Galliher, R. V., Bradshaw, W. S., Hyde, D. C., & Crowell, K. A. (2014). Sexual orientation change efforts among current or former LDS church members. Journal of Counseling Psychology. Advance online publication.","Fjelstrom, J. (2013). Sexual orientation change efforts and the search for authenticity. Journal of Homosexuality, 60(6), 801–827.","Flentje, A., Heck, N. C., & Cochran, B. N. (2013). Sexual reorientation therapy interventions: perspectives of ex-ex-gay individuals. Journal of Gay & Lesbian Mental Health, 17(3), 256–277.","Haldeman, D. C. (2001). Therapeutic antidotes: Helping gay and bisexual men recover from conversion therapy. Journal of Gay and Lesbian Psychotherapy, 5(3/4), 117–130.","Jones, M., Botsko, M., & Gorman, B. (2003). Predictors of psychotherapeutic benefit of lesbian, gay, and bisexual clients: the effects of sexual orientation matching and other factors. Psychotherapy: Theory, Research, Practice, Training, 40(4), 289–301.","Maccio, E. (2011). Self-reported sexual orientation and identity before and after sexual reorientation therapy. Journal of Gay & Lesbian Mental Health, 15(3), 242–259.","Schroeder, M., & Shidlo, A. (2002). Ethical issues in sexual orientation conversion therapies: An empirical study of consumers. Journal of Gay and Lesbian Psychotherapy, 5(3/4), 131–166.","Shidlo, A., & Schroeder, M. (2002). Changing sexual orientation: A consumer’s report. Professional Psychology: Research and Practice, 33(3), 249–259.","Smith, G., Bartlett, A. & King, M. (2004). Treatments of homosexuality in Britain since 1950 — an oral history: The experience of patients. British Medical Journal, 328(7437), 427–429.","Weiss, E. M., Morehouse, J., Yeager, T., & Berry, T. (2010). A qualitative study of ex-gay and ex-ex-gay experiences. Journal of Gay & Lesbian Mental Health, 14(4), 291-319.","認為轉換療法有效的研究（共 1 篇）","Nicolosi, J., Byrd, A. D., & Potts, R. W. (2000). Retrospective self-reports of changes in homosexual orientation: A consumer survey of conversion therapy clients. Psychological Reports, 86, 1071–1088.","並未作出結論但對於面對 LGB 個案的臨床工作者可能有用的研究（共 34 篇）","Beckstead, A. L. (2012). Can we change sexual orientation? Archives of Sexual Behavior, 41(1), 121–134.","Bright, C. (2004). Deconstructing reparative therapy: an examination of the processes involved when attempting to change sexual orientation. Clinical Social Work Journal, 32(4), 471–481.","Cates, J. A. (2007). Identity in crisis: Spirituality and homosexuality in adolescence. Child and Adolescent Social Work Journal, 24(4), 369–383.","Cramer, R. J., Golom, F. D., LoPresto, C. T., & Kirkley, S. M. (2008). Weighing the evidence: Empirical assessment and ethical implications of conversion therapy. Ethics and Behavior, 18(1), 93–114.","Creek, S. J., & Dunn, J. L. (2012). “Be ye transformed”: the sexual storytelling of ex-gay participants. Sociological Focus, 45(4), 306–319.","Drescher, J. (1998). I’m your handyman: A history of reparative therapies. Journal of Homosexuality, 36(1), 19–42.","Drescher, J. (2002). Ethical concerns raised when patients seek to change same-sex attractions. Journal of Gay & Lesbian Psychotherapy, 5(3/4), 181–204.","Drescher, J. (2015). Can sexual orientation be changed? Journal of Gay & Lesbian Mental Health, 19(1), 84–93.","Ford, J. G. (2002). Healing homosexuals: a psychologist’s journey through the ex-gay movement and the pseudo-science of reparative therapy. Journal of Gay & Lesbian Psychotherapy, 5(3/4), 69–86.","Forstein, M. (2002). Overview of ethical and research issues in sexual orientation therapy. Journal of Gay & Lesbian Psychotherapy, 5(3/4), 167–179.","Gonsiorek, J. C. (2004). Reflections from the conversion therapy battlefield. The Counseling Psychologist, 32, 750–759.","Haldeman, D. C. (1994). The practice and ethics of sexual orientation conversion therapy. Journal of Consulting and Clinical Psychology, 62(2), 221–227.","Haldeman, D. C. (2002). Gay rights, patient rights: The implications of sexual orientation conversion therapy. Professional Psychology: Research and Practice, 33(3), 260–264.","Haldeman, D. C. (2004). When sexual and religious orientation collide: Considerations in working with conflicted same-sex attracted male clients. The Counseling Psychologist, 32(5), 691–715.","Halpert, S. C. (2000). “If it ain’t broke, don’t fix it”: Ethical considerations regarding conversion therapies. International Journal of Sexuality and Gender Studies, 5(1), 19–35.","Hein, L. C., & Matthews, A. K. (2010). Reparative therapy: the adolescent, the psych nurse, and the issues. Journal of Child and Adolescent Psychiatric Nursing, 23(1), 29–35.","Lasser, J. S., & Gottlieb, M. C. (2004). Treating patients distressed regarding their sexual orientation: Clinical and ethical alternatives. Professional Psychology: Research and Practice, 35(2), 194–200.","Lingiardi, V., Nardelli, N., & Drescher, J. (2015). New Italian lesbian, gay and bisexual psychotherapy guidelines: A review. International Review of Psychiatry, 27(5), 405–415.","Lingiardi, V., Nardelli, N., & Tripodi, E. (2015). Reparative attitudes of Italian psychologists toward lesbian and gay clients: Theoretical, clinical, and social implications. Professional Psychology: Research and Practice, 46(2), 132–139.","Maccio, E. (2010). Influence of family, religion, and social conformity on client participation in sexual reorientation therapy. Journal of Homosexuality, 57(3), 441–458.","Morrow, S. L., & Beckstead, A. L. (2004). Conversion therapies for same-sex attracted clients in religious conflict: Context, predisposing factors, experiences, and implications for therapy. The Counseling Psychologist, 32, 641–650.","Moss, I. (2014). Ending reparative therapy in minors: an appropriate legislative response. Family Court Review, 52(2), 316–329.","Murphy, T. F. (1992). Redirecting sexual orientation: Techniques and justifications.Journal of Sex Research, 29(4), 501–523.","Ponticelli, C. M. (1999). Crafting stories of sexual identity reconstruction. Social Psychology Quarterly, 62(2), 157–172.","Rosik, C. H. (2003). Motivational, ethical, and epistemological foundations in the treatment of unwanted homoerotic attractions. Journal of Marital and Family Therapy, 29(1), 13–28.","Schneider, M. S., Brown, L., & Glassgold, J. (2002). Implementing the resolution on appropriate therapeutic responses to sexual orientation: A guide for the perplexed. Professional Psychology: Research and Practice, 33, 265- 276.","Schreier, B. A. (1998). Of shoes, and ships, and sealing wax: the faulty and specious assumptions of sexual reorientation therapies. Journal of Mental Health Counseling, 20(4), 305–314.","Steigerwald, F., & Janson, G. R. (2003). Conversion therapy: Ethical considerations in family counseling. The Family Journal: Counseling and Therapy for Couples and Families, 11(1), 55– 59.","Throckmorton, W. (1998). Efforts to modify sexual orientation: A review of outcome literature and ethical issues. Journal of Mental Health Counseling, 20, 283–304.","Throckmorton, W. (2002). Initial empirical and clinical findings concerning the change process for ex-gays. Professional Psychology: Research and Practice, 33, 242- 248.","Tozer, E. E., & Hayes, J. A. (2004). Why do individuals seek conversion therapy? The role of religiosity, internalized homonegativity, and identity development. The Counseling Psychologist, 32, 716–740.","Tozer, E. E., & McClanahan, M. K. (1999). Treating the purple menace: ethical considerations of conversion therapy and affirmative alternatives. The Counseling Psychologist, 27(5), 722–742.","Yarhouse, M. A. (1998). When families present with concerns about an adolescent’s experience of same-sex attraction. The American Journal of Family Therapy, 26(4), 321–330.","Yarhouse, M. A., & Throckmorton, W. (2002). Ethical issues in attempts to ban reorientation therapies. Psychotherapy: Theory, Research, Practice, Training, 39(1), 66–75."]},{"_path":"/articles/2023/woeusb","_dir":"2023","_draft":false,"_partial":false,"_locale":"","title":"使用WoeUSB在Fedora中製作Windows安裝USB","description":"雖然脫離 Windows 很久，但有時候還是會需要幫朋友重灌電腦什麼的，所以就研究了一下如何在 Fedora 裡面製作 Windows 的安裝媒體。後來在網路上找到WoeUSB這個套件。","img":"923/OleVsx.jpg","tags":["fedora","windows","usb","安裝","重灌"],"category":"linux","readingTime":{"text":"4 min read","minutes":3.54,"time":212400,"words":708},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然脫離 Windows 很久，但有時候還是會需要幫朋友重灌電腦什麼的，所以就研究了一下如何在 Fedora 裡面製作 Windows 的安裝媒體。後來在網路上找到"},{"type":"element","tag":"a","props":{"href":"https://github.com/WoeUSB/WoeUSB","rel":["nofollow"]},"children":[{"type":"text","value":"WoeUSB"}]},{"type":"text","value":"這個套件。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然脫離 Windows 很久，但有時候還是會需要幫朋友重灌電腦什麼的，所以就研究了一下如何在 Fedora 裡面製作 Windows 的安裝媒體。後來在網路上找到"},{"type":"element","tag":"a","props":{"href":"https://github.com/WoeUSB/WoeUSB","rel":["nofollow"]},"children":[{"type":"text","value":"WoeUSB"}]},{"type":"text","value":"這個套件。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本篇會紀錄使用 WoeUSB 在 Fedora 中製作 Windows 安裝 USB 的過程。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"前置作業"},"children":[{"type":"text","value":"前置作業"}]},{"type":"element","tag":"h3","props":{"id":"下載-windows-iso-檔案"},"children":[{"type":"text","value":"下載 Windows ISO 檔案"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先當然事先準備 Windows 的 ISO 檔案，從 Windows 10 之後，已經可以直接從"},{"type":"element","tag":"a","props":{"href":"https://www.microsoft.com/zh-tw/software-download/windows11","rel":["nofollow"]},"children":[{"type":"text","value":"微軟官網"}]},{"type":"text","value":"下載了，記得要從最下方的「下載 Windows 11 磁碟映像 (ISO)」下載。"}]},{"type":"element","tag":"h3","props":{"id":"準備-usb"},"children":[{"type":"text","value":"準備 USB"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"準備一個 8GB 以上的 USB，就隨便拿一個吧，建議拿 USB 3.0 以上的。"}]},{"type":"element","tag":"h3","props":{"id":"安裝-woeusb-套件"},"children":[{"type":"text","value":"安裝 WoeUSB 套件"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo dnf install WoeUSB\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" dnf"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" WoeUSB\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"使用-woeusb"},"children":[{"type":"text","value":"使用 WoeUSB"}]},{"type":"element","tag":"h3","props":{"id":"確認-usb-掛載路徑"},"children":[{"type":"text","value":"確認 USB 掛載路徑"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先要找出 USB 的掛載路徑，可以透過 Gnome 內建的「磁碟」軟體去看，如果顯示出來的是有數字的，把數字去掉後記起來。像我的 USB 顯示是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/dev/sda1"}]},{"type":"text","value":"，就要記"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/dev/sda"}]},{"type":"text","value":"。使用 WoeUSB 指令時會用到。"}]},{"type":"element","tag":"article-img","props":{"img":"924/APs9I0.png"},"children":[]},{"type":"element","tag":"h3","props":{"id":"卸載-usb"},"children":[{"type":"text","value":"卸載 USB"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大部分的 USB 連接到 Fedora 之後，分割區都會被自動掛載。需要手動把這些被掛載的分割區全部卸下，同樣可使用 Gnome 內建的「磁碟」軟體去做。選擇分去然後選擇分區左下角的類似停止播放音樂的「停止」按鈕就可以了。"}]},{"type":"element","tag":"h3","props":{"id":"使用指令"},"children":[{"type":"text","value":"使用指令"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"都確認好後，就可以打開終端機了。WoeUSB 沒有 GUI 界面，只能使用指令。使用方式很多種，這邊僅介紹最直觀的把整個 USB 製作成 Windows 安裝碟的指令："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo woeusb --device Windows7_x64.iso /dev/sdX\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" woeusb"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --device"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" Windows7_x64.iso"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /dev/sdX\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"上面的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Windows7_x64.iso"}]},{"type":"text","value":"要置換成自己存放下載回來的 Windows 安裝檔（可以使用拖拉的方式從檔案拉進去終端機，終端機會直接讀取檔案的路徑。），"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/dev/sdX"}]},{"type":"text","value":"則要換成剛剛我們看到的 USB 裝置掛載的路徑。整個整理完大概會長這樣："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo woeusb --device '/home/{{someuser}}/下載/Win11_22H2_Chinese_Traditional_x64v1.iso' /dev/sda\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" woeusb"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --device"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" '/home/{{someuser}}/下載/Win11_22H2_Chinese_Traditional_x64v1.iso'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /dev/sda\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"執行並輸入管理者密碼後，若有錯誤就會自動停止，可能要看一下錯誤訊息來排解。若正確，會看類似這樣的訊息："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"Info: Mounting source filesystem...\nInfo: Wiping all existing partition table and filesystem signatures in /dev/sda...\n/dev/sda: 8 bytes were erased at offset 0x00000200 (gpt): 45 46 49 20 50 41 52 54\n/dev/sda: 8 bytes were erased at offset 0x39c7ffe00 (gpt): 45 46 49 20 50 41 52 54\n/dev/sda: 2 bytes were erased at offset 0x000001fe (PMBR): 55 aa\n/dev/sda: calling ioctl to re-read partition table: 成功\nInfo: Ensure that /dev/sda is really wiped...\nInfo: Creating new partition table on /dev/sda...\nInfo: Creating target partition...\nInfo: Making system realize that partition table has changed...\nblockdev: ioctl error on BLKRRPART: 裝置或系統資源忙碌中\nInfo: Wait 3 seconds for block device nodes to populate...\nmkfs.fat 4.2 (2021-01-31)\nmkfs.fat: Warning: lowercase labels might not work properly on some systems\nInfo: Mounting target filesystem...\nInfo: Copying files from source media...\nSplitting WIM: 2100 MiB of 4499 MiB (46%) written, part 1 of 250%\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"Info:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" Mounting"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" source"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" filesystem...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"Info:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" Wiping"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" all"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" existing"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" partition"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" table"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" and"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" filesystem"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" signatures"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" in"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /dev/sda...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"/dev/sda:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 8"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" bytes"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" were"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" erased"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" at"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" offset"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 0x00000200"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" (gpt): 45 46 49 20 50 41 52 54\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"/dev/sda:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 8"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" bytes"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" were"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" erased"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" at"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" offset"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 0x39c7ffe00"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" (gpt): 45 46 49 20 50 41 52 54\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"/dev/sda:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" bytes"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" were"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" erased"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" at"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" offset"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 0x000001fe"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" (PMBR): 55 aa\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"/dev/sda:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" calling"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ioctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" re-read"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" partition"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" table:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 成功\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"Info:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" Ensure"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" that"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /dev/sda"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" is"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" really"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" wiped...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"Info:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" Creating"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" partition"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" table"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" on"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /dev/sda...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"Info:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" Creating"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" target"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" partition...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"Info:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" Making"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" system"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" realize"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" that"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" partition"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" table"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" has"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" changed...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"blockdev:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ioctl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" error"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" on"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" BLKRRPART:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 裝置或系統資源忙碌中\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"Info:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" Wait"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 3"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" seconds"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" for"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" block"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" device"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" nodes"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" populate...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"mkfs.fat"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 4.2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" (2021-01-31)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"mkfs.fat:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" Warning:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" lowercase"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" labels"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" might"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" not"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" work"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" properly"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" on"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" some"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" systems\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"Info:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" Mounting"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" target"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" filesystem...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"Info:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" Copying"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" files"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" source"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" media...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"Splitting"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" WIM:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 2100"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" MiB"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" of"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 4499"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" MiB"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" (46%) written, part 1 of 250%\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下來就等它跑完囉！"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"前置作業","depth":2,"text":"前置作業","children":[{"id":"下載-windows-iso-檔案","depth":3,"text":"下載 Windows ISO 檔案"},{"id":"準備-usb","depth":3,"text":"準備 USB"},{"id":"安裝-woeusb-套件","depth":3,"text":"安裝 WoeUSB 套件"}]},{"id":"使用-woeusb","depth":2,"text":"使用 WoeUSB","children":[{"id":"確認-usb-掛載路徑","depth":3,"text":"確認 USB 掛載路徑"},{"id":"卸載-usb","depth":3,"text":"卸載 USB"},{"id":"使用指令","depth":3,"text":"使用指令"}]}]}},"_type":"markdown","_id":"content:articles:2023:woeusb.md","_source":"content","_file":"articles/2023/woeusb.md","_extension":"md","createdAt":"2023-02-20T12:33:39.000Z","updatedAt":"2023-12-11T10:19:13.000Z","slug":"woeusb","plainTexts":["雖然脫離 Windows 很久，但有時候還是會需要幫朋友重灌電腦什麼的，所以就研究了一下如何在 Fedora 裡面製作 Windows 的安裝媒體。後來在網路上找到","WoeUSB","這個套件。","本篇會紀錄使用 WoeUSB 在 Fedora 中製作 Windows 安裝 USB 的過程。","前置作業","下載 Windows ISO 檔案","首先當然事先準備 Windows 的 ISO 檔案，從 Windows 10 之後，已經可以直接從","微軟官網","下載了，記得要從最下方的「下載 Windows 11 磁碟映像 (ISO)」下載。","準備 USB","準備一個 8GB 以上的 USB，就隨便拿一個吧，建議拿 USB 3.0 以上的。","安裝 WoeUSB 套件","sudo","dnf","install","WoeUSB","使用 WoeUSB","確認 USB 掛載路徑","首先要找出 USB 的掛載路徑，可以透過 Gnome 內建的「磁碟」軟體去看，如果顯示出來的是有數字的，把數字去掉後記起來。像我的 USB 顯示是","/dev/sda1","，就要記","/dev/sda","。使用 WoeUSB 指令時會用到。","卸載 USB","大部分的 USB 連接到 Fedora 之後，分割區都會被自動掛載。需要手動把這些被掛載的分割區全部卸下，同樣可使用 Gnome 內建的「磁碟」軟體去做。選擇分去然後選擇分區左下角的類似停止播放音樂的「停止」按鈕就可以了。","使用指令","都確認好後，就可以打開終端機了。WoeUSB 沒有 GUI 界面，只能使用指令。使用方式很多種，這邊僅介紹最直觀的把整個 USB 製作成 Windows 安裝碟的指令：","sudo","woeusb","--device","Windows7_x64.iso","/dev/sdX","上面的","Windows7_x64.iso","要置換成自己存放下載回來的 Windows 安裝檔（可以使用拖拉的方式從檔案拉進去終端機，終端機會直接讀取檔案的路徑。），","/dev/sdX","則要換成剛剛我們看到的 USB 裝置掛載的路徑。整個整理完大概會長這樣：","sudo","woeusb","--device","'/home/{{someuser}}/下載/Win11_22H2_Chinese_Traditional_x64v1.iso'","/dev/sda","執行並輸入管理者密碼後，若有錯誤就會自動停止，可能要看一下錯誤訊息來排解。若正確，會看類似這樣的訊息：","Info:","Mounting","source","filesystem...","Info:","Wiping","all","existing","partition","table","and","filesystem","signatures","in","/dev/sda...","/dev/sda:","8","bytes","were","erased","at","offset","0x00000200","(gpt): 45 46 49 20 50 41 52 54","/dev/sda:","8","bytes","were","erased","at","offset","0x39c7ffe00","(gpt): 45 46 49 20 50 41 52 54","/dev/sda:","2","bytes","were","erased","at","offset","0x000001fe","(PMBR): 55 aa","/dev/sda:","calling","ioctl","to","re-read","partition","table:","成功","Info:","Ensure","that","/dev/sda","is","really","wiped...","Info:","Creating","new","partition","table","on","/dev/sda...","Info:","Creating","target","partition...","Info:","Making","system","realize","that","partition","table","has","changed...","blockdev:","ioctl","error","on","BLKRRPART:","裝置或系統資源忙碌中","Info:","Wait","3","seconds","for","block","device","nodes","to","populate...","mkfs.fat","4.2","(2021-01-31)","mkfs.fat:","Warning:","lowercase","labels","might","not","work","properly","on","some","systems","Info:","Mounting","target","filesystem...","Info:","Copying","files","from","source","media...","Splitting","WIM:","2100","MiB","of","4499","MiB","(46%) written, part 1 of 250%","接下來就等它跑完囉！","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2024/chrome_os_flex_asus_e203na","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"ChromeOS Flex 試用心得 @ ASUS E203NA","description":"接觸了 Linux 之後，一直都覺得舊電腦救星非 Fedora、Ubuntu 這種主流的 Linux 發布板莫屬，然而在 Google 釋出 ChromeOS Flex 之後，便覺得這個寶座或許已經換人坐了，尤其是在硬體更加有限的小筆電領域更是如此。","img":"922/EhAxVV.png","tags":["chromeos flex","chromeos","asus","asus e203na","舊筆電復活"],"category":"linux","readingTime":{"text":"10 min read","minutes":9.865,"time":591900,"words":1973},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接觸了 Linux 之後，一直都覺得舊電腦救星非 Fedora、Ubuntu 這種主流的 Linux 發布板莫屬，然而在 Google 釋出 ChromeOS Flex 之後，便覺得這個寶座或許已經換人坐了，尤其是在硬體更加有限的小筆電領域更是如此。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本篇紀錄了在從朋友那邊收購來的 ASUS E203NA 上安裝 ChromeOS Flex 並試用幾個月的過程，希望能幫助到正在使用同一台筆電準備丟掉、轉賣或是打算安裝 ChromeOS Flex 在自己的電腦上，對 ChromeOS Flex 實際使用心得有興趣的朋友。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接觸了 Linux 之後，一直都覺得舊電腦救星非 Fedora、Ubuntu 這種主流的 Linux 發布板莫屬，然而在 Google 釋出 ChromeOS Flex 之後，便覺得這個寶座或許已經換人坐了，尤其是在硬體更加有限的小筆電領域更是如此。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本篇紀錄了在從朋友那邊收購來的 ASUS E203NA 上安裝 ChromeOS Flex 並試用幾個月的過程，希望能幫助到正在使用同一台筆電準備丟掉、轉賣或是打算安裝 ChromeOS Flex 在自己的電腦上，對 ChromeOS Flex 實際使用心得有興趣的朋友。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"關於-chromeos-flex"},"children":[{"type":"text","value":"關於 ChromeOS Flex"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那先簡單介紹一下 ChromeOS Flex。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由 Google 所開發，基於 Linux 的作業系統 ChromsOS，原本只能透過購買 Chromebook 使用，後來 Google"},{"type":"element","tag":"a","props":{"href":"https://cloud.google.com/blog/products/chrome-enterprise/chromeos-flex-ready-to-scale-to-pcs-and-macs","rel":["nofollow"]},"children":[{"type":"text","value":"在 2022 年 7 月 15 日正式釋出了 ChromeOS Flex"}]},{"type":"text","value":"，讓大家可以下載這種作業系統自由安裝在自己的電腦上，為這個新舊汰換週期不斷加速的電腦世界微踩了一下永續的煞車。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於 ChromeOS Flex 和 ChromeOS 之間的差異，可參考 \n"},{"type":"element","tag":"a","props":{"href":"https://support.google.com/chromeosflex/answer/11542901?hl=zh-Hant","rel":["nofollow"]},"children":[{"type":"text","value":"Google 官方發布的文章"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在我實際使用過 ChromeOS Flex 之後，覺得它就是一個開箱即用、基於 Chrome 瀏覽器且無法輕易安裝其他軟體的 Linux 發布板，而這讓他變得異常輕巧。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"asus-e203na-的故事"},"children":[{"type":"text","value":"ASUS E203NA 的故事"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"手上這台 ASUS E203NA 是朋友買了之後覺得不堪用把他冷凍起來，而當時我剛好想買一台小筆電，所以就跟朋友低價購買回來。"}]},{"type":"element","tag":"h3","props":{"id":"fedora-workstation-意外跑不太起來"},"children":[{"type":"text","value":"Fedora Workstation 意外跑不太起來"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本以為灌了 Fedora Workstation 能讓他重獲新生，結果卻出乎意料地卡。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在這幾年的發展後，Fedora 所需的硬體資源已經沒有當初想像得這麼低（一部分當然是自己選擇使用 GNOME 的關係），當然我覺得絕對還是比肥大又充滿廣告軟體的 Windows 11 低很多，但 ASUS E203NA 的硬體太過低階（CPU N3350、32GB eMMC、4GB DDR3 RAM），讓 Fedora 跑起來也略顯吃力，播 Youtube 影片的時候若同時做其他事甚至會卡頓。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那時候就想說安裝 ChromeOS Flex 看看，也順便滿足一下好奇心。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"chromeos-flex-試用心得"},"children":[{"type":"text","value":"ChromeOS Flex 試用心得"}]},{"type":"element","tag":"article-img","props":{"img":"922/Sy9zYD.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 ASUS E203NA 上安裝完 ChromeOS Flex 後，帶著這台小筆電在外面咖啡廳用過不少次，預計 3 月出發的薄荷島之旅也都是用它在眾家咖啡廳規劃完成，整體而言覺得非常滿意，一部分除了 ChromeOS Flex 非常符合只使用瀏覽器處理絕大多數事務的情境，一部分也是 Google 大神的調校實在讓人驚豔。"}]},{"type":"element","tag":"h3","props":{"id":"開機超快"},"children":[{"type":"text","value":"開機超快"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"剛安裝完的第一印象，就是開．機．超．快！"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有多快呢？快到大概是 Windows 休眠然後再啟動的程度。要知道這台的儲存裝置可是 eMMC 啊！這種介於 HDD 與 SSD 之間的硬體竟然能有這種開機速度實在是讓人驚訝。"}]},{"type":"element","tag":"h3","props":{"id":"開箱即用"},"children":[{"type":"text","value":"開箱即用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為所有事情幾乎都要透過瀏覽器完成，所以安裝完後除了登入 Google 帳號外，幾乎也不需要多做什麼設定或安裝軟體就能直接開始使用。ChromeOS 的使用者界面安排與 Windows 類似，有類似「開始」的小視窗在左下角，右下角則是系統調整如音效、網路……等等，基本上沒什麼學習成本。"}]},{"type":"element","tag":"article-img","props":{"img":"923/543fpC.png"},"children":[]},{"type":"element","tag":"h3","props":{"id":"網路影片播放效能很好"},"children":[{"type":"text","value":"網路影片播放效能很好"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"剛拿到這台小筆電安裝 Fedora Workstation 的時候，不管是用 Firefox 還是 Chrome 看 1080p 網路影片，只要同時在做其他事，影片播放就會很卡，Firefox 甚至在把滑鼠移過去出現播放列的時候，就會微當機。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但 ChromeOS Flex 完全不會，即便在 Youtube 裡面比較複雜的網頁元素渲染好之前，影片仍然可以順暢播放，而且小小的多開一些網頁也幾乎不影響影片，非常驚人。"}]},{"type":"element","tag":"h3","props":{"id":"設定同步非常完整"},"children":[{"type":"text","value":"設定同步非常完整"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在使用期間因為有想嘗試其他 Linux 桌面，所以又灌成 Linux，但 ChromeOS Flex 的效能實在讓人回不去，所以又灌回來。結果在重灌完登入 Google 帳號之後，所有的設定就全部恢復，幾乎不需要任何額外的手動調整。不管是下方的工具列、已經釘選的非 Google 應用程式，都自動歸位。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然這一方面是得利於 "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/zh-TW/docs/Web/Progressive_web_apps","rel":["nofollow"]},"children":[{"type":"text","value":"PWA"}]},{"type":"text","value":" 的關係吧，畢竟網站本身就是應用程式完全不需要安裝，那麼幫忙紀錄是否有釘選的成本也不大。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"chromeos-flex-的潛在缺點"},"children":[{"type":"text","value":"ChromeOS Flex 的潛在缺點"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然在 ASUS E203NA 上面的 ChromeOS Flex 使用體驗讓我非常滿意，但對於其他人來說可能還是有一些缺點，下面就把我感受到或想到的潛在缺點描述一下。"}]},{"type":"element","tag":"h3","props":{"id":"需要-google-帳號"},"children":[{"type":"text","value":"需要 Google 帳號"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個應該沒什麼好說的 XD，如果討厭 Google 不想辦 Google 帳號，我覺得就可以放棄使用 ChromeOS Flex 了。"}]},{"type":"element","tag":"h3","props":{"id":"開箱即用但也無法調校"},"children":[{"type":"text","value":"開箱即用但也無法調校"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於無法安裝任何應用程式，所以若打算安裝在其他裝置上，而其他裝置有 ChromeOS Flex 不支援的硬體，也無法透過自己手動安裝驅動程式來解決。例如本來也嘗試在 Macbook Air 2013 上面安裝，但發現 Webcam 不能使用，"},{"type":"element","tag":"article-inner-link","props":{"slug":"macbook_air_2013_fedora"},"children":[{"type":"text","value":"後來就還是安裝 Fedora"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"安裝前可以看看 Google 官方的"},{"type":"element","tag":"a","props":{"href":"https://support.google.com/chromeosflex/answer/11513094?hl=zh-Hant","rel":["nofollow"]},"children":[{"type":"text","value":"認證型號清單"}]},{"type":"text","value":"是否有你想安裝 ChromeOS Flex 的電腦，沒有的話可能要直接做一支 Chrome 的安裝 USB 試試看。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"像是這篇說的 ASUS E203NA 也不在清單上，但也跑得好好的。"}]},{"type":"element","tag":"h3","props":{"id":"唯一能夠使用的瀏覽器只有-google-chrome"},"children":[{"type":"text","value":"唯一能夠使用的瀏覽器只有 Google Chrome"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然使用 "},{"type":"element","tag":"a","props":{"href":"https://support.google.com/chromebook/answer/9145439?hl=zh-Hant","rel":["nofollow"]},"children":[{"type":"text","value":"Linux 開發模式"}]},{"type":"text","value":"能夠額外安裝應用程式，也因此可以安裝其他瀏覽器，但由於 ChromeOS Flex 中的 "},{"type":"element","tag":"a","props":{"href":"https://chromeos.dev/en/linux/linux-on-chromeos-faq#why-run-vms-arent-containers-secure","rel":["nofollow"]},"children":[{"type":"text","value":"Linux 開發模式本質上是虛擬機"}]},{"type":"text","value":"，其硬體需求相對很高，使用這種方式執行軟體也會有效能的損耗跟許多限制。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以，我覺得可以當成 ChromeOS Flex 唯一能夠使用的瀏覽器只有 Chrome，若你平常的一些同步設定是在其他瀏覽器，例如 Firefox、Edge……等等，書籤那些也都存在這些瀏覽器，那轉到 ChromeOS Flex 會瞬間多出一大門檻。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而且我覺得如果電腦的硬體資源已經足以運作 Linux 開發模式，那不如就直接安裝 Linux 就好，限制也更少。"}]},{"type":"element","tag":"h3","props":{"id":"使用情境特定於以瀏覽器解決日常事務"},"children":[{"type":"text","value":"使用情境特定於以瀏覽器解決日常事務"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我覺得這其實也不算缺點，就是看自己的需求而已。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"ChromeOS Flex 本來的目標就是所有事務都在瀏覽器中完成，這在目前許多軟體服務都已經上雲端的現在其實不是什麼難事，但如果你是有可能需要做其他較為繁重的事務，比如說開發、剪片、製圖……諸如此類，就不建議使用。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"對於平常已經屬於 Google 體系的我來說，ChromeOS Flex 提供了我一個復活舊筆電的機會，加上 Google 大神的調校，自己是用得相當滿意。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"對於新購入電腦的人，自己覺得不用考慮這種方案，畢竟買個平板接鍵盤、或是一台萬元筆電，可能都會比買一台新的 Chromebook 來得好一些。但若你心有環保魂，捨不得家裡明明還算能用的舊筆電僅僅只是被需求越來越高的軟體淘汰的話，那試試看 ChromeOS Flex 也不失為一條路。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"反正免費下載、免費安裝、免費使用，用了不喜歡再真的把電腦拿去回收也無不可。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"關於-chromeos-flex","depth":2,"text":"關於 ChromeOS Flex"},{"id":"asus-e203na-的故事","depth":2,"text":"ASUS E203NA 的故事","children":[{"id":"fedora-workstation-意外跑不太起來","depth":3,"text":"Fedora Workstation 意外跑不太起來"}]},{"id":"chromeos-flex-試用心得","depth":2,"text":"ChromeOS Flex 試用心得","children":[{"id":"開機超快","depth":3,"text":"開機超快"},{"id":"開箱即用","depth":3,"text":"開箱即用"},{"id":"網路影片播放效能很好","depth":3,"text":"網路影片播放效能很好"},{"id":"設定同步非常完整","depth":3,"text":"設定同步非常完整"}]},{"id":"chromeos-flex-的潛在缺點","depth":2,"text":"ChromeOS Flex 的潛在缺點","children":[{"id":"需要-google-帳號","depth":3,"text":"需要 Google 帳號"},{"id":"開箱即用但也無法調校","depth":3,"text":"開箱即用但也無法調校"},{"id":"唯一能夠使用的瀏覽器只有-google-chrome","depth":3,"text":"唯一能夠使用的瀏覽器只有 Google Chrome"},{"id":"使用情境特定於以瀏覽器解決日常事務","depth":3,"text":"使用情境特定於以瀏覽器解決日常事務"}]},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2024:chrome_os_flex_asus_e203na.md","_source":"content","_file":"articles/2024/chrome_os_flex_asus_e203na.md","_extension":"md","createdAt":"2024-01-01T08:53:27.000Z","updatedAt":"2024-01-01T08:53:27.000Z","slug":"chrome_os_flex_asus_e203na","plainTexts":["接觸了 Linux 之後，一直都覺得舊電腦救星非 Fedora、Ubuntu 這種主流的 Linux 發布板莫屬，然而在 Google 釋出 ChromeOS Flex 之後，便覺得這個寶座或許已經換人坐了，尤其是在硬體更加有限的小筆電領域更是如此。","本篇紀錄了在從朋友那邊收購來的 ASUS E203NA 上安裝 ChromeOS Flex 並試用幾個月的過程，希望能幫助到正在使用同一台筆電準備丟掉、轉賣或是打算安裝 ChromeOS Flex 在自己的電腦上，對 ChromeOS Flex 實際使用心得有興趣的朋友。","關於 ChromeOS Flex","那先簡單介紹一下 ChromeOS Flex。","由 Google 所開發，基於 Linux 的作業系統 ChromsOS，原本只能透過購買 Chromebook 使用，後來 Google","在 2022 年 7 月 15 日正式釋出了 ChromeOS Flex","，讓大家可以下載這種作業系統自由安裝在自己的電腦上，為這個新舊汰換週期不斷加速的電腦世界微踩了一下永續的煞車。","關於 ChromeOS Flex 和 ChromeOS 之間的差異，可參考","Google 官方發布的文章","。","在我實際使用過 ChromeOS Flex 之後，覺得它就是一個開箱即用、基於 Chrome 瀏覽器且無法輕易安裝其他軟體的 Linux 發布板，而這讓他變得異常輕巧。","ASUS E203NA 的故事","手上這台 ASUS E203NA 是朋友買了之後覺得不堪用把他冷凍起來，而當時我剛好想買一台小筆電，所以就跟朋友低價購買回來。","Fedora Workstation 意外跑不太起來","本以為灌了 Fedora Workstation 能讓他重獲新生，結果卻出乎意料地卡。","在這幾年的發展後，Fedora 所需的硬體資源已經沒有當初想像得這麼低（一部分當然是自己選擇使用 GNOME 的關係），當然我覺得絕對還是比肥大又充滿廣告軟體的 Windows 11 低很多，但 ASUS E203NA 的硬體太過低階（CPU N3350、32GB eMMC、4GB DDR3 RAM），讓 Fedora 跑起來也略顯吃力，播 Youtube 影片的時候若同時做其他事甚至會卡頓。","那時候就想說安裝 ChromeOS Flex 看看，也順便滿足一下好奇心。","ChromeOS Flex 試用心得","在 ASUS E203NA 上安裝完 ChromeOS Flex 後，帶著這台小筆電在外面咖啡廳用過不少次，預計 3 月出發的薄荷島之旅也都是用它在眾家咖啡廳規劃完成，整體而言覺得非常滿意，一部分除了 ChromeOS Flex 非常符合只使用瀏覽器處理絕大多數事務的情境，一部分也是 Google 大神的調校實在讓人驚豔。","開機超快","剛安裝完的第一印象，就是開．機．超．快！","有多快呢？快到大概是 Windows 休眠然後再啟動的程度。要知道這台的儲存裝置可是 eMMC 啊！這種介於 HDD 與 SSD 之間的硬體竟然能有這種開機速度實在是讓人驚訝。","開箱即用","因為所有事情幾乎都要透過瀏覽器完成，所以安裝完後除了登入 Google 帳號外，幾乎也不需要多做什麼設定或安裝軟體就能直接開始使用。ChromeOS 的使用者界面安排與 Windows 類似，有類似「開始」的小視窗在左下角，右下角則是系統調整如音效、網路……等等，基本上沒什麼學習成本。","網路影片播放效能很好","剛拿到這台小筆電安裝 Fedora Workstation 的時候，不管是用 Firefox 還是 Chrome 看 1080p 網路影片，只要同時在做其他事，影片播放就會很卡，Firefox 甚至在把滑鼠移過去出現播放列的時候，就會微當機。","但 ChromeOS Flex 完全不會，即便在 Youtube 裡面比較複雜的網頁元素渲染好之前，影片仍然可以順暢播放，而且小小的多開一些網頁也幾乎不影響影片，非常驚人。","設定同步非常完整","在使用期間因為有想嘗試其他 Linux 桌面，所以又灌成 Linux，但 ChromeOS Flex 的效能實在讓人回不去，所以又灌回來。結果在重灌完登入 Google 帳號之後，所有的設定就全部恢復，幾乎不需要任何額外的手動調整。不管是下方的工具列、已經釘選的非 Google 應用程式，都自動歸位。","雖然這一方面是得利於","PWA","的關係吧，畢竟網站本身就是應用程式完全不需要安裝，那麼幫忙紀錄是否有釘選的成本也不大。","ChromeOS Flex 的潛在缺點","雖然在 ASUS E203NA 上面的 ChromeOS Flex 使用體驗讓我非常滿意，但對於其他人來說可能還是有一些缺點，下面就把我感受到或想到的潛在缺點描述一下。","需要 Google 帳號","這個應該沒什麼好說的 XD，如果討厭 Google 不想辦 Google 帳號，我覺得就可以放棄使用 ChromeOS Flex 了。","開箱即用但也無法調校","由於無法安裝任何應用程式，所以若打算安裝在其他裝置上，而其他裝置有 ChromeOS Flex 不支援的硬體，也無法透過自己手動安裝驅動程式來解決。例如本來也嘗試在 Macbook Air 2013 上面安裝，但發現 Webcam 不能使用，","後來就還是安裝 Fedora","。","安裝前可以看看 Google 官方的","認證型號清單","是否有你想安裝 ChromeOS Flex 的電腦，沒有的話可能要直接做一支 Chrome 的安裝 USB 試試看。","像是這篇說的 ASUS E203NA 也不在清單上，但也跑得好好的。","唯一能夠使用的瀏覽器只有 Google Chrome","雖然使用","Linux 開發模式","能夠額外安裝應用程式，也因此可以安裝其他瀏覽器，但由於 ChromeOS Flex 中的","Linux 開發模式本質上是虛擬機","，其硬體需求相對很高，使用這種方式執行軟體也會有效能的損耗跟許多限制。","所以，我覺得可以當成 ChromeOS Flex 唯一能夠使用的瀏覽器只有 Chrome，若你平常的一些同步設定是在其他瀏覽器，例如 Firefox、Edge……等等，書籤那些也都存在這些瀏覽器，那轉到 ChromeOS Flex 會瞬間多出一大門檻。","而且我覺得如果電腦的硬體資源已經足以運作 Linux 開發模式，那不如就直接安裝 Linux 就好，限制也更少。","使用情境特定於以瀏覽器解決日常事務","我覺得這其實也不算缺點，就是看自己的需求而已。","ChromeOS Flex 本來的目標就是所有事務都在瀏覽器中完成，這在目前許多軟體服務都已經上雲端的現在其實不是什麼難事，但如果你是有可能需要做其他較為繁重的事務，比如說開發、剪片、製圖……諸如此類，就不建議使用。","後記","對於平常已經屬於 Google 體系的我來說，ChromeOS Flex 提供了我一個復活舊筆電的機會，加上 Google 大神的調校，自己是用得相當滿意。","對於新購入電腦的人，自己覺得不用考慮這種方案，畢竟買個平板接鍵盤、或是一台萬元筆電，可能都會比買一台新的 Chromebook 來得好一些。但若你心有環保魂，捨不得家裡明明還算能用的舊筆電僅僅只是被需求越來越高的軟體淘汰的話，那試試看 ChromeOS Flex 也不失為一條路。","反正免費下載、免費安裝、免費使用，用了不喜歡再真的把電腦拿去回收也無不可。"]},{"_path":"/articles/2024/compare_blog","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"部落格遊牧紀錄：Blogger、Medium、Matters、Github Pages","description":"在接連嘗試過 Blogger、Medium 以及 Matters 之後，最後決定還是把部落格收回來自己架在 Github Pages 上，此篇文章除了紀錄其中的心路歷程，也順便分享在不同平臺體驗到的優缺點，以及爲何決定要收回來自己架的原因。","img":"922/Ua5JaZ.png","tags":["部落格","Medium","Blogger","Matters","Github Pages"],"category":"life","readingTime":{"text":"15 min read","minutes":14.21,"time":852600,"words":2842},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在接連嘗試過 Blogger、Medium 以及 Matters 之後，最後決定還是把部落格收回來自己架在 Github Pages 上，此篇文章除了紀錄其中的心路歷程，也順便分享在不同平臺體驗到的優缺點，以及爲何決定要收回來自己架的原因。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在接連嘗試過 Blogger、Medium 以及 Matters 之後，最後決定還是把部落格收回來自己架在 Github Pages 上，此篇文章除了紀錄其中的心路歷程，也順便分享在不同平臺體驗到的優缺點，以及爲何決定要收回來自己架的原因。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"blogger"},"children":[{"type":"text","value":"Blogger"}]},{"type":"element","tag":"article-img","props":{"img":"924/eyp6PI.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在十幾年前 Medium 還沒出現時，雖然國內有很多部落格服務，但比起當時的 Blogger 真的是沒幾個能打的。國內的平台不僅版面混亂、寫作方式困難，連界面都不是很美觀，所以大學開始寫部落格的時候就直接選了 Blogger，也持續好一段時間。"}]},{"type":"element","tag":"h3","props":{"id":"好像有seo-加成"},"children":[{"type":"text","value":"（好像有）SEO 加成"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然 Google 都說不會特別曝光自家服務的搜尋結果，然而當年在 Blogger 上寫 Fedora 使用心得時，明顯感受到只要搜尋關鍵字就搜得到自己的文章，有些還是搜尋結果第一名，也會有一些人來留言討論。記得當時有朋友在搜尋相關資訊，看到我寫的東西還跑來問我這部落格是不是我的，讓我非常驚喜（雖然也有可能是主題偏冷門的關係啦）。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於 SEO，可參考 Google 的\n"},{"type":"element","tag":"a","props":{"href":"https://developers.google.com/search/docs?hl=zh-tw","rel":["nofollow"]},"children":[{"type":"text","value":"說明文件"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"h3","props":{"id":"移居-medium-的轉捩點複雜紊亂的編輯器"},"children":[{"type":"text","value":"移居 Medium 的轉捩點：複雜紊亂的編輯器"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"從現在的角度看，Blogger 的編輯器功能已經相對老舊，幾乎跟無名小站時期的編輯器功能差不多，至今都沒啥變化。這種自訂性高的編輯器，美其名是可以讓大家產生豐富的版面，但實際結果常常是文章版面變得很混亂，若內容一長或是較為複雜，很容易就需要花額外的時間與心力去整理樣式。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而在踏入前端工程領域之後，對於這種編輯器產生的內容更是不敢恭維，因為其產生的程式碼會亂得可怕，有時甚至會拖慢網頁效率。"}]},{"type":"element","tag":"h3","props":{"id":"心得容易上手cp-值高自訂性高"},"children":[{"type":"text","value":"心得：容易上手、CP 值高、自訂性高"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"作為元老級的部落格平臺，除了文字編輯器還像是停留在上個世代以外，Blogger 仍然是目前整體而言功能最完整的。能夠自訂網域、調整樣式、部落格樣板設定容易……等等功能齊全，也不須擔心 SEO，不花錢就能獲得這樣的服務，可說是 CP 值榜首。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"只是後來 Medium 出現，極其簡潔的編輯器吸引了我。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"medium"},"children":[{"type":"text","value":"Medium"}]},{"type":"element","tag":"article-img","props":{"img":"922/u0iQMa.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大學畢業後因為找工作的關係，Blogger 那邊停了一陣子，工作穩定下來後想重拾寫部落格的習慣，而當時已經有許多新的部落平台出現，就嘗試了一下 Medium，誰知一試之後就回不去了，其中最大的原因就是 Medium 的編輯器。"}]},{"type":"element","tag":"h3","props":{"id":"簡潔優雅的文字編輯器"},"children":[{"type":"text","value":"簡潔優雅的文字編輯器"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"比起 Blogger 活在上個世代的編輯器，Medium 的編輯器去除樣式的煩擾，將撰寫文章的體驗統一成像是記者在替報社寫文章一樣，只有幾種固定的文字樣式可以使用，使得版面非常簡潔美觀，這讓使用者能夠更專注在內容的創作上。即便是在全英文界面、社群交流大多也是使用英文的環境下，還是吸引不少國人在上面建立自己的部落格。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Medium 可說是開啟了文字編輯器的革命，以往那種可以換各種顏色、各種大小、各種字體的編輯器，在現代的部落格平台中幾乎都看不見了，取而代之的都是類似 Medium 這種被強烈規定好的編輯器。"}]},{"type":"element","tag":"h3","props":{"id":"移居-matters-的轉捩點seo-政策的轉變"},"children":[{"type":"text","value":"移居 Matters 的轉捩點：SEO 政策的轉變"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然而，Medium 後來改變了 SEO 政策，"},{"type":"element","tag":"a","props":{"href":"https://help.medium.com/hc/en-us/articles/217991468-About-SEO-and-Medium","rel":["nofollow"]},"children":[{"type":"text","value":"其內部機制會決定是否要讓搜尋引擎搜索你的文章"}]},{"type":"text","value":"。原本 Medium 對漢語創作者的 SEO 就不是很友善，而那次政策轉變後，文章變得更難出現在搜尋引擎的結果中，網路上也出現許多講述瀏覽次數狂掉的文章。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於不清楚 Medium 改變之後的政策細節及演算法，雖然覺得自己應該有產生不錯的內容，但真正會出現在搜尋引擎的只有一篇在講透過魚罐頭攝取 DHA 可行性的文章（"},{"type":"element","tag":"article-inner-link","props":{"slug":"canned_fish_dha_epa"},"children":[{"type":"text","value":"此篇文章已轉移至這個部落格囉"}]},{"type":"text","value":"）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當然還是有很多漢語創作的優良文章會出現在 Google 的搜尋結果內，有時也會想或許只是自己不夠努力或是寫的東西不夠好而已。"}]},{"type":"element","tag":"h3","props":{"id":"心得流暢且良好的寫作體驗但必須配合其商業模式"},"children":[{"type":"text","value":"心得：流暢且良好的寫作體驗但必須配合其商業模式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"整體而言 Medium 的寫作體驗還是很好的，其品牌風格也會讓人有種高級感（？）。但 SEO 政策改變的影響也真的滿大，而且目前的商業模式也會讓使用者傾向把一些文章鎖起來、或是設定成要登入才能觀看，讓我滿厭惡的，現在查資料時我自己都會跳過來自 Medium 的結果。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"正在考慮要不要回去 Blogger 的同時，遇見了 Matters。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"matters"},"children":[{"type":"text","value":"Matters"}]},{"type":"element","tag":"article-img","props":{"img":"922/gGNhjT.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"後來接觸了加密貨幣與區塊鍊，無意中知道了 Matters 這個底層技術使用 IPFS 並且讚賞贊助功能整合區塊鍊與加密貨幣的平台，就好奇試用了一下。發現編輯器的體驗跟 Medium 滿接近的，而且沒有什麼閱讀限制，就跳過來了。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於 IPFS，可參考\n"},{"type":"element","tag":"a","props":{"href":"https://zh.wikipedia.org/zh-tw/%E6%98%9F%E9%99%85%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F","rel":["nofollow"]},"children":[{"type":"text","value":"維基百科"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"h3","props":{"id":"優點暢所欲言且緊密的漢語社區"},"children":[{"type":"text","value":"優點：暢所欲言且緊密的漢語社區"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由《端傳媒》的前總編張潔平在 2018 年創立的 Matters，是基於分散式技術以及區塊鍊的寫作社交平台，整體帶給人的感覺幾乎可以說是漢語版本的 Medium，這些特色讓 Matters 一開始就收穫許多硬頸粉絲。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為特色鮮明也有進入門檻，社群比起 Medium 小上許多，但同時也代表你寫的東西很容易被大家看見。像當時寫了一篇關於 FTX 事件後感想的文章（"},{"type":"element","tag":"article-inner-link","props":{"slug":"crypto_after_ftx"},"children":[{"type":"text","value":"此篇文章也已轉移至這個部落格囉"}]},{"type":"text","value":"），竟然就被拉上了熱搜第一名，讓我非常驚喜。很多文章也都會有人來回覆，滿容易就能在這裡交到筆友。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而不可竄改的特性，也讓這裡的人是想說什麼就說什麼，可以看到很多中國人在寫抨擊中國領導或政策的文章，非常有趣也讓我開了些眼界。"}]},{"type":"element","tag":"h3","props":{"id":"優點同樣簡潔的文字編輯器"},"children":[{"type":"text","value":"優點：同樣簡潔的文字編輯器"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有在 Medium 跟 Matters 寫過文章的人，一定都可以看出 Matters 編輯器絕對有受到 Medium 啟發。同樣去樣式化、標準化並受到規定的寫作方式，同樣也能讓人專心於文字寫作。當初會轉過去 Matters，一大原因就是同樣簡潔的編輯器。"}]},{"type":"element","tag":"h3","props":{"id":"缺點無法太常編輯文章"},"children":[{"type":"text","value":"缺點：無法太常編輯文章"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個特色其實可以說是優缺並存。由於底層技術的特性，Matters 上的文章僅能編輯 5 次，而且編輯前的文章並不會真的消失，而是存在於 IPFS 上。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之所以說是優點，是因為這個特性讓我在發布文章前會仔細校稿、自己讀過好幾次，確認之後才發布，有點像是真的要出版一篇文章的感覺，就算真的要改，也會更加謹慎，像是要再版出書一樣。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"但這種特色也是雙面刃，對於資訊更新頻繁、需要時常編輯的主題例如程式開發、加密貨幣、數位資訊……等等，會非常麻煩，不然就是會需要再發一篇新文章去「關聯」前一版本的文章，但實際上兩篇文章內容相去不遠，有點浪費。"}]},{"type":"element","tag":"h3","props":{"id":"心得目前文章更容易被看見的漢語社區"},"children":[{"type":"text","value":"心得：（目前）文章更容易被看見的漢語社區"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"整體而言我最喜歡 Matters，簡潔的編輯器、緊密的社區、發文幾乎都會被看到……這些特色真的有讓我憶起最初想寫部落格的初衷：分享與討論。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"後來想寫一些前端工程心得，覺得表現程式碼的部份在各大平台都差強人意，剛開始是把生活雜記在 Matters，前端及 Linux 心得這種內容會需要寫程式碼的文章放在 Github Pages，但後來覺得就乾脆都集中回 Github Pages 好了，就把文章都收回來。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"github-pages"},"children":[{"type":"text","value":"Github Pages"}]},{"type":"element","tag":"article-img","props":{"img":"923/lP2lsK.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Github Pages 就是目前這個部落格網站的基底，嚴格說起來 Github Pages 並非專為寫作而生的部落格平台，而是放置並展示靜態內容的網頁平台，使用族群應該比較偏向工程師而非一般使用者。"}]},{"type":"element","tag":"h3","props":{"id":"優點完全自訂"},"children":[{"type":"text","value":"優點：完全自訂"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為是放置並展示靜態內容的地方，「如何產生靜態內容」的方式就完全是自己決定，可以使用 Github 官方推薦的"},{"type":"element","tag":"a","props":{"href":"https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll/about-github-pages-and-jekyll","rel":["nofollow"]},"children":[{"type":"text","value":"Jekyll"}]},{"type":"text","value":"、在網路上查 Github Pages 文章時常見的 "},{"type":"element","tag":"a","props":{"href":"https://gohugo.io/hosting-and-deployment/hosting-on-github/","rel":["nofollow"]},"children":[{"type":"text","value":"Hugo"}]},{"type":"text","value":"，又或者像我因為平常工作就是使用 Vue，所以選擇了"},{"type":"element","tag":"a","props":{"href":"https://v2.nuxt.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt2"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若覺得部落格缺什麼，就自己做。文章中要放投影片嗎？自己寫。要修改引言的樣式？自己寫。想要不同的主視覺顏色？自己寫。"}]},{"type":"element","tag":"h3","props":{"id":"缺點完全自訂"},"children":[{"type":"text","value":"缺點：完全自訂"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為並非是專為部落格而生的平台，一些部落格常見的功能都要自己想辦法生出來，小至留言板、社交分享，大至文章分類、文章標籤，甚至連圖片要放哪個伺服或廠商都要自己想、自己找，就算是本身擁有技術底的人，我覺得也要投注滿多心力與時間。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而由於對搜尋引擎來說，自架的 Github Pages 是一個新網站，SEO 可能要長期經營才會有成果。"}]},{"type":"element","tag":"h3","props":{"id":"心得門檻高但可自訂程度非常值得"},"children":[{"type":"text","value":"心得：門檻高但可自訂程度非常值得"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然建置初期花了一段時間，才真的開始寫文章（前面都在寫「部落格」本身），但那種想要什麼就可以隨時加上去的感覺，是在其他部落格平台絕對體驗不到的。如果本身懂技術，想寫點東西紀錄，但不想花錢買域名、買 Server 的話，我會滿推薦 Github Pages。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在前端領域工作幾年後，不管用了哪個平台都會覺得好像總是會有那麼幾個自己無法接受的小缺點，而同時工作與生活遇到瓶頸有點迷茫，就想說做個 Side Project，同時測試自己這幾年來到底學了些什麼，就決定在 Github Pages 自架部落格了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當然 Github Pages 例子太特殊，不適用於一般使用者，我還是會推薦非軟體工程背景的人使用一般的部落格平台，除了前面說到的那些，也有像"},{"type":"element","tag":"a","props":{"href":"https://vocus.cc/become_creator","rel":["nofollow"]},"children":[{"type":"text","value":"方格子"}]},{"type":"text","value":"這樣整合收入變現、界面現代化的寫作平台，只是因為沒用過就無法詳細分享了。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"blogger","depth":2,"text":"Blogger","children":[{"id":"好像有seo-加成","depth":3,"text":"（好像有）SEO 加成"},{"id":"移居-medium-的轉捩點複雜紊亂的編輯器","depth":3,"text":"移居 Medium 的轉捩點：複雜紊亂的編輯器"},{"id":"心得容易上手cp-值高自訂性高","depth":3,"text":"心得：容易上手、CP 值高、自訂性高"}]},{"id":"medium","depth":2,"text":"Medium","children":[{"id":"簡潔優雅的文字編輯器","depth":3,"text":"簡潔優雅的文字編輯器"},{"id":"移居-matters-的轉捩點seo-政策的轉變","depth":3,"text":"移居 Matters 的轉捩點：SEO 政策的轉變"},{"id":"心得流暢且良好的寫作體驗但必須配合其商業模式","depth":3,"text":"心得：流暢且良好的寫作體驗但必須配合其商業模式"}]},{"id":"matters","depth":2,"text":"Matters","children":[{"id":"優點暢所欲言且緊密的漢語社區","depth":3,"text":"優點：暢所欲言且緊密的漢語社區"},{"id":"優點同樣簡潔的文字編輯器","depth":3,"text":"優點：同樣簡潔的文字編輯器"},{"id":"缺點無法太常編輯文章","depth":3,"text":"缺點：無法太常編輯文章"},{"id":"心得目前文章更容易被看見的漢語社區","depth":3,"text":"心得：（目前）文章更容易被看見的漢語社區"}]},{"id":"github-pages","depth":2,"text":"Github Pages","children":[{"id":"優點完全自訂","depth":3,"text":"優點：完全自訂"},{"id":"缺點完全自訂","depth":3,"text":"缺點：完全自訂"},{"id":"心得門檻高但可自訂程度非常值得","depth":3,"text":"心得：門檻高但可自訂程度非常值得"}]},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2024:compare_blog.md","_source":"content","_file":"articles/2024/compare_blog.md","_extension":"md","createdAt":"2024-01-05T10:08:47.000Z","updatedAt":"2024-01-07T05:41:22.000Z","slug":"compare_blog","plainTexts":["在接連嘗試過 Blogger、Medium 以及 Matters 之後，最後決定還是把部落格收回來自己架在 Github Pages 上，此篇文章除了紀錄其中的心路歷程，也順便分享在不同平臺體驗到的優缺點，以及爲何決定要收回來自己架的原因。","Blogger","在十幾年前 Medium 還沒出現時，雖然國內有很多部落格服務，但比起當時的 Blogger 真的是沒幾個能打的。國內的平台不僅版面混亂、寫作方式困難，連界面都不是很美觀，所以大學開始寫部落格的時候就直接選了 Blogger，也持續好一段時間。","（好像有）SEO 加成","雖然 Google 都說不會特別曝光自家服務的搜尋結果，然而當年在 Blogger 上寫 Fedora 使用心得時，明顯感受到只要搜尋關鍵字就搜得到自己的文章，有些還是搜尋結果第一名，也會有一些人來留言討論。記得當時有朋友在搜尋相關資訊，看到我寫的東西還跑來問我這部落格是不是我的，讓我非常驚喜（雖然也有可能是主題偏冷門的關係啦）。","關於 SEO，可參考 Google 的","說明文件","。","移居 Medium 的轉捩點：複雜紊亂的編輯器","從現在的角度看，Blogger 的編輯器功能已經相對老舊，幾乎跟無名小站時期的編輯器功能差不多，至今都沒啥變化。這種自訂性高的編輯器，美其名是可以讓大家產生豐富的版面，但實際結果常常是文章版面變得很混亂，若內容一長或是較為複雜，很容易就需要花額外的時間與心力去整理樣式。","而在踏入前端工程領域之後，對於這種編輯器產生的內容更是不敢恭維，因為其產生的程式碼會亂得可怕，有時甚至會拖慢網頁效率。","心得：容易上手、CP 值高、自訂性高","作為元老級的部落格平臺，除了文字編輯器還像是停留在上個世代以外，Blogger 仍然是目前整體而言功能最完整的。能夠自訂網域、調整樣式、部落格樣板設定容易……等等功能齊全，也不須擔心 SEO，不花錢就能獲得這樣的服務，可說是 CP 值榜首。","只是後來 Medium 出現，極其簡潔的編輯器吸引了我。","Medium","大學畢業後因為找工作的關係，Blogger 那邊停了一陣子，工作穩定下來後想重拾寫部落格的習慣，而當時已經有許多新的部落平台出現，就嘗試了一下 Medium，誰知一試之後就回不去了，其中最大的原因就是 Medium 的編輯器。","簡潔優雅的文字編輯器","比起 Blogger 活在上個世代的編輯器，Medium 的編輯器去除樣式的煩擾，將撰寫文章的體驗統一成像是記者在替報社寫文章一樣，只有幾種固定的文字樣式可以使用，使得版面非常簡潔美觀，這讓使用者能夠更專注在內容的創作上。即便是在全英文界面、社群交流大多也是使用英文的環境下，還是吸引不少國人在上面建立自己的部落格。","Medium 可說是開啟了文字編輯器的革命，以往那種可以換各種顏色、各種大小、各種字體的編輯器，在現代的部落格平台中幾乎都看不見了，取而代之的都是類似 Medium 這種被強烈規定好的編輯器。","移居 Matters 的轉捩點：SEO 政策的轉變","然而，Medium 後來改變了 SEO 政策，","其內部機制會決定是否要讓搜尋引擎搜索你的文章","。原本 Medium 對漢語創作者的 SEO 就不是很友善，而那次政策轉變後，文章變得更難出現在搜尋引擎的結果中，網路上也出現許多講述瀏覽次數狂掉的文章。","由於不清楚 Medium 改變之後的政策細節及演算法，雖然覺得自己應該有產生不錯的內容，但真正會出現在搜尋引擎的只有一篇在講透過魚罐頭攝取 DHA 可行性的文章（","此篇文章已轉移至這個部落格囉","）。","當然還是有很多漢語創作的優良文章會出現在 Google 的搜尋結果內，有時也會想或許只是自己不夠努力或是寫的東西不夠好而已。","心得：流暢且良好的寫作體驗但必須配合其商業模式","整體而言 Medium 的寫作體驗還是很好的，其品牌風格也會讓人有種高級感（？）。但 SEO 政策改變的影響也真的滿大，而且目前的商業模式也會讓使用者傾向把一些文章鎖起來、或是設定成要登入才能觀看，讓我滿厭惡的，現在查資料時我自己都會跳過來自 Medium 的結果。","正在考慮要不要回去 Blogger 的同時，遇見了 Matters。","Matters","後來接觸了加密貨幣與區塊鍊，無意中知道了 Matters 這個底層技術使用 IPFS 並且讚賞贊助功能整合區塊鍊與加密貨幣的平台，就好奇試用了一下。發現編輯器的體驗跟 Medium 滿接近的，而且沒有什麼閱讀限制，就跳過來了。","關於 IPFS，可參考","維基百科","。","優點：暢所欲言且緊密的漢語社區","由《端傳媒》的前總編張潔平在 2018 年創立的 Matters，是基於分散式技術以及區塊鍊的寫作社交平台，整體帶給人的感覺幾乎可以說是漢語版本的 Medium，這些特色讓 Matters 一開始就收穫許多硬頸粉絲。","因為特色鮮明也有進入門檻，社群比起 Medium 小上許多，但同時也代表你寫的東西很容易被大家看見。像當時寫了一篇關於 FTX 事件後感想的文章（","此篇文章也已轉移至這個部落格囉","），竟然就被拉上了熱搜第一名，讓我非常驚喜。很多文章也都會有人來回覆，滿容易就能在這裡交到筆友。","而不可竄改的特性，也讓這裡的人是想說什麼就說什麼，可以看到很多中國人在寫抨擊中國領導或政策的文章，非常有趣也讓我開了些眼界。","優點：同樣簡潔的文字編輯器","有在 Medium 跟 Matters 寫過文章的人，一定都可以看出 Matters 編輯器絕對有受到 Medium 啟發。同樣去樣式化、標準化並受到規定的寫作方式，同樣也能讓人專心於文字寫作。當初會轉過去 Matters，一大原因就是同樣簡潔的編輯器。","缺點：無法太常編輯文章","這個特色其實可以說是優缺並存。由於底層技術的特性，Matters 上的文章僅能編輯 5 次，而且編輯前的文章並不會真的消失，而是存在於 IPFS 上。","之所以說是優點，是因為這個特性讓我在發布文章前會仔細校稿、自己讀過好幾次，確認之後才發布，有點像是真的要出版一篇文章的感覺，就算真的要改，也會更加謹慎，像是要再版出書一樣。","但這種特色也是雙面刃，對於資訊更新頻繁、需要時常編輯的主題例如程式開發、加密貨幣、數位資訊……等等，會非常麻煩，不然就是會需要再發一篇新文章去「關聯」前一版本的文章，但實際上兩篇文章內容相去不遠，有點浪費。","心得：（目前）文章更容易被看見的漢語社區","整體而言我最喜歡 Matters，簡潔的編輯器、緊密的社區、發文幾乎都會被看到……這些特色真的有讓我憶起最初想寫部落格的初衷：分享與討論。","後來想寫一些前端工程心得，覺得表現程式碼的部份在各大平台都差強人意，剛開始是把生活雜記在 Matters，前端及 Linux 心得這種內容會需要寫程式碼的文章放在 Github Pages，但後來覺得就乾脆都集中回 Github Pages 好了，就把文章都收回來。","Github Pages","Github Pages 就是目前這個部落格網站的基底，嚴格說起來 Github Pages 並非專為寫作而生的部落格平台，而是放置並展示靜態內容的網頁平台，使用族群應該比較偏向工程師而非一般使用者。","優點：完全自訂","因為是放置並展示靜態內容的地方，「如何產生靜態內容」的方式就完全是自己決定，可以使用 Github 官方推薦的","Jekyll","、在網路上查 Github Pages 文章時常見的","Hugo","，又或者像我因為平常工作就是使用 Vue，所以選擇了","Nuxt2","。","若覺得部落格缺什麼，就自己做。文章中要放投影片嗎？自己寫。要修改引言的樣式？自己寫。想要不同的主視覺顏色？自己寫。","缺點：完全自訂","因為並非是專為部落格而生的平台，一些部落格常見的功能都要自己想辦法生出來，小至留言板、社交分享，大至文章分類、文章標籤，甚至連圖片要放哪個伺服或廠商都要自己想、自己找，就算是本身擁有技術底的人，我覺得也要投注滿多心力與時間。","而由於對搜尋引擎來說，自架的 Github Pages 是一個新網站，SEO 可能要長期經營才會有成果。","心得：門檻高但可自訂程度非常值得","雖然建置初期花了一段時間，才真的開始寫文章（前面都在寫「部落格」本身），但那種想要什麼就可以隨時加上去的感覺，是在其他部落格平台絕對體驗不到的。如果本身懂技術，想寫點東西紀錄，但不想花錢買域名、買 Server 的話，我會滿推薦 Github Pages。","後記","在前端領域工作幾年後，不管用了哪個平台都會覺得好像總是會有那麼幾個自己無法接受的小缺點，而同時工作與生活遇到瓶頸有點迷茫，就想說做個 Side Project，同時測試自己這幾年來到底學了些什麼，就決定在 Github Pages 自架部落格了。","當然 Github Pages 例子太特殊，不適用於一般使用者，我還是會推薦非軟體工程背景的人使用一般的部落格平台，除了前面說到的那些，也有像","方格子","這樣整合收入變現、界面現代化的寫作平台，只是因為沒用過就無法詳細分享了。"]},{"_path":"/articles/2024/crypto_liquidity_mining_v3","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"流動性挖礦v3心得記錄","description":"在 2023 年 4 月 1 日 Uniswap v3 原始碼許可證過期後，許多其他鏈上的龍頭交易所已紛紛分叉其原始碼並將流動性挖礦功能升級到 v3，大部分的 v2 流動性礦池已無利益可言，原本我在 Pancakeswap 上的 v2 流動性也須隨之轉換。","img":"922/wa2rhz.jpg","tags":["DeFi","投資","流動性挖礦","加密貨幣"],"category":"life","readingTime":{"text":"11 min read","minutes":10.595,"time":635700,"words":2119},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 2023 年 4 月 1 日 Uniswap v3 "},{"type":"element","tag":"a","props":{"href":"https://support.uniswap.org/hc/en-us/articles/14569783029645-Uniswap-v3-Licensing","rel":["nofollow"]},"children":[{"type":"text","value":"原始碼許可證過期"}]},{"type":"text","value":"後，許多其他鏈上的龍頭交易所已紛紛分叉其原始碼並將流動性挖礦功能升級到 v3，大部分的 v2 流動性礦池已無利益可言，原本我在 Pancakeswap 上的 v2 流動性也須隨之轉換。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 2023 年 4 月 1 日 Uniswap v3 "},{"type":"element","tag":"a","props":{"href":"https://support.uniswap.org/hc/en-us/articles/14569783029645-Uniswap-v3-Licensing","rel":["nofollow"]},"children":[{"type":"text","value":"原始碼許可證過期"}]},{"type":"text","value":"後，許多其他鏈上的龍頭交易所已紛紛分叉其原始碼並將流動性挖礦功能升級到 v3，大部分的 v2 流動性礦池已無利益可言，原本我在 Pancakeswap 上的 v2 流動性也須隨之轉換。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然而 v3 比起 v2 複雜許多，也不像 v2 那麼無腦賺了，管理流動性變成需要多所琢磨的日常事務之一。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"關於流動性挖礦"},"children":[{"type":"text","value":"關於流動性挖礦"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這部份就讓我引用之前寫的文章："},{"type":"element","tag":"article-inner-link","props":{"slug":"crypto_liquidity_mining_v2"},"children":[]},{"type":"text","value":"，對於流動性挖礦還沒有概念或是好奇我為何選擇流動性挖礦的人，可以點過去看看。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"關於-v2-與-v3-的差異"},"children":[{"type":"text","value":"關於 v2 與 v3 的差異"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"v2 與 v3 最大的差異，就在於 v3 投入流動性時要決定"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"提供流動性的價格範圍"}]},{"type":"text","value":"以及"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"賺取的手續費率"}]},{"type":"text","value":"。藉由決定流動性價格範圍來提高流動性利用率，是 v3 比起 v2 能夠取得更高報酬的主因。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於 Uniswap v2 與 v3 的差異，可參考官方文章：\n"},{"type":"element","tag":"a","props":{"href":"https://blog.uniswap.org/uniswap-v3","rel":["nofollow"]},"children":[{"type":"text","value":"Introducing Uniswap v3"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"h3","props":{"id":"決定流動性價格範圍"},"children":[{"type":"text","value":"決定流動性價格範圍"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這半年操作下來，覺得在 v3 投入流動性並決定流動性價格範圍，本身其實可以視為是"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"在該價格範圍內掛了一連串隨著價格漲跌而執行的買單／賣單"}]},{"type":"text","value":"，在超過價格範圍時，投入的流動性將會被完全買／賣成對應的幣。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個部份用文字說起來有些複雜，看"},{"type":"element","tag":"a","props":{"href":"https://blog.uniswap.org/uniswap-v3#active-liquidity","rel":["nofollow"]},"children":[{"type":"text","value":"官方介紹文章"}]},{"type":"text","value":"中使用的影片會比較清楚："}]},{"type":"element","tag":"embed-youtube","props":{"id":"_awCyk72VFA"},"children":[]},{"type":"element","tag":"h3","props":{"id":"決定手續費率"},"children":[{"type":"text","value":"決定手續費率"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"手續費是流動性挖礦的主要收入來源，雖然在 Uniswap v3 中可以自行決定手續費率（1%、0.3%、0.05% 或 0.01%），但在 Pancakeswap v3 中，官方會決定有哪些手續費率的流動性可以進一步質押以獲得額外的 CAKE 幣分發。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以這部份我比較無腦，就是跟著官方的決定走。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"價格範圍的影響"},"children":[{"type":"text","value":"價格範圍的影響"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"既然 v3 相比 v2 增加的報酬是來自於讓流動性集中於價格範圍，流動性的管理與再平衡便成為了 v3 比起 v2 增加的主要風險。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n再平衡（rebalance）在金融術語中指的是將已經偏離目標比例的投資組合重新修正，在流動性挖礦中就是提領流動性重新設定價格區間再次投入的動作。\n"}]},{"type":"element","tag":"h3","props":{"id":"價格範圍過寬"},"children":[{"type":"text","value":"價格範圍過寬"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"價格範圍寬帶來的影響相對直觀，就是流動性利用率低導致手續費收入大為減少，雖然也比較不用擔心再平衡的議題，但以 Pancakeswap v3 中主推的 BNB / USDT 流動性池來說，提供「全範圍」的年化報酬率也才 3%："}]},{"type":"element","tag":"article-img","props":{"img":"922/9bZAhb.png"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"是否要踩著加密貨幣不受監管的高風險，然後拿 3％ 的年化報酬就看個人了……。"}]},{"type":"element","tag":"h3","props":{"id":"價格範圍過窄"},"children":[{"type":"text","value":"價格範圍過窄"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"價格範圍過窄雖然會因為流動性的利用率增加而拿到更高的手續費，然而第一個可能會遇到的問題就是再平衡過於頻繁。每次再平衡因為要提出流動性，都會實現無常損失。其次就是要非常關心漲跌幅，勞心勞神。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不過，上面這些問題都還是可以來得及再平衡的狀況下，可怕的是價格範圍窄到來不及在價格離開設定的範圍之前進行再平衡，持有的流動性沒吃到漲幅或完全吃到跌幅，讓我舉個例子說明："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"假設我在 USDC:ETH = 2000:1 的價格投入流動性，範圍設定在 1800 ~ 2200 區間："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"若 ETH 漲到 2200 時，我持有的流動性會全部被轉換成 USDC，此時若 ETH 繼續漲到 2500，但我沒有進行再平衡，等於在 2200 → 2500 這段的漲幅我是沒吃到的。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"相反的，若 ETH 跌到 1800 時，我持有的流動性會全部被轉換成 ETH，此時若 ETH 繼續往下跌到 1600，但我沒有進行再平衡，等於我會完全吃到 1800 → 1600 的跌幅。"}]}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n上述所說「全部轉換」的狀況是在價格離開區間之後提出流動性才會發生的，若不提出流動性且價格回到原區間就無此問題。\n"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那麼，如果我之後在價格範圍外進行再平衡，將已經轉換為單一資產的流動性重新投入為 1:1 的兩種資產，幾乎就等於是"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"拿一半的錢去買高賣低"}]},{"type":"text","value":"。這種狀況要是多發生幾次，在還沒賺到手續費之前可能很快就把本金燒完了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我剛開始沒注意到這件事，以為超出價格範圍進行再平衡也沒關係，執行一兩個月之後發現流動性完全沒有成長，才發現原來賺來的手續費都被這個「買高賣低」消耗掉了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"設定策略"},"children":[{"type":"text","value":"設定策略"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以，價格範圍如何設得適中，讓自己能夠在舒服的狀況下來得及進行再平衡，減少實現無常損失的次數並持續賺取手續費，就可說是 v3 流動性管理的藝術了。畢竟 v3 不像 v2 可以無腦存入，會有很多個人因素會影響流動性的管理，每個人選擇的幣種跟採取的策略都不同，如同官方文章所說："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"LPs construct individualized price curves that reflect their own preferences."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"流動性提供者建立反應自身偏好的價格曲線。"}]}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n流動性範圍的寬窄與否，跟幣種本身是有關的，若是主流大幣如 BTC / ETH，波動不太大，也許 ±20%就算是滿寬，±5%則太窄；但對於有可能暴漲暴跌的小幣來說，±20%卻可能算窄，±100%說不定只能算適中。\n"}]},{"type":"element","tag":"h3","props":{"id":"流動性管理協議"},"children":[{"type":"text","value":"流動性管理協議"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 v2 時的流動性管理協議做的事情比較簡單，基本上就是幫你把交易所額外派發的獎勵領出來自動複投。但在 v3 牽涉到價格範圍的設定以及何時再平衡，協議團隊要做的事情相對複雜許多，策略也都各有千秋。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"比較有名的像是以太坊上的 "},{"type":"element","tag":"a","props":{"href":"https://www.arrakis.finance/","rel":["nofollow"]},"children":[{"type":"text","value":"Arrakis"}]},{"type":"text","value":" 或是 "},{"type":"element","tag":"a","props":{"href":"https://www.gamma.xyz/","rel":["nofollow"]},"children":[{"type":"text","value":"Gamma"}]},{"type":"text","value":"，Pancakeswap 上面也有整合 "},{"type":"element","tag":"a","props":{"href":"https://www.alpacafinance.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Alpaca Finance"}]},{"type":"text","value":" 或是 "},{"type":"element","tag":"a","props":{"href":"https://www.bril.finance/","rel":["nofollow"]},"children":[{"type":"text","value":"Bril Finance"}]},{"type":"text","value":"……之類的"},{"type":"element","tag":"a","props":{"href":"https://pancakeswap.finance/position-managers","rel":["nofollow"]},"children":[{"type":"text","value":"倉位管理"}]},{"type":"text","value":"功能。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"只是……手續費真的好高啊！動輒收 10% 讓人有點吐血，雖然可以單幣存入又能自動管理實在是懶人福音，但後來我還是決定自己管理了。而且協議提供的管理策略，沒有對應的金融知識真的是看不懂。俗話說得好，不要投資自己看不懂的東西。"}]},{"type":"element","tag":"h3","props":{"id":"自己採取的策略"},"children":[{"type":"text","value":"自己採取的策略"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"對於會預測漲跌的人來說，可以更巧妙的去設定範圍，看漲的人可以設定將範圍設得往高價偏得更多一些，反之亦然。但由於我當初選擇流動性挖礦的中心思想就是："},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"「我無法預測漲跌」"}]},{"type":"text","value":"，所以我的範圍設定都會是現在價格正負相同的%數。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"延續之前在 v2 中選擇「鏈原生幣 ←→ 穩定幣」幣池的策略，我目前將價格範圍設定在 ±20%，並且固定在抵達 ±10%時再平衡，這是目前我最舒服的作法。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有在考慮要不要縮短為 ±15% ，不過之前設定 ±10% ，有時候遇到出國旅遊什麼的就會有點來不及再平衡，曾經這樣繳了一次小額學費。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本來信奉無腦賺的我，在 v2 時搭配自動複投協議，大概一個月才會記一下自己目前的倉位資訊。升級到 v3 後，就開始要把價格資訊釘選到自己手機的主畫面，沒事就要去看一下，當價格到達自己設定的目標時就要趕著做再平衡。雖然自己設定流動性的價格範圍算是寬敞（？），但有時候仍會有一種自己在做交易員的錯覺。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"而"},{"type":"element","tag":"a","props":{"href":"https://abmedia.io/uniswap-v4-q3-launch","rel":["nofollow"]},"children":[{"type":"text","value":"預計在 2024 年 Q3"}]},{"type":"text","value":"上線的 v4，想必又會對 DeFi 世界帶來強烈的變革吧，雖然其他鏈要獲得這份變革要隔一陣子了。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"關於流動性挖礦","depth":2,"text":"關於流動性挖礦"},{"id":"關於-v2-與-v3-的差異","depth":2,"text":"關於 v2 與 v3 的差異","children":[{"id":"決定流動性價格範圍","depth":3,"text":"決定流動性價格範圍"},{"id":"決定手續費率","depth":3,"text":"決定手續費率"}]},{"id":"價格範圍的影響","depth":2,"text":"價格範圍的影響","children":[{"id":"價格範圍過寬","depth":3,"text":"價格範圍過寬"},{"id":"價格範圍過窄","depth":3,"text":"價格範圍過窄"}]},{"id":"設定策略","depth":2,"text":"設定策略","children":[{"id":"流動性管理協議","depth":3,"text":"流動性管理協議"},{"id":"自己採取的策略","depth":3,"text":"自己採取的策略"}]},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2024:crypto_liquidity_mining_v3.md","_source":"content","_file":"articles/2024/crypto_liquidity_mining_v3.md","_extension":"md","createdAt":"2024-02-17T07:08:48.000Z","updatedAt":"2024-02-17T07:08:48.000Z","slug":"crypto_liquidity_mining_v3","plainTexts":["在 2023 年 4 月 1 日 Uniswap v3","原始碼許可證過期","後，許多其他鏈上的龍頭交易所已紛紛分叉其原始碼並將流動性挖礦功能升級到 v3，大部分的 v2 流動性礦池已無利益可言，原本我在 Pancakeswap 上的 v2 流動性也須隨之轉換。","然而 v3 比起 v2 複雜許多，也不像 v2 那麼無腦賺了，管理流動性變成需要多所琢磨的日常事務之一。","關於流動性挖礦","這部份就讓我引用之前寫的文章：","，對於流動性挖礦還沒有概念或是好奇我為何選擇流動性挖礦的人，可以點過去看看。","關於 v2 與 v3 的差異","v2 與 v3 最大的差異，就在於 v3 投入流動性時要決定","提供流動性的價格範圍","以及","賺取的手續費率","。藉由決定流動性價格範圍來提高流動性利用率，是 v3 比起 v2 能夠取得更高報酬的主因。","關於 Uniswap v2 與 v3 的差異，可參考官方文章：","Introducing Uniswap v3","。","決定流動性價格範圍","這半年操作下來，覺得在 v3 投入流動性並決定流動性價格範圍，本身其實可以視為是","在該價格範圍內掛了一連串隨著價格漲跌而執行的買單／賣單","，在超過價格範圍時，投入的流動性將會被完全買／賣成對應的幣。","這個部份用文字說起來有些複雜，看","官方介紹文章","中使用的影片會比較清楚：","決定手續費率","手續費是流動性挖礦的主要收入來源，雖然在 Uniswap v3 中可以自行決定手續費率（1%、0.3%、0.05% 或 0.01%），但在 Pancakeswap v3 中，官方會決定有哪些手續費率的流動性可以進一步質押以獲得額外的 CAKE 幣分發。","所以這部份我比較無腦，就是跟著官方的決定走。","價格範圍的影響","既然 v3 相比 v2 增加的報酬是來自於讓流動性集中於價格範圍，流動性的管理與再平衡便成為了 v3 比起 v2 增加的主要風險。","再平衡（rebalance）在金融術語中指的是將已經偏離目標比例的投資組合重新修正，在流動性挖礦中就是提領流動性重新設定價格區間再次投入的動作。","價格範圍過寬","價格範圍寬帶來的影響相對直觀，就是流動性利用率低導致手續費收入大為減少，雖然也比較不用擔心再平衡的議題，但以 Pancakeswap v3 中主推的 BNB / USDT 流動性池來說，提供「全範圍」的年化報酬率也才 3%：","是否要踩著加密貨幣不受監管的高風險，然後拿 3％ 的年化報酬就看個人了……。","價格範圍過窄","價格範圍過窄雖然會因為流動性的利用率增加而拿到更高的手續費，然而第一個可能會遇到的問題就是再平衡過於頻繁。每次再平衡因為要提出流動性，都會實現無常損失。其次就是要非常關心漲跌幅，勞心勞神。","不過，上面這些問題都還是可以來得及再平衡的狀況下，可怕的是價格範圍窄到來不及在價格離開設定的範圍之前進行再平衡，持有的流動性沒吃到漲幅或完全吃到跌幅，讓我舉個例子說明：","假設我在 USDC:ETH = 2000:1 的價格投入流動性，範圍設定在 1800 ~ 2200 區間：","若 ETH 漲到 2200 時，我持有的流動性會全部被轉換成 USDC，此時若 ETH 繼續漲到 2500，但我沒有進行再平衡，等於在 2200 → 2500 這段的漲幅我是沒吃到的。","相反的，若 ETH 跌到 1800 時，我持有的流動性會全部被轉換成 ETH，此時若 ETH 繼續往下跌到 1600，但我沒有進行再平衡，等於我會完全吃到 1800 → 1600 的跌幅。","上述所說「全部轉換」的狀況是在價格離開區間之後提出流動性才會發生的，若不提出流動性且價格回到原區間就無此問題。","那麼，如果我之後在價格範圍外進行再平衡，將已經轉換為單一資產的流動性重新投入為 1:1 的兩種資產，幾乎就等於是","拿一半的錢去買高賣低","。這種狀況要是多發生幾次，在還沒賺到手續費之前可能很快就把本金燒完了。","我剛開始沒注意到這件事，以為超出價格範圍進行再平衡也沒關係，執行一兩個月之後發現流動性完全沒有成長，才發現原來賺來的手續費都被這個「買高賣低」消耗掉了。","設定策略","所以，價格範圍如何設得適中，讓自己能夠在舒服的狀況下來得及進行再平衡，減少實現無常損失的次數並持續賺取手續費，就可說是 v3 流動性管理的藝術了。畢竟 v3 不像 v2 可以無腦存入，會有很多個人因素會影響流動性的管理，每個人選擇的幣種跟採取的策略都不同，如同官方文章所說：","LPs construct individualized price curves that reflect their own preferences.","流動性提供者建立反應自身偏好的價格曲線。","流動性範圍的寬窄與否，跟幣種本身是有關的，若是主流大幣如 BTC / ETH，波動不太大，也許 ±20%就算是滿寬，±5%則太窄；但對於有可能暴漲暴跌的小幣來說，±20%卻可能算窄，±100%說不定只能算適中。","流動性管理協議","在 v2 時的流動性管理協議做的事情比較簡單，基本上就是幫你把交易所額外派發的獎勵領出來自動複投。但在 v3 牽涉到價格範圍的設定以及何時再平衡，協議團隊要做的事情相對複雜許多，策略也都各有千秋。","比較有名的像是以太坊上的","Arrakis","或是","Gamma","，Pancakeswap 上面也有整合","Alpaca Finance","或是","Bril Finance","……之類的","倉位管理","功能。","只是……手續費真的好高啊！動輒收 10% 讓人有點吐血，雖然可以單幣存入又能自動管理實在是懶人福音，但後來我還是決定自己管理了。而且協議提供的管理策略，沒有對應的金融知識真的是看不懂。俗話說得好，不要投資自己看不懂的東西。","自己採取的策略","對於會預測漲跌的人來說，可以更巧妙的去設定範圍，看漲的人可以設定將範圍設得往高價偏得更多一些，反之亦然。但由於我當初選擇流動性挖礦的中心思想就是：","「我無法預測漲跌」","，所以我的範圍設定都會是現在價格正負相同的%數。","延續之前在 v2 中選擇「鏈原生幣 ←→ 穩定幣」幣池的策略，我目前將價格範圍設定在 ±20%，並且固定在抵達 ±10%時再平衡，這是目前我最舒服的作法。","有在考慮要不要縮短為 ±15% ，不過之前設定 ±10% ，有時候遇到出國旅遊什麼的就會有點來不及再平衡，曾經這樣繳了一次小額學費。","後記","本來信奉無腦賺的我，在 v2 時搭配自動複投協議，大概一個月才會記一下自己目前的倉位資訊。升級到 v3 後，就開始要把價格資訊釘選到自己手機的主畫面，沒事就要去看一下，當價格到達自己設定的目標時就要趕著做再平衡。雖然自己設定流動性的價格範圍算是寬敞（？），但有時候仍會有一種自己在做交易員的錯覺。","而","預計在 2024 年 Q3","上線的 v4，想必又會對 DeFi 世界帶來強烈的變革吧，雖然其他鏈要獲得這份變革要隔一陣子了。"]},{"_path":"/articles/2024/nuxt2_to_nuxt3_blog_0_intro","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"部落格Nuxt 2升級Nuxt 3：前言","description":"從去年年初開始建置的這個部落格網站，邊寫文章的同時陸陸續續補上功能後，大概到上個月才終於像是有個部落格的樣子。但由於 Nuxt2 即將在 2024/06/30 停止官方支援，而作為基底的 Vue2 更是在 2023/12/31 已停止官方支援，所以……想說要做的新功能可能先放著，先把部落格從 Nuxt2 升級到 Nuxt3 比較好。","img":"924/Ia2nWi.png","tags":["blog","nuxt","vue","nuxt2","nuxt3"],"category":"frontend","readingTime":{"text":"5 min read","minutes":4.28,"time":256800,"words":856},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"從去年年初開始建置的這個部落格網站，邊寫文章的同時陸陸續續補上功能後，大概到上個月才終於像是有個部落格的樣子。但由於 "},{"type":"element","tag":"a","props":{"href":"https://v2.nuxt.com/lts#expecting-to-stay-on-nuxt-2","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt2 即將在 2024/06/30 停止官方支援"}]},{"type":"text","value":"，而作為基底的 "},{"type":"element","tag":"a","props":{"href":"https://v2.vuejs.org/eol/","rel":["nofollow"]},"children":[{"type":"text","value":"Vue2 更是在 2023/12/31 已停止官方支援"}]},{"type":"text","value":"，所以……想說要做的新功能可能先放著，先把部落格從 Nuxt2 升級到 Nuxt3 比較好。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"從去年年初開始建置的這個部落格網站，邊寫文章的同時陸陸續續補上功能後，大概到上個月才終於像是有個部落格的樣子。但由於 "},{"type":"element","tag":"a","props":{"href":"https://v2.nuxt.com/lts#expecting-to-stay-on-nuxt-2","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt2 即將在 2024/06/30 停止官方支援"}]},{"type":"text","value":"，而作為基底的 "},{"type":"element","tag":"a","props":{"href":"https://v2.vuejs.org/eol/","rel":["nofollow"]},"children":[{"type":"text","value":"Vue2 更是在 2023/12/31 已停止官方支援"}]},{"type":"text","value":"，所以……想說要做的新功能可能先放著，先把部落格從 Nuxt2 升級到 Nuxt3 比較好。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概做了一些研究覺得是個浩大工程，所以想說來紀錄一下升級的艱辛（？）過程，希望趕得及在 Nuxt2 結束生命週期之前升級成功。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"規劃"},"children":[{"type":"text","value":"規劃"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先是事前規劃的部份，說是規劃也不算是，就是稍微想一下怎麼做會比較順一點。"}]},{"type":"element","tag":"h3","props":{"id":"ui-框架的解耦處理"},"children":[{"type":"text","value":"UI 框架的解耦處理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先呢，看一看官方的升級文件後再回來看自己的部落格，覺得升級過程中最麻煩的應該是 UI 框架。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"目前使用的 BootstrapVue 並無 Nuxt3 版本，雖然有其他大神嘗試開發的"},{"type":"element","tag":"a","props":{"href":"https://github.com/bootstrap-vue-next/bootstrap-vue-next","rel":["nofollow"]},"children":[{"type":"text","value":"BoostrapVue Next"}]},{"type":"text","value":"，但仍處於早期階段，覺得還無法直接使用於正式環境。若使用其他已支援 Nuxt3 / Vue3 的 UI 框架如"},{"type":"element","tag":"a","props":{"href":"https://vuetifyjs.com/en/","rel":["nofollow"]},"children":[{"type":"text","value":"Vuetify"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://ui.vuestic.dev/","rel":["nofollow"]},"children":[{"type":"text","value":"Vuestic"}]},{"type":"text","value":"，就可能需要連同元件的結構一起大翻修，考慮到元件的使用方式可能不一樣、所制定的 scss 變數也不同，一次要全部汰換還是太花時間。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"後來想想，決定先把目前 bootsrapVue 的部份抽換成自己實做的 bootstrap5，藉此解耦 UI 框架與 Vue2 的依賴以降低升級 Nuxt3 的痛苦，並且保留升級後才選擇 UI 框架的機會。"}]},{"type":"element","tag":"h3","props":{"id":"架構與模組的升級"},"children":[{"type":"text","value":"架構與模組的升級"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"UI 框架解決之後，下一步就是升級架構，這部份猜想主要的阻力應該會是調整模組以對應 Nuxt3 中的使用方式，但覺得有文件參考的話應該都還好，此階段也會順便把原本的 options api 模式改寫成新的 composition api。"}]},{"type":"element","tag":"h3","props":{"id":"改寫為-typescript"},"children":[{"type":"text","value":"改寫為 TypeScript"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接著便可以開始把元件改寫為 TypeScript，一方面是單純自己想跟上目前的潮流（？），一方面是之前稍微玩過 TypeScript，覺得 ts 自動完成的完整程度很驚人，對於開發過程助益不小。"}]},{"type":"element","tag":"h3","props":{"id":"ui-框架的挑選"},"children":[{"type":"text","value":"UI 框架的挑選？"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"整個都結束後，最後就可以來挑 UI 框架，私心是希望到時 BoostrapVue Next 已有正式版……這樣過程應該會比較不痛苦些，不過也有考慮嘗試 TailwindCSS 或基於其開發的 UI 框架，不過這應該是很後面而且比較跟升級過程無關的部份了，就到時再看看吧。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"步驟整理"},"children":[{"type":"text","value":"步驟整理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那麼來整理一下成條列式，雖然是個人專案沒有 PM 在盯，比較不用在意時程……但還是順便規劃一下。每個階段都是獨立的，結束後測試完都可先上線一版。"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"bootstrapVue 抽換為自己實做的 bootstrap5（預計 1 周）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"將專案架構升級為 Nuxt3 並置換模組及使用方式（預計 2~3 周）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"將專案的程式部份改寫為 TypeScript 與 composition api（預計 2~3 周）"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"UI 框架的挑選就先不列入，畢竟還不確定要選哪個，等三個階段結束後再看看。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概就是這樣，希望過程順利了。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"規劃","depth":2,"text":"規劃","children":[{"id":"ui-框架的解耦處理","depth":3,"text":"UI 框架的解耦處理"},{"id":"架構與模組的升級","depth":3,"text":"架構與模組的升級"},{"id":"改寫為-typescript","depth":3,"text":"改寫為 TypeScript"},{"id":"ui-框架的挑選","depth":3,"text":"UI 框架的挑選？"}]},{"id":"步驟整理","depth":2,"text":"步驟整理"}]}},"_type":"markdown","_id":"content:articles:2024:nuxt2_to_nuxt3_blog_0_intro.md","_source":"content","_file":"articles/2024/nuxt2_to_nuxt3_blog_0_intro.md","_extension":"md","createdAt":"2024-01-23T05:33:23.000Z","updatedAt":"2024-01-24T07:26:04.000Z","slug":"nuxt2_to_nuxt3_blog_0_intro","plainTexts":["從去年年初開始建置的這個部落格網站，邊寫文章的同時陸陸續續補上功能後，大概到上個月才終於像是有個部落格的樣子。但由於","Nuxt2 即將在 2024/06/30 停止官方支援","，而作為基底的","Vue2 更是在 2023/12/31 已停止官方支援","，所以……想說要做的新功能可能先放著，先把部落格從 Nuxt2 升級到 Nuxt3 比較好。","大概做了一些研究覺得是個浩大工程，所以想說來紀錄一下升級的艱辛（？）過程，希望趕得及在 Nuxt2 結束生命週期之前升級成功。","規劃","首先是事前規劃的部份，說是規劃也不算是，就是稍微想一下怎麼做會比較順一點。","UI 框架的解耦處理","首先呢，看一看官方的升級文件後再回來看自己的部落格，覺得升級過程中最麻煩的應該是 UI 框架。","目前使用的 BootstrapVue 並無 Nuxt3 版本，雖然有其他大神嘗試開發的","BoostrapVue Next","，但仍處於早期階段，覺得還無法直接使用於正式環境。若使用其他已支援 Nuxt3 / Vue3 的 UI 框架如","Vuetify","、","Vuestic","，就可能需要連同元件的結構一起大翻修，考慮到元件的使用方式可能不一樣、所制定的 scss 變數也不同，一次要全部汰換還是太花時間。","後來想想，決定先把目前 bootsrapVue 的部份抽換成自己實做的 bootstrap5，藉此解耦 UI 框架與 Vue2 的依賴以降低升級 Nuxt3 的痛苦，並且保留升級後才選擇 UI 框架的機會。","架構與模組的升級","UI 框架解決之後，下一步就是升級架構，這部份猜想主要的阻力應該會是調整模組以對應 Nuxt3 中的使用方式，但覺得有文件參考的話應該都還好，此階段也會順便把原本的 options api 模式改寫成新的 composition api。","改寫為 TypeScript","接著便可以開始把元件改寫為 TypeScript，一方面是單純自己想跟上目前的潮流（？），一方面是之前稍微玩過 TypeScript，覺得 ts 自動完成的完整程度很驚人，對於開發過程助益不小。","UI 框架的挑選？","整個都結束後，最後就可以來挑 UI 框架，私心是希望到時 BoostrapVue Next 已有正式版……這樣過程應該會比較不痛苦些，不過也有考慮嘗試 TailwindCSS 或基於其開發的 UI 框架，不過這應該是很後面而且比較跟升級過程無關的部份了，就到時再看看吧。","步驟整理","那麼來整理一下成條列式，雖然是個人專案沒有 PM 在盯，比較不用在意時程……但還是順便規劃一下。每個階段都是獨立的，結束後測試完都可先上線一版。","bootstrapVue 抽換為自己實做的 bootstrap5（預計 1 周）","將專案架構升級為 Nuxt3 並置換模組及使用方式（預計 2~3 周）","將專案的程式部份改寫為 TypeScript 與 composition api（預計 2~3 周）","UI 框架的挑選就先不列入，畢竟還不確定要選哪個，等三個階段結束後再看看。","大概就是這樣，希望過程順利了。"]},{"_path":"/articles/2024/nuxt2_to_nuxt3_blog_1_ui","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"部落格Nuxt 2升級Nuxt 3（一）：bootstrapVue置換成自製的bootrap5元件","description":"如之前規劃，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。","img":"924/Ia2nWi.png","tags":["blog","nuxt","vue","nuxt2","nuxt3","bootstrapVue","bootstrap 4","bootstrap 5","bootstrap"],"category":"frontend","readingTime":{"text":"4 min read","minutes":3.53,"time":211800,"words":706},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如"},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt2_to_nuxt3_blog_0_intro"},"children":[{"type":"text","value":"之前規劃"}]},{"type":"text","value":"，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如"},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt2_to_nuxt3_blog_0_intro"},"children":[{"type":"text","value":"之前規劃"}]},{"type":"text","value":"，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"modal"},"children":[{"type":"text","value":"Modal"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"元件中比較麻煩的是 Modal，原生的 Bootstrap 的 Modal 會在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"body"}]},{"type":"text","value":"加上一個"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"div.modal-backdrop"}]},{"type":"text","value":"元素作為底層，原本的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".modal"}]},{"type":"text","value":"元素則保留在原本的位置，如果遇到上層元素有"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"position: sticky;"}]},{"type":"text","value":"或是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"position: absolute"}]},{"type":"text","value":"等等會用到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"z-index"}]},{"type":"text","value":"的 css 屬性，會導致"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".modal"}]},{"type":"text","value":"元素因為跟著上層元素的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"z-index"}]},{"type":"text","value":"計算而被"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"div.modal-backdrop"}]},{"type":"text","value":"遮住。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"例如："}]},{"type":"element","tag":"pre","props":{"className":"language-html shiki shiki-themes github-dark","code":"<header class=\"position-stickty\" style=\"z-index: 10;\">\n  <div class=\"modal\"></div>\n</header>\n","language":"html","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"header"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"position-stickty\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" style"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"z-index: 10;\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" class"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"modal\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"header"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"原本 bootstrapVue 的作法，是把"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".modal-backdrop"}]},{"type":"text","value":"元素連同"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".modal"}]},{"type":"text","value":"元素一起加到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"body"}]},{"type":"text","value":"裡面，使其脫離可能受影響的父層，猜想這邊應該是使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$mount"}]},{"type":"text","value":"去做處理。但因為部落格用到的 modal 元件很少而且全部都在 header 裡面（基本上等於全域），所以就乾脆移轉到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"layouts/default.vue"}]},{"type":"text","value":"元件裡了，開關則從 store 做處理。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"畢竟之後還會再更換 UI 框架，這邊就簡單處理，升上 Nuxt 3 之後再直接使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<Teleport>"}]},{"type":"text","value":"元件。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"directives"},"children":[{"type":"text","value":"Directives"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第二麻煩的則是 directives，部落格用到的 bootstrapVue directives 有兩個："},{"type":"element","tag":"a","props":{"href":"https://bootstrap-vue.org/docs/directives/visible","rel":["nofollow"]},"children":[{"type":"text","value":"Visible"}]},{"type":"text","value":"、"},{"type":"element","tag":"a","props":{"href":"https://bootstrap-vue.org/docs/directives/scrollspy","rel":["nofollow"]},"children":[{"type":"text","value":"Scollspy"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"h3","props":{"id":"visible"},"children":[{"type":"text","value":"Visible"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為之前已經有使用 IntersectionObserver 實做延遲載入的經驗，自己覺得 Visible 不算太難。自己寫起來大概長這樣："}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes github-dark","code":"let intersectionObserver = null\n\nexport default {\n  inserted(el, { value }) {\n    if (typeof value === 'function') {\n      intersectionObserver = new IntersectionObserver((entries) => {\n        value(entries[0].intersectionRatio > 0)\n      })\n\n      intersectionObserver.observe(el)\n    }\n  },\n  unbind() {\n    if (\n      intersectionObserver &&\n      intersectionObserver instanceof IntersectionObserver\n    ) {\n      intersectionObserver.disconnect()\n    }\n  },\n}\n","filename":"bVisible.js","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" intersectionObserver "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" null\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"  inserted"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"el"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" }) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"    if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"typeof"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" value "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"==="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 'function'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      intersectionObserver "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" IntersectionObserver"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"entries"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"        value"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(entries["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"].intersectionRatio "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 0"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      intersectionObserver."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"observe"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(el)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"  unbind"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"    if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" (\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      intersectionObserver "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"&&\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      intersectionObserver "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"instanceof"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" IntersectionObserver\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    ) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      intersectionObserver."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"disconnect"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"scrollspy"},"children":[{"type":"text","value":"Scrollspy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Scrollspy 是 bootstrap "},{"type":"element","tag":"a","props":{"href":"https://getbootstrap.com/docs/5.3/components/scrollspy/","rel":["nofollow"]},"children":[{"type":"text","value":"原生內建的功能"}]},{"type":"text","value":"，主要目的是用來偵測滾動的元素 ID 若與在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".nav .nav-item .nav-link"}]},{"type":"text","value":"裡面"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"href"}]},{"type":"text","value":"的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"hash"}]},{"type":"text","value":"相符的話，就給予"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"active"}]},{"type":"text","value":"的 class。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自己寫出來大概長這樣："}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes github-dark","code":"let Scrollspy = null\nlet scrollSpy = null\n\nexport default {\n  inserted(target) {\n    if (process.client) {\n      if (!Scrollspy) Scrollspy = require('bootstrap/js/dist/scrollspy')\n      scrollSpy = new Scrollspy(document.body, { target })\n    }\n  },\n  unbind() {\n    scrollSpy.dispose()\n  },\n  componentUpdated() {\n    scrollSpy.refresh()\n  },\n}\n","filename":"bScrollspy.js","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" Scrollspy "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" null\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" scrollSpy "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" null\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"  inserted"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"target"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"    if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" (process.client) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"      if"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"Scrollspy) Scrollspy "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" require"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'bootstrap/js/dist/scrollspy'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      scrollSpy "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" new"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" Scrollspy"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(document.body, { target })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"  unbind"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    scrollSpy."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"dispose"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"  componentUpdated"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    scrollSpy."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"refresh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為 Scrollspy 包含 client 端的程式碼操作，要判斷"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"process.client"}]},{"type":"text","value":"才初始化，否則使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"npm run dev"}]},{"type":"text","value":"或是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"npm run generate"}]},{"type":"text","value":"時會有錯誤。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"暗黑模式"},"children":[{"type":"text","value":"暗黑模式"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後是暗黑模式，bootstrap5 內建"},{"type":"element","tag":"a","props":{"href":"https://getbootstrap.com/docs/5.3/customize/color-modes/#dark-mode","rel":["nofollow"]},"children":[{"type":"text","value":"暗黑模式"}]},{"type":"text","value":"，使用方式也滿簡單的，就是直接在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"html"}]},{"type":"text","value":"標籤上加上"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"data-bs-theme=\"dark\""}]},{"type":"text","value":"："}]},{"type":"element","tag":"pre","props":{"className":"language-html shiki shiki-themes github-dark","code":"<html data-bs-theme=\"dark\"></html>\n","language":"html","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"html"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" data-bs-theme"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"dark\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"html"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"基本的元件若沒有用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"text-white"}]},{"type":"text","value":"或是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"bg-white"}]},{"type":"text","value":"之類的樣式覆寫，就會自動根據暗黑模式而更改了，若有需要特別區分出像這個部落格一樣的前景、背景色之類的，可以參考"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"node_modules/bootstrap/scss/variables-dark\""}]},{"type":"text","value":"檔案，去使用已經內建的一些變數來簡單做出暗黑模式。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在部落格升級的過程中，自己覺得比較困難或要特別注意的就是上述這幾個了。其他像原本代表左右的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"l"}]},{"type":"text","value":"與"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"r"}]},{"type":"text","value":"要換成"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"start"}]},{"type":"text","value":"與"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"end"}]},{"type":"text","value":"、圓角使用的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rounded"}]},{"type":"text","value":"大小不再是使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sm"}]},{"type":"text","value":"/"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lg"}]},{"type":"text","value":"這種而是轉用數字……之類的小事，直接看"},{"type":"element","tag":"a","props":{"href":"https://getbootstrap.com/docs/5.3/migration/","rel":["nofollow"]},"children":[{"type":"text","value":"官方的升級指引"}]},{"type":"text","value":"就 OK。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"modal","depth":2,"text":"Modal"},{"id":"directives","depth":2,"text":"Directives","children":[{"id":"visible","depth":3,"text":"Visible"},{"id":"scrollspy","depth":3,"text":"Scrollspy"}]},{"id":"暗黑模式","depth":2,"text":"暗黑模式"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2024:nuxt2_to_nuxt3_blog_1_ui.md","_source":"content","_file":"articles/2024/nuxt2_to_nuxt3_blog_1_ui.md","_extension":"md","createdAt":"2024-01-23T05:33:23.000Z","updatedAt":"2024-01-24T07:26:04.000Z","slug":"nuxt2_to_nuxt3_blog_1_ui","plainTexts":["如","之前規劃","，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。","Modal","元件中比較麻煩的是 Modal，原生的 Bootstrap 的 Modal 會在","body","加上一個","div.modal-backdrop","元素作為底層，原本的",".modal","元素則保留在原本的位置，如果遇到上層元素有","position: sticky;","或是","position: absolute","等等會用到","z-index","的 css 屬性，會導致",".modal","元素因為跟著上層元素的","z-index","計算而被","div.modal-backdrop","遮住。","例如：","<","header","class","=","\"position-stickty\"","style","=","\"z-index: 10;\"",">","<","div","class","=","\"modal\"","></","div",">","</","header",">","原本 bootstrapVue 的作法，是把",".modal-backdrop","元素連同",".modal","元素一起加到","body","裡面，使其脫離可能受影響的父層，猜想這邊應該是使用","$mount","去做處理。但因為部落格用到的 modal 元件很少而且全部都在 header 裡面（基本上等於全域），所以就乾脆移轉到","layouts/default.vue","元件裡了，開關則從 store 做處理。","畢竟之後還會再更換 UI 框架，這邊就簡單處理，升上 Nuxt 3 之後再直接使用","<Teleport>","元件。","Directives","第二麻煩的則是 directives，部落格用到的 bootstrapVue directives 有兩個：","Visible","、","Scollspy","。","Visible","因為之前已經有使用 IntersectionObserver 實做延遲載入的經驗，自己覺得 Visible 不算太難。自己寫起來大概長這樣：","let","intersectionObserver","=","null","","export","default","{","inserted","(","el",", {","value","}) {","if","(","typeof","value","===","'function'",") {","intersectionObserver","=","new","IntersectionObserver","((","entries",")","=>","{","value","(entries[","0","].intersectionRatio",">","0",")","})","","intersectionObserver.","observe","(el)","}","},","unbind","() {","if","(","intersectionObserver","&&","intersectionObserver","instanceof","IntersectionObserver",") {","intersectionObserver.","disconnect","()","}","},","}","Scrollspy","Scrollspy 是 bootstrap","原生內建的功能","，主要目的是用來偵測滾動的元素 ID 若與在",".nav .nav-item .nav-link","裡面","href","的","hash","相符的話，就給予","active","的 class。","自己寫出來大概長這樣：","let","Scrollspy","=","null","let","scrollSpy","=","null","","export","default","{","inserted","(","target",") {","if","(process.client) {","if","(","!","Scrollspy) Scrollspy","=","require","(","'bootstrap/js/dist/scrollspy'",")","scrollSpy","=","new","Scrollspy","(document.body, { target })","}","},","unbind","() {","scrollSpy.","dispose","()","},","componentUpdated","() {","scrollSpy.","refresh","()","},","}","因為 Scrollspy 包含 client 端的程式碼操作，要判斷","process.client","才初始化，否則使用","npm run dev","或是","npm run generate","時會有錯誤。","暗黑模式","最後是暗黑模式，bootstrap5 內建","暗黑模式","，使用方式也滿簡單的，就是直接在","html","標籤上加上","data-bs-theme=\"dark\"","：","<","html","data-bs-theme","=","\"dark\"","></","html",">","基本的元件若沒有用","text-white","或是","bg-white","之類的樣式覆寫，就會自動根據暗黑模式而更改了，若有需要特別區分出像這個部落格一樣的前景、背景色之類的，可以參考","node_modules/bootstrap/scss/variables-dark\"","檔案，去使用已經內建的一些變數來簡單做出暗黑模式。","後記","在部落格升級的過程中，自己覺得比較困難或要特別注意的就是上述這幾個了。其他像原本代表左右的","l","與","r","要換成","start","與","end","、圓角使用的","rounded","大小不再是使用","sm","/","lg","這種而是轉用數字……之類的小事，直接看","官方的升級指引","就 OK。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2024/nuxt2_to_nuxt3_blog_2_settings","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"部落格Nuxt 2升級Nuxt 3（二）：基本架構與設定值","description":"在抽換 UI 框架之後，接下來就開始真正的升級之旅了。參考官方的升級指南，第一步就是先修改設定值。","img":"924/Ia2nWi.png","tags":["blog","nuxt","vue","nuxt2","nuxt3"],"category":"frontend","readingTime":{"text":"4 min read","minutes":3.835,"time":230100,"words":767},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在"},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt2_to_nuxt3_blog_1_ui"},"children":[{"type":"text","value":"抽換 UI 框架"}]},{"type":"text","value":"之後，接下來就開始真正的升級之旅了。參考"},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/migration/overview","rel":["nofollow"]},"children":[{"type":"text","value":"官方的升級指南"}]},{"type":"text","value":"，第一步就是先修改設定值。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在"},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt2_to_nuxt3_blog_1_ui"},"children":[{"type":"text","value":"抽換 UI 框架"}]},{"type":"text","value":"之後，接下來就開始真正的升級之旅了。參考"},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/migration/overview","rel":["nofollow"]},"children":[{"type":"text","value":"官方的升級指南"}]},{"type":"text","value":"，第一步就是先修改設定值。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"非模組的設定值"},"children":[{"type":"text","value":"非模組的設定值"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那麼，首先從原本的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":"中轉移非模組的設定值。"}]},{"type":"element","tag":"h3","props":{"id":"基本設定"},"children":[{"type":"text","value":"基本設定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"網站用到的基本設定值不多，變動也不大，就一起整理在這邊。雖然官方有 "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/getting-started/upgrade#nuxt-2-to-nuxt-3","rel":["nofollow"]},"children":[{"type":"text","value":"Upgrade Guide"}]},{"type":"text","value":" 可以看，但有些設定值沒有提到，我最終還是打開兩個版本的文件自己去對應起來。"}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes github-dark","code":"export default defineNuxtConfig({\n  /* Nuxt 3 只要直接使用generate指令就可以了，不用指定target。 */\n  // target: 'static',\n\n  /* Nuxt 3 若使用Vite預設就是modern build，不須額外指定。 */\n  // modern: 'client',\n\n  /* Nuxt 3 預設會自動解析components/資料夾下的元件 */\n  // components: true,\n\n  /* publicRuntimeConfig要改用runtimeConfig.public */\n  //   publicRuntimeConfig: {},\n  runtimeConfig: {\n    public: {},\n  },\n\n  /* router.base要改成app.baseURL */\n  //   router: {\n  //     base,\n  //   },\n  app: {\n    baseURL,\n  },\n\n  /* 原本的static可以選擇改名成public或是於設定值中指定，這邊保留資料夾名稱並設定。 */\n  dir: {\n    public: 'static',\n  },\n\n  /* global css直接平移即可 */\n  css: [\n    // SCSS file in the project\n    '~/assets/css/main.scss',\n  ],\n\n  /* 原本的style-resources模組可透過vite內建功能完成 */\n  // styleResources: {\n  //   // your settings here\n  //   scss: ['~/assets/css/custom.scss'],\n  //   // hoistUseStatements: true  // Hoists the \"@use\" imports. Applies only to \"sass\", \"scss\" and \"less\". Default: false.\n  // },\n  vite: {\n    css: {\n      preprocessorOptions: {\n        scss: {\n          additionalData(source: string, fp: string) {\n            // 由於這個設定值也會影響編譯scss檔案，需要排除。\n            return fp.endsWith('scss')\n              ? source\n              : `@import \"~/assets/css/custom.module.scss\"; ${source}`\n          },\n        },\n      },\n    },\n  },\n\n  /* 原本Webpack中的extractCSS對應的設定是將features.inlineStyles設為false */\n  // build: {\n  //   extractCSS: true,\n  // },\n  features: {\n    inlineStyles: false,\n  },\n})\n","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  /* Nuxt 3 只要直接使用generate指令就可以了，不用指定target。 */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // target: 'static',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  /* Nuxt 3 若使用Vite預設就是modern build，不須額外指定。 */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // modern: 'client',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  /* Nuxt 3 預設會自動解析components/資料夾下的元件 */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // components: true,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  /* publicRuntimeConfig要改用runtimeConfig.public */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //   publicRuntimeConfig: {},\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  runtimeConfig: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    public: {},\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  /* router.base要改成app.baseURL */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //   router: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //     base,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //   },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  app: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    baseURL,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  /* 原本的static可以選擇改名成public或是於設定值中指定，這邊保留資料夾名稱並設定。 */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  dir: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    public: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'static'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  /* global css直接平移即可 */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  css: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    // SCSS file in the project\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":33},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"    '~/assets/css/main.scss'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":34},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":35},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":36},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  /* 原本的style-resources模組可透過vite內建功能完成 */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":37},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // styleResources: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":38},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //   // your settings here\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":39},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //   scss: ['~/assets/css/custom.scss'],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":40},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //   // hoistUseStatements: true  // Hoists the \"@use\" imports. Applies only to \"sass\", \"scss\" and \"less\". Default: false.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":41},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":42},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  vite: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":43},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    css: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":44},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      preprocessorOptions: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":45},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        scss: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":46},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"          additionalData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"source"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" string"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"fp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" string"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":47},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"            // 由於這個設定值也會影響編譯scss檔案，需要排除。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":48},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"            return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" fp."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"endsWith"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'scss'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":49},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"              ?"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" source\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":50},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"              :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" `@import \"~/assets/css/custom.module.scss\"; ${"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"source"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"}`\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":51},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":52},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":53},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":54},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":55},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":56},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":57},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  /* 原本Webpack中的extractCSS對應的設定是將features.inlineStyles設為false */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":58},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // build: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":59},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //   extractCSS: true,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":60},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":61},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  features: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":62},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    inlineStyles: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":63},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":64},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"head-設定"},"children":[{"type":"text","value":"Head 設定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這部份也沒什麼太大差異，網站有用到的部份除了原本 Nuxt 2 中的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"head"}]},{"type":"text","value":"移到 Nuxt 3 之後要用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app"}]},{"type":"text","value":"包起來以外，就是 meta 標籤的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"hid"}]},{"type":"text","value":"要改成使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"key"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes github-dark","code":"export default defineNuxtConfig({\n  //   head: {\n  //     meta: [{ hid: 'charset', charset: 'utf-8' }],\n  //   },\n  app: {\n    head: {\n      /* 一些其他的設定值 */\n      meta: [{ key: 'charset', charset: 'utf-8' }],\n    },\n  },\n})\n","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //   head: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //     meta: [{ hid: 'charset', charset: 'utf-8' }],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //   },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  app: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    head: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      /* 一些其他的設定值 */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      meta: [{ key: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'charset'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", charset: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'utf-8'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" }],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"apphtml-appvue"},"children":[{"type":"text","value":"app.html → app.vue"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 2 有一個可自訂的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app.html"}]},{"type":"text","value":"檔案，如果要簡單新增一些靜態檔案，可以透過直接新增並編輯這個檔案來完成，但 Nuxt3 之後只有"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app.vue"}]},{"type":"text","value":"可以使用，要稍微調整一下。"}]},{"type":"element","tag":"h3","props":{"id":"gtm-google-analytics"},"children":[{"type":"text","value":"GTM / Google Analytics"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第一個通常會用到這檔案的功能就是第三方的數據分析了，這個可以直接使用設定值中的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app.head"}]},{"type":"text","value":"來處理："}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark","code":"import { defineNuxtConfig } from 'nuxt/config'\nexport default defineNuxtConfig({\n  app: {\n    head: {\n      script: [\n        {\n          async: true,\n          src: 'https://www.googletagmanager.com/gtag/js?id=G-ABCDEFGHI1',\n          // 設定script優先順序以滿足GTM設置的要求\n          tagPriority: 'critical',\n        },\n        {\n          innerHTML: `window.dataLayer = window.dataLayer || []\n          function gtag() {\n            dataLayer.push(arguments)\n          }\n          gtag('js', new Date())\n    \n          gtag('config', 'G-ABCDEFGHI1')`,\n          // 設定script優先順序以滿足GTM設置的要求\n          tagPriority: 'critical',\n        },\n      ],\n    },\n  },\n})\n","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { defineNuxtConfig } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 'nuxt/config'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  app: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    head: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      script: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          async: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          src: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'https://www.googletagmanager.com/gtag/js?id=G-ABCDEFGHI1'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"          // 設定script優先順序以滿足GTM設置的要求\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          tagPriority: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'critical'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          innerHTML: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"`window.dataLayer = window.dataLayer || []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"          function gtag() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"            dataLayer.push(arguments)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"          }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"          gtag('js', new Date())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"    \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"          gtag('config', 'G-ABCDEFGHI1')`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"          // 設定script優先順序以滿足GTM設置的要求\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          tagPriority: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'critical'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"額外的元素"},"children":[{"type":"text","value":"額外的元素"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"自己還有用到的就是之前"},{"type":"element","tag":"article-inner-link","props":{"slug":"mobile_chrome_sticky_bottom"},"children":[]},{"type":"text","value":"提到的解決辦法：在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"body"}]},{"type":"text","value":"之下新增一個"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<div style=\"position: fixed;\"></div>"}]},{"type":"text","value":"。這個在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app.vue"}]},{"type":"text","value":"中可以直接透過"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<Teleport />"}]},{"type":"text","value":"元件來處理："}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes github-dark","code":"<template>\n  <NuxtLayout>\n    <NuxtPage />\n  </NuxtLayout>\n\n  <Teleport to=\"body\">\n    <!-- 解決底部sticky問題 -->\n    <div style=\"position: fixed\"></div>\n  </Teleport>\n</template>\n","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"NuxtLayout"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"NuxtPage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"NuxtLayout"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"Teleport"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" to"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"body\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    <!-- 解決底部sticky問題 -->\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" style"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"position"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"fixed"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"Teleport"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"非模組的設定值","depth":2,"text":"非模組的設定值","children":[{"id":"基本設定","depth":3,"text":"基本設定"},{"id":"head-設定","depth":3,"text":"Head 設定"}]},{"id":"apphtml-appvue","depth":2,"text":"app.html → app.vue","children":[{"id":"gtm-google-analytics","depth":3,"text":"GTM / Google Analytics"},{"id":"額外的元素","depth":3,"text":"額外的元素"}]}]}},"_type":"markdown","_id":"content:articles:2024:nuxt2_to_nuxt3_blog_2_settings.md","_source":"content","_file":"articles/2024/nuxt2_to_nuxt3_blog_2_settings.md","_extension":"md","createdAt":"2024-01-24T07:26:04.000Z","updatedAt":"2024-01-24T07:26:04.000Z","slug":"nuxt2_to_nuxt3_blog_2_settings","plainTexts":["在","抽換 UI 框架","之後，接下來就開始真正的升級之旅了。參考","官方的升級指南","，第一步就是先修改設定值。","非模組的設定值","那麼，首先從原本的","nuxt.config.js","中轉移非模組的設定值。","基本設定","網站用到的基本設定值不多，變動也不大，就一起整理在這邊。雖然官方有","Upgrade Guide","可以看，但有些設定值沒有提到，我最終還是打開兩個版本的文件自己去對應起來。","export","default","defineNuxtConfig","({","/* Nuxt 3 只要直接使用generate指令就可以了，不用指定target。 */","// target: 'static',","","/* Nuxt 3 若使用Vite預設就是modern build，不須額外指定。 */","// modern: 'client',","","/* Nuxt 3 預設會自動解析components/資料夾下的元件 */","// components: true,","","/* publicRuntimeConfig要改用runtimeConfig.public */","//   publicRuntimeConfig: {},","runtimeConfig: {","public: {},","},","","/* router.base要改成app.baseURL */","//   router: {","//     base,","//   },","app: {","baseURL,","},","","/* 原本的static可以選擇改名成public或是於設定值中指定，這邊保留資料夾名稱並設定。 */","dir: {","public:","'static'",",","},","","/* global css直接平移即可 */","css: [","// SCSS file in the project","'~/assets/css/main.scss'",",","],","","/* 原本的style-resources模組可透過vite內建功能完成 */","// styleResources: {","//   // your settings here","//   scss: ['~/assets/css/custom.scss'],","//   // hoistUseStatements: true  // Hoists the \"@use\" imports. Applies only to \"sass\", \"scss\" and \"less\". Default: false.","// },","vite: {","css: {","preprocessorOptions: {","scss: {","additionalData","(","source",":","string",",","fp",":","string",") {","// 由於這個設定值也會影響編譯scss檔案，需要排除。","return","fp.","endsWith","(","'scss'",")","?","source",":","`@import \"~/assets/css/custom.module.scss\"; ${","source","}`","},","},","},","},","},","","/* 原本Webpack中的extractCSS對應的設定是將features.inlineStyles設為false */","// build: {","//   extractCSS: true,","// },","features: {","inlineStyles:","false",",","},","})","Head 設定","這部份也沒什麼太大差異，網站有用到的部份除了原本 Nuxt 2 中的","head","移到 Nuxt 3 之後要用","app","包起來以外，就是 meta 標籤的","hid","要改成使用","key","。","export","default","defineNuxtConfig","({","//   head: {","//     meta: [{ hid: 'charset', charset: 'utf-8' }],","//   },","app: {","head: {","/* 一些其他的設定值 */","meta: [{ key:","'charset'",", charset:","'utf-8'","}],","},","},","})","app.html → app.vue","Nuxt 2 有一個可自訂的","app.html","檔案，如果要簡單新增一些靜態檔案，可以透過直接新增並編輯這個檔案來完成，但 Nuxt3 之後只有","app.vue","可以使用，要稍微調整一下。","GTM / Google Analytics","第一個通常會用到這檔案的功能就是第三方的數據分析了，這個可以直接使用設定值中的","app.head","來處理：","import","{ defineNuxtConfig }","from","'nuxt/config'","export","default","defineNuxtConfig","({","app: {","head: {","script: [","{","async:","true",",","src:","'https://www.googletagmanager.com/gtag/js?id=G-ABCDEFGHI1'",",","// 設定script優先順序以滿足GTM設置的要求","tagPriority:","'critical'",",","},","{","innerHTML:","`window.dataLayer = window.dataLayer || []","function gtag() {","dataLayer.push(arguments)","}","gtag('js', new Date())","","gtag('config', 'G-ABCDEFGHI1')`",",","// 設定script優先順序以滿足GTM設置的要求","tagPriority:","'critical'",",","},","],","},","},","})","額外的元素","自己還有用到的就是之前","提到的解決辦法：在","body","之下新增一個","<div style=\"position: fixed;\"></div>","。這個在","app.vue","中可以直接透過","<Teleport />","元件來處理：","<","template",">","<","NuxtLayout",">","<","NuxtPage","/>","</","NuxtLayout",">","","<","Teleport","to","=","\"body\"",">","<!-- 解決底部sticky問題 -->","<","div","style","=","\"","position",":","fixed","\"","></","div",">","</","Teleport",">","</","template",">","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2024/nuxt2_to_nuxt3_blog_3_modules_content","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"部落格Nuxt 2升級Nuxt 3（三）：Nuxt Content v1 → v2","description":"在初步修改非模組的設定值之後，接著就要開始著手模組的升級，這部份是連同改寫為 composition api 一起做的，畢竟不可能只升級特定模組的用法而不去動到其他程式碼，但為了讓文章閱讀容易，就還是分模組來紀錄。","img":"924/Ia2nWi.png","tags":["blog","nuxt","vue","nuxt2","nuxt3","nuxt content"],"category":"frontend","readingTime":{"text":"7 min read","minutes":6.025,"time":361500,"words":1205},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在"},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt2_to_nuxt3_blog_2_settings"},"children":[{"type":"text","value":"初步修改非模組的設定值"}]},{"type":"text","value":"之後，接著就要開始著手模組的升級，這部份是連同改寫為 composition api 一起做的，畢竟不可能只升級特定模組的用法而不去動到其他程式碼，但為了讓文章閱讀容易，就還是分模組來紀錄。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在"},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt2_to_nuxt3_blog_2_settings"},"children":[{"type":"text","value":"初步修改非模組的設定值"}]},{"type":"text","value":"之後，接著就要開始著手模組的升級，這部份是連同改寫為 composition api 一起做的，畢竟不可能只升級特定模組的用法而不去動到其他程式碼，但為了讓文章閱讀容易，就還是分模組來紀錄。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那麼，首先是部落格最重要的驅動基底：Nuxt Content。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"相關資料夾結構修改"},"children":[{"type":"text","value":"相關資料夾結構修改"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第一步先來修改相關的資料夾結構。"}]},{"type":"element","tag":"h3","props":{"id":"content-資料夾"},"children":[{"type":"text","value":"content 資料夾"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"原本"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"content"}]},{"type":"text","value":"資料夾中下面的子資料夾結構是："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"articles/年份/文章們.md"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"draft/草稿們.md"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這部份的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"draft"}]},{"type":"text","value":"原本是透過查詢時直接排除，不過 Nuxt Content v2 可以透過前面加上一個"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"."}]},{"type":"text","value":"來讓整個資料夾及其下的文章「隱身」，參考"},{"type":"element","tag":"a","props":{"href":"https://content.nuxt.com/usage/content-directory","rel":["nofollow"]},"children":[{"type":"text","value":"官方文件"}]},{"type":"text","value":"修改如下："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".draft/草稿們.md"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"articles"}]},{"type":"text","value":"的部份就不用動了。"}]},{"type":"element","tag":"h3","props":{"id":"componentsglobal-componentscontent"},"children":[{"type":"text","value":"components/global → components/content"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若要在文章中直接使用元件，原本是放在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"components/global"}]},{"type":"text","value":"，Nuxt Content v2 中要改放在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"components/content"}]},{"type":"text","value":"裡面。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"nuxt-content-git"},"children":[{"type":"text","value":"nuxt-content-git"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個模組沒什麼需要修改的，直接"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"npm install nuxt-content-git"}]},{"type":"text","value":"然後在設定值中的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"modules"}]},{"type":"text","value":"啟用就可以了，使用原因可以看之前的文章："},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt2_content_git"},"children":[]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"為文章新增-reading-time"},"children":[{"type":"text","value":"為文章新增 reading-time"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Nuxt Content v1 時我使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"hooks"}]},{"type":"text","value":"中的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"content:file:beforeInsert"}]},{"type":"text","value":"來動態計算文章的閱讀時間，不過新版可以直接透過新增 "},{"type":"element","tag":"a","props":{"href":"https://github.com/remarkjs/remark/blob/main/doc/plugins.md","rel":["nofollow"]},"children":[{"type":"text","value":"remarkPlugins"}]},{"type":"text","value":" 來完成，首先先安裝 reading-time 的 plugin："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"npm install -D remark-reading-time\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -D"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" remark-reading-time\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark","code":"export default defineNuxtConfig({\n  content: {\n    markdown: {\n      // 接著新增設定值\n      remarkPlugins: ['remark-reading-time'],\n    },\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  content: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    markdown: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      // 接著新增設定值\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      remarkPlugins: ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'remark-reading-time'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這邊回壓到文章物件身上的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"readingTime"}]},{"type":"text","value":"會是物件，可以看自己需要取出對應的欄位來使用："}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes github-dark","code":"{\n  \"text\": \"1 min read\",\n  \"minutes\": 1,\n  \"time\": 60000,\n  \"words\": 200\n}\n","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  \"text\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"1 min read\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  \"minutes\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  \"time\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"60000"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  \"words\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"200\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"自定義元件"},"children":[{"type":"text","value":"自定義元件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt Content v1 中我透過"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"content.markdown.highlighter"}]},{"type":"text","value":"來將 markdown 解析出來的 code 區塊"},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt2_content_code_block_copy_paste"},"children":[{"type":"text","value":"包上自己客製的元件來達成複製貼上程式碼功能"}]},{"type":"text","value":"，在 Nuxt Content v2 中可透過直接覆蓋設定值完成："}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark","code":"export default defineNuxtConfig({\n  content: {\n    markdown: {\n      tags: {\n        pre: 'ArticleCode',\n      },\n    },\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  content: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    markdown: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      tags: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        pre: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'ArticleCode'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"方便好多 XD。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"自行補上-slug"},"children":[{"type":"text","value":"自行補上 slug"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 Nuxt Content v1 中，文章本身的檔名會變成"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"slug"}]},{"type":"text","value":"屬性，但在 v2 中則是使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"_id"}]},{"type":"text","value":"而且會是串上文章所屬路徑的，例如這樣："}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes github-dark","code":"{\n  \"_id\": \"content:articles:2024:nuxt2_to_nuxt3_blog_3_modules_content.md\"\n}\n","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  \"_id\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"content:articles:2024:nuxt2_to_nuxt3_blog_3_modules_content.md\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"由於我原本使用滿多"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"slug"}]},{"type":"text","value":"來做事，若要修改為使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"_id"}]},{"type":"text","value":"變動會太大，所以這邊使用 "},{"type":"element","tag":"a","props":{"href":"https://content.nuxt.com/recipes/hooks","rel":["nofollow"]},"children":[{"type":"text","value":"Hooks"}]},{"type":"text","value":" 來自己補上"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"slug"}]},{"type":"text","value":"的欄位，根據官方文件需要新增一個檔案"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"server/plugins/content.js"}]},{"type":"text","value":"："}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes github-dark","code":"export default defineNitroPlugin((nitroApp) => {\n  nitroApp.hooks.hook('content:file:afterParse', (file) => {\n    const slug = file._path.split('/').pop()\n    file.slug = slug\n  })\n})\n","filename":"server/plugins/content.js","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNitroPlugin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"nitroApp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  nitroApp.hooks."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"hook"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'content:file:afterParse'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" slug"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" file._path."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"split"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"pop"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    file.slug "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" slug\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"未穩定的搜尋功能"},"children":[{"type":"text","value":"未穩定的搜尋功能"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt Content v2 有內建滿強大的全文模糊搜尋， v3 的搜尋功能雖然目前仍是「實驗（experimental）」階段，但試做之後沒啥問題，這邊紀錄一下設定跟使用方式。"}]},{"type":"element","tag":"h3","props":{"id":"啟用搜尋功能"},"children":[{"type":"text","value":"啟用搜尋功能"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那麼首先是啟用搜尋功能，修改"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":"："}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark","code":"export default defineNuxtConfig({\n  content: {\n    experimental: {\n      // 官方文件是這樣寫，但這樣會無法通過ts檢查。\n      // search: true,\n      search: {\n        indexed: true,\n      },\n    },\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  content: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    experimental: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      // 官方文件是這樣寫，但這樣會無法通過ts檢查。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      // search: true,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      search: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        indexed: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"搜尋文章寫法"},"children":[{"type":"text","value":"搜尋文章寫法"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"搜尋也很容易，以下為自己簡單寫的範例："}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes github-dark","code":"<template>\n  <div>\n    <input v-model=\"keyword\" type=\"text\" />\n    <button type=\"button\" @click=\"refresh\">搜尋</button>\n\n    <hr />\n    {{ results }}\n  </div>\n</template>\n\n<script setup>\nconst keyword = ref('')\n\nconst { data: results, refresh } = await useAsyncData(\n  `search:${keyword.value}`,\n  () => searchContent(keyword),\n  {\n    server: false,\n    immediate: false,\n    default: () => [],\n  }\n)\n</script>\n","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"input"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" v-model"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"keyword"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" type"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"text\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" type"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"button\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" @"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"click"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"refresh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">搜尋</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"hr"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    {{ results }}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" keyword"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" ref"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"results"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"refresh"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" useAsyncData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"  `search:${"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"keyword"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"}`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  () "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" searchContent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(keyword),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    server: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    immediate: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"    default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": () "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" [],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"會回傳像下面這樣結果的陣列，可以根據需要使用欄位。"}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes github-dark","code":"[\n  {\n    \"id\": \"/articles/2023/buy_me_a_tea#關於隨機手札\",\n    \"score\": 2.2401858303726176,\n    \"terms\": [\"fedora\"],\n    \"queryTerms\": [\"fedore\"],\n    \"match\": { \"fedora\": [\"content\"] },\n    \"title\": \"關於隨機手札\",\n    \"content\": \"……含有關鍵字的文章內容\",\n    \"titles\": []\n  }\n]\n","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"[\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"    \"id\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"/articles/2023/buy_me_a_tea#關於隨機手札\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"    \"score\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"2.2401858303726176"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"    \"terms\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"fedora\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"    \"queryTerms\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"fedore\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"    \"match\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"\"fedora\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"content\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"] },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"    \"title\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"關於隨機手札\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"    \"content\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"……含有關鍵字的文章內容\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"    \"titles\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": []\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"]\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"querycontent-與-useasyncdata-的眉角"},"children":[{"type":"text","value":"queryContent 與 useAsyncData 的眉角"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在將原本用到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"$content"}]},{"type":"text","value":"查詢文章的部份改寫成"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"queryContent"}]},{"type":"text","value":"時踩了一個坑，一度讓我懷疑自己是不是沒搞清楚"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"async"}]},{"type":"text","value":"以及"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":"的用法，後來上網查資料才發現原來是一個"},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/content/issues/1368","rel":["nofollow"]},"children":[{"type":"text","value":"「特別行為」"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"簡單來說，就是你不能在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":"的回呼函式中"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":"一個以上的非同步函式，所以像我原本在文章頁中同時查詢文章本身以及其相關文章的作法是不可行的，會報錯，例如像這樣："}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes github-dark","code":"<script setup>\nawait useAsyncData(slug, async () => {\n  await queryContent()\n  await queryContent()\n})\n</script>\n","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" useAsyncData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(slug, "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"  await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" queryContent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"  await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" queryContent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"所以，更好的作法就是"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"每個"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":"只包一個"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"queryContent"}]}]},{"type":"text","value":"："}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes github-dark","code":"<script setup>\nconst a = await useAsyncData(slug, () => queryContent())\nconst b = await useAsyncData(slug, () => queryContent())\n</script>\n","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" a"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" useAsyncData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(slug, () "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" queryContent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" b"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" useAsyncData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(slug, () "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" queryContent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"那如果要從陣列一次平行調用很多的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"queryContent"}]},{"type":"text","value":"呢？例如我從自定義的數個文章分類要一次平行查詢，那就要用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Promise.all"}]},{"type":"text","value":"把他們包裝起來，然後"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"await"}]},{"type":"text","value":"這個"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Promise.all"}]},{"type":"text","value":"（這真的滿反直覺的……而且文件都沒寫 QQ），像這樣："}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes github-dark","code":"<script setup>\nconst { data: categories } = await useAsyncData('categories', async () => {\n  await Promise.all(\n    Object.keys(categories).map((category) => queryContent().find())\n  )\n\n  return categories\n})\n</script>\n","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"categories"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" useAsyncData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'categories'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"  await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" Promise"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"all"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    Object."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"keys"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(categories)."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"category"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" queryContent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"find"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"())\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  )\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"  return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" categories\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt Content 的部份大概就是這樣，除了踩了一個坑以外大致都還行，後面在升級其他模組時也有踩到一些坑，雖然覺得耗費心神，但踩坑也代表學了點新東西（吧）。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"相關資料夾結構修改","depth":2,"text":"相關資料夾結構修改","children":[{"id":"content-資料夾","depth":3,"text":"content 資料夾"},{"id":"componentsglobal-componentscontent","depth":3,"text":"components/global → components/content"}]},{"id":"nuxt-content-git","depth":2,"text":"nuxt-content-git"},{"id":"為文章新增-reading-time","depth":2,"text":"為文章新增 reading-time"},{"id":"自定義元件","depth":2,"text":"自定義元件"},{"id":"自行補上-slug","depth":2,"text":"自行補上 slug"},{"id":"未穩定的搜尋功能","depth":2,"text":"未穩定的搜尋功能","children":[{"id":"啟用搜尋功能","depth":3,"text":"啟用搜尋功能"},{"id":"搜尋文章寫法","depth":3,"text":"搜尋文章寫法"}]},{"id":"querycontent-與-useasyncdata-的眉角","depth":2,"text":"queryContent 與 useAsyncData 的眉角"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2024:nuxt2_to_nuxt3_blog_3_modules_content.md","_source":"content","_file":"articles/2024/nuxt2_to_nuxt3_blog_3_modules_content.md","_extension":"md","createdAt":"2024-01-24T07:26:04.000Z","updatedAt":"2024-01-24T07:26:04.000Z","slug":"nuxt2_to_nuxt3_blog_3_modules_content","plainTexts":["在","初步修改非模組的設定值","之後，接著就要開始著手模組的升級，這部份是連同改寫為 composition api 一起做的，畢竟不可能只升級特定模組的用法而不去動到其他程式碼，但為了讓文章閱讀容易，就還是分模組來紀錄。","那麼，首先是部落格最重要的驅動基底：Nuxt Content。","相關資料夾結構修改","第一步先來修改相關的資料夾結構。","content 資料夾","原本","content","資料夾中下面的子資料夾結構是：","articles/年份/文章們.md","draft/草稿們.md","這部份的","draft","原本是透過查詢時直接排除，不過 Nuxt Content v2 可以透過前面加上一個",".","來讓整個資料夾及其下的文章「隱身」，參考","官方文件","修改如下：",".draft/草稿們.md","articles","的部份就不用動了。","components/global → components/content","若要在文章中直接使用元件，原本是放在","components/global","，Nuxt Content v2 中要改放在","components/content","裡面。","nuxt-content-git","這個模組沒什麼需要修改的，直接","npm install nuxt-content-git","然後在設定值中的","modules","啟用就可以了，使用原因可以看之前的文章：","為文章新增 reading-time","在 Nuxt Content v1 時我使用","hooks","中的","content:file:beforeInsert","來動態計算文章的閱讀時間，不過新版可以直接透過新增","remarkPlugins","來完成，首先先安裝 reading-time 的 plugin：","npm","install","-D","remark-reading-time","export","default","defineNuxtConfig","({","content: {","markdown: {","// 接著新增設定值","remarkPlugins: [","'remark-reading-time'","],","},","},","})","這邊回壓到文章物件身上的","readingTime","會是物件，可以看自己需要取出對應的欄位來使用：","{","\"text\"",":","\"1 min read\"",",","\"minutes\"",":","1",",","\"time\"",":","60000",",","\"words\"",":","200","}","自定義元件","Nuxt Content v1 中我透過","content.markdown.highlighter","來將 markdown 解析出來的 code 區塊","包上自己客製的元件來達成複製貼上程式碼功能","，在 Nuxt Content v2 中可透過直接覆蓋設定值完成：","export","default","defineNuxtConfig","({","content: {","markdown: {","tags: {","pre:","'ArticleCode'",",","},","},","},","})","方便好多 XD。","自行補上 slug","在 Nuxt Content v1 中，文章本身的檔名會變成","slug","屬性，但在 v2 中則是使用","_id","而且會是串上文章所屬路徑的，例如這樣：","{","\"_id\"",":","\"content:articles:2024:nuxt2_to_nuxt3_blog_3_modules_content.md\"","}","由於我原本使用滿多","slug","來做事，若要修改為使用","_id","變動會太大，所以這邊使用","Hooks","來自己補上","slug","的欄位，根據官方文件需要新增一個檔案","server/plugins/content.js","：","export","default","defineNitroPlugin","((","nitroApp",")","=>","{","nitroApp.hooks.","hook","(","'content:file:afterParse'",", (","file",")","=>","{","const","slug","=","file._path.","split","(","'/'",").","pop","()","file.slug","=","slug","})","})","未穩定的搜尋功能","Nuxt Content v2 有內建滿強大的全文模糊搜尋， v3 的搜尋功能雖然目前仍是「實驗（experimental）」階段，但試做之後沒啥問題，這邊紀錄一下設定跟使用方式。","啟用搜尋功能","那麼首先是啟用搜尋功能，修改","nuxt.config.ts","：","export","default","defineNuxtConfig","({","content: {","experimental: {","// 官方文件是這樣寫，但這樣會無法通過ts檢查。","// search: true,","search: {","indexed:","true",",","},","},","},","})","搜尋文章寫法","搜尋也很容易，以下為自己簡單寫的範例：","<","template",">","<","div",">","<","input","v-model","=","\"","keyword","\"","type","=","\"text\"","/>","<","button","type","=","\"button\"","@","click","=","\"","refresh","\"",">搜尋</","button",">","","<","hr","/>","{{ results }}","</","div",">","</","template",">","","<","script","setup",">","const","keyword","=","ref","(","''",")","","const","{","data",":","results",",","refresh","}","=","await","useAsyncData","(","`search:${","keyword",".","value","}`",",","()","=>","searchContent","(keyword),","{","server:","false",",","immediate:","false",",","default",": ()","=>","[],","}",")","</","script",">","會回傳像下面這樣結果的陣列，可以根據需要使用欄位。","[","{","\"id\"",":","\"/articles/2023/buy_me_a_tea#關於隨機手札\"",",","\"score\"",":","2.2401858303726176",",","\"terms\"",": [","\"fedora\"","],","\"queryTerms\"",": [","\"fedore\"","],","\"match\"",": {","\"fedora\"",": [","\"content\"","] },","\"title\"",":","\"關於隨機手札\"",",","\"content\"",":","\"……含有關鍵字的文章內容\"",",","\"titles\"",": []","}","]","queryContent 與 useAsyncData 的眉角","在將原本用到","$content","查詢文章的部份改寫成","queryContent","時踩了一個坑，一度讓我懷疑自己是不是沒搞清楚","async","以及","await","的用法，後來上網查資料才發現原來是一個","「特別行為」","。","簡單來說，就是你不能在","useAsyncData","的回呼函式中","await","一個以上的非同步函式，所以像我原本在文章頁中同時查詢文章本身以及其相關文章的作法是不可行的，會報錯，例如像這樣：","<","script","setup",">","await","useAsyncData","(slug,","async","()","=>","{","await","queryContent","()","await","queryContent","()","})","</","script",">","所以，更好的作法就是","每個","useAsyncData","只包一個","queryContent","：","<","script","setup",">","const","a","=","await","useAsyncData","(slug, ()","=>","queryContent","())","const","b","=","await","useAsyncData","(slug, ()","=>","queryContent","())","</","script",">","那如果要從陣列一次平行調用很多的","queryContent","呢？例如我從自定義的數個文章分類要一次平行查詢，那就要用","Promise.all","把他們包裝起來，然後","await","這個","Promise.all","（這真的滿反直覺的……而且文件都沒寫 QQ），像這樣：","<","script","setup",">","const","{","data",":","categories","}","=","await","useAsyncData","(","'categories'",",","async","()","=>","{","await","Promise",".","all","(","Object.","keys","(categories).","map","((","category",")","=>","queryContent","().","find","())",")","","return","categories","})","</","script",">","後記","Nuxt Content 的部份大概就是這樣，除了踩了一個坑以外大致都還行，後面在升級其他模組時也有踩到一些坑，雖然覺得耗費心神，但踩坑也代表學了點新東西（吧）。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2024/nuxt2_to_nuxt3_blog_4_modules_pwa","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"部落格Nuxt 2升級Nuxt 3（四）：PWA模組 @nuxt/pwa → @vite-pwa/nuxt","description":"在紀錄了最重要的Nuxt Content升級過程之後，接著是 PWA 模組。","img":"924/Ia2nWi.png","tags":["blog","nuxt","vue","nuxt2","nuxt3","pwa"],"category":"frontend","readingTime":{"text":"1 min read","minutes":0.505,"time":30300,"words":101},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在紀錄了最重要的"},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt2_to_nuxt3_blog_3_modules_content"},"children":[{"type":"text","value":"Nuxt Content"}]},{"type":"text","value":"升級過程之後，接著是 PWA 模組。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在紀錄了最重要的"},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt2_to_nuxt3_blog_3_modules_content"},"children":[{"type":"text","value":"Nuxt Content"}]},{"type":"text","value":"升級過程之後，接著是 PWA 模組。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"修改-pwa-模組"},"children":[{"type":"text","value":"修改 PWA 模組"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"原有的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@nuxtjs/pwa"}]},{"type":"text","value":"模組沒有開發 Nuxt 3 版本，要改用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@vite-pwa/nuxt"}]},{"type":"text","value":"。由於是直接改用另一個模組，設定值什麼的幾乎沒辦法同步過去，也沒什麼「升級過程」可以紀錄，就讓我直接引用之前寫的文章吧："},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt3_vite_pwa"},"children":[]},{"type":"text","value":"。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本篇結束 XD。"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"修改-pwa-模組","depth":2,"text":"修改 PWA 模組"}]}},"_type":"markdown","_id":"content:articles:2024:nuxt2_to_nuxt3_blog_4_modules_pwa.md","_source":"content","_file":"articles/2024/nuxt2_to_nuxt3_blog_4_modules_pwa.md","_extension":"md","createdAt":"2024-01-24T07:26:04.000Z","updatedAt":"2024-01-24T07:26:04.000Z","slug":"nuxt2_to_nuxt3_blog_4_modules_pwa","plainTexts":["在紀錄了最重要的","Nuxt Content","升級過程之後，接著是 PWA 模組。","修改 PWA 模組","原有的","@nuxtjs/pwa","模組沒有開發 Nuxt 3 版本，要改用","@vite-pwa/nuxt","。由於是直接改用另一個模組，設定值什麼的幾乎沒辦法同步過去，也沒什麼「升級過程」可以紀錄，就讓我直接引用之前寫的文章吧：","。","本篇結束 XD。"]},{"_path":"/articles/2024/nuxt2_to_nuxt3_blog_5_modules_sitemap","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"部落格Nuxt 2升級Nuxt 3（五）：Sitemap模組升級","description":"原本使用的 Sitemap 模組 @nuxtjs/sitemap 有支援 Nuxt 3 的版本，所以升級起來不如前面幾篇困難，主要就是修改一下設定值而已。","img":"924/Ia2nWi.png","tags":["blog","nuxt","vue","nuxt2","nuxt3","sitemap"],"category":"frontend","readingTime":{"text":"2 min read","minutes":1.72,"time":103200,"words":344},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"原本使用的 Sitemap 模組 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@nuxtjs/sitemap"}]},{"type":"text","value":" 有支援 Nuxt 3 的版本，所以升級起來不如前面幾篇困難，主要就是修改一下設定值而已。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"原本使用的 Sitemap 模組 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"@nuxtjs/sitemap"}]},{"type":"text","value":" 有支援 Nuxt 3 的版本，所以升級起來不如前面幾篇困難，主要就是修改一下設定值而已。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"修改設定值"},"children":[{"type":"text","value":"修改設定值"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":"升級之後，只要修改設定值就能有基本的 sitemap 功能了："}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark","code":"export default defineNuxtConfig({\n  // Sitemap Module: https://sitemap.nuxtjs.org/usage/sitemap/\n  //   sitemap: {\n  //     hostname: 'https://huangchingchieh.github.io/',\n  //     gzip: true,\n  //     routes,\n  //   },\n  // 原本的sitemap改成site，sitemap.hostname改成site.url。\n  site: {\n    url: 'https://huangchingchieh.github.io',\n  },\n})\n","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // Sitemap Module: https://sitemap.nuxtjs.org/usage/sitemap/\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //   sitemap: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //     hostname: 'https://huangchingchieh.github.io/',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //     gzip: true,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //     routes,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  //   },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // 原本的sitemap改成site，sitemap.hostname改成site.url。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  site: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    url: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'https://huangchingchieh.github.io'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"不須動態傳遞-route"},"children":[{"type":"text","value":"不須動態傳遞 route"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前在 Nuxt 2 的時候"},{"type":"element","tag":"article-inner-link","props":{"slug":"nuxt2_dynamic_routes_sitemap"},"children":[{"type":"text","value":"需要自行產出"}]},{"type":"text","value":"動態 routes 並傳遞給模組，新版則不需要，只要 Nuxt Crawler 爬得到的連結，都會被抓到產生出來的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sitemap.xml"}]},{"type":"text","value":"裡面。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"更細緻的設定"},"children":[{"type":"text","value":"更細緻的設定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果需要為產生的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"url"}]},{"type":"text","value":"動態設定"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lastmod"}]},{"type":"text","value":"（例如使用文章物件的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"updatedAt"}]},{"type":"text","value":"）或是做更細緻的自動化調整，就需要額外的設定，參考"},{"type":"element","tag":"a","props":{"href":"https://nuxtseo.com/sitemap/integrations/content#nuxt-content-app-source","rel":["nofollow"]},"children":[{"type":"text","value":"官方文件"}]},{"type":"text","value":"後設定如下："}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark","code":"import type { ParsedContent } from '@nuxt/content/dist/runtime/types'\nimport { serverQueryContent } from '#content/server'\nimport { asSitemapUrl, defineSitemapEventHandler } from '#imports'\n\nexport default defineSitemapEventHandler(async (e) => {\n  const { base } = useRuntimeConfig().public\n  const contentList = (await serverQueryContent(e).find()) as ParsedContent[]\n  return contentList.map((file) => {\n    const url = {\n      loc: `${base}${file.slug}`,\n      lastmod: file.createdAt,\n    }\n    return asSitemapUrl(url)\n  })\n})\n","filename":"新增server/api/sitemap.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" type"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { ParsedContent } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" '@nuxt/content/dist/runtime/types'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { serverQueryContent } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" '#content/server'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { asSitemapUrl, defineSitemapEventHandler } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" '#imports'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineSitemapEventHandler"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"e"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"  const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" useRuntimeConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"().public\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"  const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" contentList"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" serverQueryContent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(e)."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"find"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()) "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" ParsedContent"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"[]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"  return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" contentList."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"map"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"    const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" url"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      loc: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"`${"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"base"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"}${"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"file"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"slug"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"}`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      lastmod: file.createdAt,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"    return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" asSitemapUrl"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"(url)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"然後在 sitemap 的設定值新增如下設定值："}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark","code":"export default defineNuxtConfig({\n  sitemap: {\n    // 路徑是剛剛新增的\n    sources: ['/api/sitemap'],\n  },\n})\n","language":"ts","meta":"nuxt.config.ts","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  sitemap: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    // 路徑是剛剛新增的\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    sources: ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'/api/sitemap'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概是這樣，sitemap 功能簡單許多，也沒有換模組，所以升級過程非常容易。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"修改設定值","depth":2,"text":"修改設定值","children":[{"id":"不須動態傳遞-route","depth":3,"text":"不須動態傳遞 route"}]},{"id":"更細緻的設定","depth":2,"text":"更細緻的設定"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2024:nuxt2_to_nuxt3_blog_5_modules_sitemap.md","_source":"content","_file":"articles/2024/nuxt2_to_nuxt3_blog_5_modules_sitemap.md","_extension":"md","createdAt":"2024-01-24T07:26:04.000Z","updatedAt":"2024-01-24T07:26:04.000Z","slug":"nuxt2_to_nuxt3_blog_5_modules_sitemap","plainTexts":["原本使用的 Sitemap 模組","@nuxtjs/sitemap","有支援 Nuxt 3 的版本，所以升級起來不如前面幾篇困難，主要就是修改一下設定值而已。","修改設定值","在使用","npm","升級之後，只要修改設定值就能有基本的 sitemap 功能了：","export","default","defineNuxtConfig","({","// Sitemap Module: https://sitemap.nuxtjs.org/usage/sitemap/","//   sitemap: {","//     hostname: 'https://huangchingchieh.github.io/',","//     gzip: true,","//     routes,","//   },","// 原本的sitemap改成site，sitemap.hostname改成site.url。","site: {","url:","'https://huangchingchieh.github.io'",",","},","})","不須動態傳遞 route","之前在 Nuxt 2 的時候","需要自行產出","動態 routes 並傳遞給模組，新版則不需要，只要 Nuxt Crawler 爬得到的連結，都會被抓到產生出來的","sitemap.xml","裡面。","更細緻的設定","如果需要為產生的","url","動態設定","lastmod","（例如使用文章物件的","updatedAt","）或是做更細緻的自動化調整，就需要額外的設定，參考","官方文件","後設定如下：","import","type","{ ParsedContent }","from","'@nuxt/content/dist/runtime/types'","import","{ serverQueryContent }","from","'#content/server'","import","{ asSitemapUrl, defineSitemapEventHandler }","from","'#imports'","","export","default","defineSitemapEventHandler","(","async","(","e",")","=>","{","const","{","base","}","=","useRuntimeConfig","().public","const","contentList","=","(","await","serverQueryContent","(e).","find","())","as","ParsedContent","[]","return","contentList.","map","((","file",")","=>","{","const","url","=","{","loc:","`${","base","}${","file",".","slug","}`",",","lastmod: file.createdAt,","}","return","asSitemapUrl","(url)","})","})","然後在 sitemap 的設定值新增如下設定值：","export","default","defineNuxtConfig","({","sitemap: {","// 路徑是剛剛新增的","sources: [","'/api/sitemap'","],","},","})","後記","大概是這樣，sitemap 功能簡單許多，也沒有換模組，所以升級過程非常容易。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2024/nuxt2_to_nuxt3_blog_6_modules_pinia","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"部落格Nuxt 2升級Nuxt 3（六）：Vuex → Pinia","description":"Nuxt 3 的狀態管理套件從 Nuxt 2 的 Vuex 改成了 Pinia，兩者差異不算大，部落格用到的功能也不多。其中比較要注意的就是 Nuxt 3 不再提供nuxtServerInit方法，若需要在 server 端初始化一些資料的話，就要透過其他作法來完成。","img":"924/Ia2nWi.png","tags":["blog","nuxt","vue","nuxt2","nuxt3","vuex","pinia"],"category":"frontend","readingTime":{"text":"5 min read","minutes":4.19,"time":251400,"words":838},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/getting-started/state-management#using-third-party-libraries","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt 3 的狀態管理套件從 Nuxt 2 的 Vuex 改成了 Pinia"}]},{"type":"text","value":"，兩者差異不算大，部落格用到的功能也不多。其中比較要注意的就是 Nuxt 3 不再提供"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxtServerInit"}]},{"type":"text","value":"方法，若需要在 server 端初始化一些資料的話，就要透過其他作法來完成。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/getting-started/state-management#using-third-party-libraries","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt 3 的狀態管理套件從 Nuxt 2 的 Vuex 改成了 Pinia"}]},{"type":"text","value":"，兩者差異不算大，部落格用到的功能也不多。其中比較要注意的就是 Nuxt 3 不再提供"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxtServerInit"}]},{"type":"text","value":"方法，若需要在 server 端初始化一些資料的話，就要透過其他作法來完成。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"本來以為升級起來不會太困難，但踩了個小坑……。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"寫法差異"},"children":[{"type":"text","value":"寫法差異"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這部份因為滿容易的，這邊僅列出官方文章做個參考紀錄："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://pinia.vuejs.org/ssr/nuxt.html","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt.js 整合指引"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://pinia.vuejs.org/cookbook/migration-vuex.html","rel":["nofollow"]},"children":[{"type":"text","value":"Migrating from Vuex ≤ 4"}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"實作-nuxtserverinit"},"children":[{"type":"text","value":"實作 nuxtServerInit"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前在 Nuxt 2 中使用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxtServerInit"}]},{"type":"text","value":"，是因為我會在此處先處理並紀錄一些 metada（例如各分類的文章數量與頁數）以供元件使用，Nuxt 3 並無提供此方式，參考網路上文章之後可以透過「只在 server 端執行的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"plugins"}]},{"type":"text","value":"」來完成："}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先在主要的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"store"}]},{"type":"text","value":"下新增"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"index.js"}]},{"type":"text","value":"："}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes github-dark","code":"import { defineStore } from 'pinia'\n\nimport { getCategories, setPageCount } from '~/utils/getCategories'\nimport getTags from '~/utils/getTags'\n\nexport const useMainStore = defineStore('main', {\n  state: () => ({\n    someState: '',\n  }),\n  actions: {\n    nuxtServerInit() {\n      // 這邊做原本nuxtServerInit要做的事\n    },\n  },\n})\n","filename":"store/index.js","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { defineStore } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" 'pinia'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { getCategories, setPageCount } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" '~/utils/getCategories'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" getTags "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" '~/utils/getTags'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" useMainStore"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineStore"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'main'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"  state"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": () "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" ({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    someState: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  }),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  actions: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"    nuxtServerInit"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      // 這邊做原本nuxtServerInit要做的事\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接著新增只在 server 端執行的 plugin，可以在命名後加上後綴字"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".server.js"}]},{"type":"text","value":"來標明："}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes github-dark","code":"import { useMainStore } from '~/store'\n\nexport default defineNuxtPlugin(async ({ $pinia }) => {\n  const someAsyncData = await someAsyncFn()\n\n  // 這邊引用前段宣告的store，記得要把context的$pinia傳進去。\n  // 可參考：https://pinia.vuejs.org/ssr/nuxt.html#Awaiting-for-actions-in-pages\n  const mainStore = useMainStore($pinia)\n  mainStore.nuxtServerInit()\n})\n","filename":"plugins/init.server.js","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" { useMainStore } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" '~/store'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtPlugin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#FFAB70"},"children":[{"type":"text","value":"$pinia"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"  const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" someAsyncData"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" await"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" someAsyncFn"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // 這邊引用前段宣告的store，記得要把context的$pinia傳進去。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // 可參考：https://pinia.vuejs.org/ssr/nuxt.html#Awaiting-for-actions-in-pages\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"  const"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" mainStore"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" useMainStore"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"($pinia)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  mainStore."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"nuxtServerInit"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這樣就完成囉。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"在-ssr-端修改-state-的眉角"},"children":[{"type":"text","value":"在 SSR 端修改 state 的眉角"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這中間踩了一個坑，本來以為是 Bug 但其實不是。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"總之是這樣的，我在頁面中去修改了某個在 store 中的屬性，而在 layout 中順序比"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<slot />"}]},{"type":"text","value":"（也就是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<NuxtPage />"}]},{"type":"text","value":"的置入點）前面的元件，若依賴了這個屬性去做"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"v-if"}]},{"type":"text","value":"的顯示，則會在直接進入頁面時出現"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Hydration node mismatch"}]},{"type":"text","value":"的警告，暗示我 server 端與 client 端的元件長得不一樣（也就是資料不一致）。"}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes github-dark","code":"<template>\n  <div>\n    <!-- 這裡面有個元素依賴了store的state切換顯示 -->\n    <!-- TestHeader會出現Hydration node mismatch的問題 -->\n    <TestHeader />\n\n    <!-- 我在頁面元件中修改了store的state -->\n    <NuxtPage />\n\n    <!-- 放在NuxtPage後面的TestFooter不會出現同樣問題 -->\n    <TestFooter />\n  </div>\n</template>\n\n<script setup>\nimport TestHeader from '~/components/test-header.vue'\nimport TestFooter from '~/components/test-footer.vue'\n</script>\n","filename":"layouts/default.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    <!-- 這裡面有個元素依賴了store的state切換顯示 -->\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    <!-- TestHeader會出現Hydration node mismatch的問題 -->\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"TestHeader"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    <!-- 我在頁面元件中修改了store的state -->\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"NuxtPage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    <!-- 放在NuxtPage後面的TestFooter不會出現同樣問題 -->\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"TestFooter"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" setup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" TestHeader "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" '~/components/test-header.vue'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" TestFooter "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" '~/components/test-footer.vue'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"幾經測試之後，發現好像是元件解析順序的問題，也在 Nuxt Github 的 Discussions 裡面有發現"},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/discussions/17011","rel":["nofollow"]},"children":[{"type":"text","value":"相關討論"}]},{"type":"text","value":"："}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is a common SSR gotcha. The issue is that on SSR, Vue renders the HTML from top to bottom, outside to inside. And if you only fetch some data as you are rendering the 'inner' part of the page, it doesn't rerender the layout at the top of the page. (On client-side it's fine as can be reactive.) So if you have a common piece you rely on for rendering your page, make sure to fetch it in the layout, a plugin, or a middleware - somewhere outside of the rendering process."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"沒錯，如 Nuxt 團隊的領導人所說：這是一個「common SSR gotcha」（常見的 SSR 問題），無法被解決，只能在開發時自己小心了（是說 Nuxt 2 沒這問題呀……還是只是沒 WARN 而已？）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"目前因為是 SEO 不敏感的區塊所以還好，解法是直接先把那一個區塊用"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<ClientOnly>"}]},{"type":"text","value":"包起來，只是未來若遇到這樣的情境，而區塊剛好是 SEO 敏感的區塊……可能就要想想怎麼做了。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"大概是這樣，只能說 Nuxt 2 升 3 的坑其實不少啊……（顯示為精疲力盡）。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"寫法差異","depth":2,"text":"寫法差異"},{"id":"實作-nuxtserverinit","depth":2,"text":"實作 nuxtServerInit"},{"id":"在-ssr-端修改-state-的眉角","depth":2,"text":"在 SSR 端修改 state 的眉角"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2024:nuxt2_to_nuxt3_blog_6_modules_pinia.md","_source":"content","_file":"articles/2024/nuxt2_to_nuxt3_blog_6_modules_pinia.md","_extension":"md","createdAt":"2024-01-24T07:26:04.000Z","updatedAt":"2024-01-24T07:26:04.000Z","slug":"nuxt2_to_nuxt3_blog_6_modules_pinia","plainTexts":["Nuxt 3 的狀態管理套件從 Nuxt 2 的 Vuex 改成了 Pinia","，兩者差異不算大，部落格用到的功能也不多。其中比較要注意的就是 Nuxt 3 不再提供","nuxtServerInit","方法，若需要在 server 端初始化一些資料的話，就要透過其他作法來完成。","本來以為升級起來不會太困難，但踩了個小坑……。","寫法差異","這部份因為滿容易的，這邊僅列出官方文章做個參考紀錄：","Nuxt.js 整合指引","Migrating from Vuex ≤ 4","實作 nuxtServerInit","之前在 Nuxt 2 中使用","nuxtServerInit","，是因為我會在此處先處理並紀錄一些 metada（例如各分類的文章數量與頁數）以供元件使用，Nuxt 3 並無提供此方式，參考網路上文章之後可以透過「只在 server 端執行的","plugins","」來完成：","首先在主要的","store","下新增","index.js","：","import","{ defineStore }","from","'pinia'","","import","{ getCategories, setPageCount }","from","'~/utils/getCategories'","import","getTags","from","'~/utils/getTags'","","export","const","useMainStore","=","defineStore","(","'main'",", {","state",": ()","=>","({","someState:","''",",","}),","actions: {","nuxtServerInit","() {","// 這邊做原本nuxtServerInit要做的事","},","},","})","接著新增只在 server 端執行的 plugin，可以在命名後加上後綴字",".server.js","來標明：","import","{ useMainStore }","from","'~/store'","","export","default","defineNuxtPlugin","(","async","({","$pinia","})","=>","{","const","someAsyncData","=","await","someAsyncFn","()","","// 這邊引用前段宣告的store，記得要把context的$pinia傳進去。","// 可參考：https://pinia.vuejs.org/ssr/nuxt.html#Awaiting-for-actions-in-pages","const","mainStore","=","useMainStore","($pinia)","mainStore.","nuxtServerInit","()","})","這樣就完成囉。","在 SSR 端修改 state 的眉角","這中間踩了一個坑，本來以為是 Bug 但其實不是。","總之是這樣的，我在頁面中去修改了某個在 store 中的屬性，而在 layout 中順序比","<slot />","（也就是","<NuxtPage />","的置入點）前面的元件，若依賴了這個屬性去做","v-if","的顯示，則會在直接進入頁面時出現","Hydration node mismatch","的警告，暗示我 server 端與 client 端的元件長得不一樣（也就是資料不一致）。","<","template",">","<","div",">","<!-- 這裡面有個元素依賴了store的state切換顯示 -->","<!-- TestHeader會出現Hydration node mismatch的問題 -->","<","TestHeader","/>","","<!-- 我在頁面元件中修改了store的state -->","<","NuxtPage","/>","","<!-- 放在NuxtPage後面的TestFooter不會出現同樣問題 -->","<","TestFooter","/>","</","div",">","</","template",">","","<","script","setup",">","import","TestHeader","from","'~/components/test-header.vue'","import","TestFooter","from","'~/components/test-footer.vue'","</","script",">","幾經測試之後，發現好像是元件解析順序的問題，也在 Nuxt Github 的 Discussions 裡面有發現","相關討論","：","This is a common SSR gotcha. The issue is that on SSR, Vue renders the HTML from top to bottom, outside to inside. And if you only fetch some data as you are rendering the 'inner' part of the page, it doesn't rerender the layout at the top of the page. (On client-side it's fine as can be reactive.) So if you have a common piece you rely on for rendering your page, make sure to fetch it in the layout, a plugin, or a middleware - somewhere outside of the rendering process.","沒錯，如 Nuxt 團隊的領導人所說：這是一個「common SSR gotcha」（常見的 SSR 問題），無法被解決，只能在開發時自己小心了（是說 Nuxt 2 沒這問題呀……還是只是沒 WARN 而已？）。","目前因為是 SEO 不敏感的區塊所以還好，解法是直接先把那一個區塊用","<ClientOnly>","包起來，只是未來若遇到這樣的情境，而區塊剛好是 SEO 敏感的區塊……可能就要想想怎麼做了。","後記","大概是這樣，只能說 Nuxt 2 升 3 的坑其實不少啊……（顯示為精疲力盡）。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2024/nuxt3_vite_pwa","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"Nuxt3中使用vite-pwa實現pwa功能","description":"之前在 Nuxt2 時可以滿無痛的使用 nuxt/pwa 來為網站新增 PWA 功能，但因為此模組沒有開發 Nuxt3 版本，最近開始接觸 Nuxt3 後得尋找替代品，在官方模組清單頁面中搜尋 pwa 只發現一個模組：vite-pwa-nuxt。","img":"923/XCrOen.png","tags":["nuxt","nuxt3","vue","pwa","vite-pwa"],"category":"frontend","readingTime":{"text":"6 min read","minutes":5.085,"time":305100,"words":1017},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前在 Nuxt2 時可以滿無痛的使用 "},{"type":"element","tag":"a","props":{"href":"https://pwa.nuxtjs.org/","rel":["nofollow"]},"children":[{"type":"text","value":"nuxt/pwa"}]},{"type":"text","value":" 來為網站新增 PWA 功能，但因為此模組沒有開發 Nuxt3 版本，最近開始接觸 Nuxt3 後得尋找替代品，在"},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/modules?q=pwa","rel":["nofollow"]},"children":[{"type":"text","value":"官方模組清單頁面中搜尋 pwa"}]},{"type":"text","value":" 只發現一個模組：vite-pwa-nuxt。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前在 Nuxt2 時可以滿無痛的使用 "},{"type":"element","tag":"a","props":{"href":"https://pwa.nuxtjs.org/","rel":["nofollow"]},"children":[{"type":"text","value":"nuxt/pwa"}]},{"type":"text","value":" 來為網站新增 PWA 功能，但因為此模組沒有開發 Nuxt3 版本，最近開始接觸 Nuxt3 後得尋找替代品，在"},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/modules?q=pwa","rel":["nofollow"]},"children":[{"type":"text","value":"官方模組清單頁面中搜尋 pwa"}]},{"type":"text","value":" 只發現一個模組：vite-pwa-nuxt。"}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n關於 PWA，可參考\n"},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/zh-TW/docs/Web/Progressive_web_apps","rel":["nofollow"]},"children":[{"type":"text","value":"MDN 文件"}]},{"type":"text","value":"\n。\n"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"雖然號稱是「Zero-config」 PWA Plugin for Nuxt 3 ，但實際套用之後發現還是要做一些設定，而且這個模組的文件……真的有點混亂，所以就寫這篇文章紀錄一下。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝與基本設定"},"children":[{"type":"text","value":"安裝與基本設定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如模組的名稱所示，這個模組只能跟 vite 一起使用，若是使用 webpack 就要找其他解決方案了。首先是安裝，這邊我使用 npm。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"npm install -D @vite-pwa/nuxt\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -D"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" @vite-pwa/nuxt\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接著引用模組，這個跟其他 Nuxt3 模組差不多。然後根據官方文件填上一些需要的基本值。"}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark","code":"export default defineNuxtConfig({\n  modules: ['@vite-pwa/nuxt'],\n  pwa: {\n    // 設定是否有更新時自動更新，因為我的網站只是單純展示用，直接設定autoUpdate。\n    registerType: 'autoUpdate',\n    // 設定是否要在開發的時候（npm run dev）啟用pwa功能，為了方便測試，我是把他開啟。\n    devOptions: {\n      enabled: true,\n    },\n    // pwa的描述檔\n    manifest: {\n      name: '網站名稱',\n      short_name: '網站名稱',\n      description: '網站描述',\n      lang: 'zh-Hant-TW',\n      theme_color: '#000000',\n    },\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  modules: ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'@vite-pwa/nuxt'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  pwa: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    // 設定是否有更新時自動更新，因為我的網站只是單純展示用，直接設定autoUpdate。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    registerType: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'autoUpdate'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    // 設定是否要在開發的時候（npm run dev）啟用pwa功能，為了方便測試，我是把他開啟。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    devOptions: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      enabled: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    // pwa的描述檔\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    manifest: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      name: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'網站名稱'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      short_name: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'網站名稱'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      description: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'網站描述'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      lang: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'zh-Hant-TW'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      theme_color: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'#000000'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"icon-設定"},"children":[{"type":"text","value":"ICON 設定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之後一些設定都會用到 icon，所以先來設定。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之前 Nuxt2 的 nuxt/pwa 模組可以在編譯時從一張源圖自動產生 pwa 所有需要的 icon，但 vite-pwa 需要先自己手動產生（或是把產生的部份寫成程式整合到編譯流程）。先用 npm 安裝"},{"type":"element","tag":"a","props":{"href":"https://vite-pwa-org.netlify.app/assets-generator/cli.html","rel":["nofollow"]},"children":[{"type":"text","value":"官方提供的 icon 產生工具"}]},{"type":"text","value":"："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"npm install -D @vite-pwa/assets-generator\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -D"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" @vite-pwa/assets-generator\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接著把指令放到 package.json 中，這裡使用模組內建的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"minimal-2023"}]},{"type":"text","value":"設定值來產生 icon 圖組。"}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes github-dark","code":"{\n  \"scripts\": {\n    // 這裡的public/icon.png要改成源圖路徑\n    \"generate-pwa-assets\": \"pwa-assets-generator --preset minimal-2023 public/icon.png\"\n  }\n}\n","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  \"scripts\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    // 這裡的public/icon.png要改成源圖路徑\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"    \"generate-pwa-assets\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"pwa-assets-generator --preset minimal-2023 public/icon.png\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"額外設定值選擇性"},"children":[{"type":"text","value":"額外設定值(選擇性)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因為官方的 icon 產生工具在產生時會給 icon 一個 "},{"type":"element","tag":"a","props":{"href":"https://vite-pwa-org.netlify.app/assets-generator/cli.html#png-padding","rel":["nofollow"]},"children":[{"type":"text","value":"padding"}]},{"type":"text","value":"，產生出來的圖會有白邊（猜測是預防在各種圖案形狀時被截掉），覺得很醜，決定額外設定為 0。首先在專案的根目錄新增"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pwa-assets.config.ts"}]},{"type":"text","value":"檔案："}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark","code":"import {\n  defineConfig,\n  minimal2023Preset as preset,\n} from '@vite-pwa/assets-generator/config'\n\n// 把設定值的icon padding都設為0\npreset.apple.padding = 0\npreset.maskable.padding = 0\npreset.transparent.padding = 0\n\nexport default defineConfig({\n  preset,\n})\n","filename":"pwa-assets.config.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  defineConfig,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  minimal2023Preset "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" preset,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"} "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" '@vite-pwa/assets-generator/config'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"// 把設定值的icon padding都設為0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"preset.apple.padding "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"preset.maskable.padding "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"preset.transparent.padding "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" 0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  preset,\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"執行指令"},"children":[{"type":"text","value":"執行指令"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"準備好源圖放在對應的路徑之後，就可以執行指令："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"npm run generate-pwa-assets\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" run"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" generate-pwa-assets\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"執行完之後會印出 icon 的設定，再把他複製過去"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":"裡面。"}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes github-dark","code":"export default defineNuxtConfig({\n  pwa: {\n    icons: [\n      {\n        src: 'pwa-64x64.png',\n        sizes: '64x64',\n        type: 'image/png',\n      },\n      {\n        src: 'pwa-192x192.png',\n        sizes: '192x192',\n        type: 'image/png',\n      },\n      {\n        src: 'pwa-512x512.png',\n        sizes: '512x512',\n        type: 'image/png',\n      },\n      {\n        src: 'maskable-icon-512x512.png',\n        sizes: '512x512',\n        type: 'image/png',\n        purpose: 'maskable',\n      },\n    ],\n  },\n  modules: ['@vite-pwa/nuxt'],\n})\n","filename":"nuxt.config.ts","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  pwa: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    icons: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        src: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'pwa-64x64.png'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        sizes: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'64x64'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        type: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'image/png'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        src: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'pwa-192x192.png'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        sizes: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'192x192'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        type: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'image/png'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        src: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'pwa-512x512.png'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        sizes: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'512x512'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        type: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'image/png'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        src: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'maskable-icon-512x512.png'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        sizes: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'512x512'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        type: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'image/png'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        purpose: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'maskable'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  modules: ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'@vite-pwa/nuxt'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"icon 的部份就完成囉。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"meta-設定"},"children":[{"type":"text","value":"META 設定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"根據官方文件所述，PWA 的基本需求需要在網站首頁有以下"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"meta"}]},{"type":"text","value":"標籤："}]},{"type":"element","tag":"pre","props":{"className":"language-html shiki shiki-themes github-dark","code":"<head>\n  <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\" />\n  <title>My Awesome App</title>\n  <meta name=\"description\" content=\"My Awesome App description\" />\n  <link rel=\"icon\" href=\"/favicon.ico\" />\n  <link rel=\"apple-touch-icon\" href=\"/apple-touch-icon.png\" sizes=\"180x180\" />\n  <link rel=\"mask-icon\" href=\"/mask-icon.svg\" color=\"#FFFFFF\" />\n  <meta name=\"theme-color\" content=\"#ffffff\" />\n</head>\n","language":"html","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"head"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"viewport\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" content"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"width=device-width,initial-scale=1\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"title"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">My Awesome App</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"title"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"description\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" content"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"My Awesome App description\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"link"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" rel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"icon\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" href"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"/favicon.ico\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"link"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" rel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"apple-touch-icon\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" href"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"/apple-touch-icon.png\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" sizes"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"180x180\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"link"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" rel"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"mask-icon\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" href"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"/mask-icon.svg\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" color"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"#FFFFFF\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" name"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"theme-color\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" content"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"#ffffff\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"head"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"因此要新增對應的 meta 設定，這邊設定在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nuxt.config.ts"}]},{"type":"text","value":"中："}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark","code":"export default defineNuxtConfig({\n  app: {\n    head: {\n      title: '網站名稱',\n      viewport: 'width=device-width, initial-scale=1.0',\n      meta: [\n        { name: '網站描述', content: '網站描述' },\n        {\n          name: 'theme-color',\n          content: '#ffffff',\n        },\n      ],\n      link: [\n        {\n          rel: 'icon',\n          href: `/favicon.ico`,\n        },\n        {\n          rel: 'apple-touch-icon',\n          // 這裡使用前一段@vite-pwa/assets-generator產生出來的圖片路徑\n          href: `/pwa-192x192.png`,\n        },\n        {\n          rel: 'mask-icon',\n          // 這裡使用前一段@vite-pwa/assets-generator產生出來的圖片路徑\n          href: `/maskable-icon-512x512.png`,\n          content: '#ffffff',\n        },\n      ],\n    },\n  },\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":" defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  app: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    head: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      title: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'網站名稱'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      viewport: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'width=device-width, initial-scale=1.0'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      meta: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        { name: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'網站描述'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":", content: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'網站描述'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          name: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'theme-color'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          content: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'#ffffff'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      link: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          rel: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'icon'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          href: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"`/favicon.ico`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          rel: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'apple-touch-icon'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"          // 這裡使用前一段@vite-pwa/assets-generator產生出來的圖片路徑\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          href: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"`/pwa-192x192.png`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          rel: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'mask-icon'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"          // 這裡使用前一段@vite-pwa/assets-generator產生出來的圖片路徑\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          href: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"`/maskable-icon-512x512.png`"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"          content: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'#ffffff'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":31},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":32},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"在根層級引入-vite-pwa-的-manifest-元件"},"children":[{"type":"text","value":"在根層級引入 vite-pwa 的 manifest 元件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最後一步就是在根層級（例如"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app.vue"}]},{"type":"text","value":"或是全域使用的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"layouts/default.vue"}]},{"type":"text","value":"）引入"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<VitePwaManifest />"}]},{"type":"text","value":"或是"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"<NuxtPwaManifest />"}]},{"type":"text","value":"。我是放在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app.vue"}]},{"type":"text","value":"："}]},{"type":"element","tag":"pre","props":{"className":"language-vue shiki shiki-themes github-dark","code":"<template>\n  <VitePwaManifest />\n  <NuxtLayout>\n    <NuxtPage />\n  </NuxtLayout>\n</template>\n","filename":"app.vue","language":"vue","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"VitePwaManifest"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"NuxtLayout"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"NuxtPage"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" />\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"NuxtLayout"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#85E89D"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這樣就大功告成囉，可以試試看"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"npm run dev"}]},{"type":"text","value":"，看看 Chrome 有沒有出現「安裝」圖示，有的話就代表設定成功。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"後記"},"children":[{"type":"text","value":"後記"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"不知道為什麼，Nuxt3 的模組只要是非官方開發的，文件的複雜度感覺都升了一個層級……，想到這部落格也要找時間升上 Nuxt3 就覺得頭很痛啊。"}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"安裝與基本設定","depth":2,"text":"安裝與基本設定"},{"id":"icon-設定","depth":2,"text":"ICON 設定","children":[{"id":"額外設定值選擇性","depth":3,"text":"額外設定值(選擇性)"},{"id":"執行指令","depth":3,"text":"執行指令"}]},{"id":"meta-設定","depth":2,"text":"META 設定"},{"id":"在根層級引入-vite-pwa-的-manifest-元件","depth":2,"text":"在根層級引入 vite-pwa 的 manifest 元件"},{"id":"後記","depth":2,"text":"後記"}]}},"_type":"markdown","_id":"content:articles:2024:nuxt3_vite_pwa.md","_source":"content","_file":"articles/2024/nuxt3_vite_pwa.md","_extension":"md","createdAt":"2024-01-18T05:22:42.000Z","updatedAt":"2024-01-18T05:22:42.000Z","slug":"nuxt3_vite_pwa","plainTexts":["之前在 Nuxt2 時可以滿無痛的使用","nuxt/pwa","來為網站新增 PWA 功能，但因為此模組沒有開發 Nuxt3 版本，最近開始接觸 Nuxt3 後得尋找替代品，在","官方模組清單頁面中搜尋 pwa","只發現一個模組：vite-pwa-nuxt。","關於 PWA，可參考","MDN 文件","。","雖然號稱是「Zero-config」 PWA Plugin for Nuxt 3 ，但實際套用之後發現還是要做一些設定，而且這個模組的文件……真的有點混亂，所以就寫這篇文章紀錄一下。","安裝與基本設定","如模組的名稱所示，這個模組只能跟 vite 一起使用，若是使用 webpack 就要找其他解決方案了。首先是安裝，這邊我使用 npm。","npm","install","-D","@vite-pwa/nuxt","接著引用模組，這個跟其他 Nuxt3 模組差不多。然後根據官方文件填上一些需要的基本值。","export","default","defineNuxtConfig","({","modules: [","'@vite-pwa/nuxt'","],","pwa: {","// 設定是否有更新時自動更新，因為我的網站只是單純展示用，直接設定autoUpdate。","registerType:","'autoUpdate'",",","// 設定是否要在開發的時候（npm run dev）啟用pwa功能，為了方便測試，我是把他開啟。","devOptions: {","enabled:","true",",","},","// pwa的描述檔","manifest: {","name:","'網站名稱'",",","short_name:","'網站名稱'",",","description:","'網站描述'",",","lang:","'zh-Hant-TW'",",","theme_color:","'#000000'",",","},","},","})","ICON 設定","之後一些設定都會用到 icon，所以先來設定。","之前 Nuxt2 的 nuxt/pwa 模組可以在編譯時從一張源圖自動產生 pwa 所有需要的 icon，但 vite-pwa 需要先自己手動產生（或是把產生的部份寫成程式整合到編譯流程）。先用 npm 安裝","官方提供的 icon 產生工具","：","npm","install","-D","@vite-pwa/assets-generator","接著把指令放到 package.json 中，這裡使用模組內建的","minimal-2023","設定值來產生 icon 圖組。","{","\"scripts\"",": {","// 這裡的public/icon.png要改成源圖路徑","\"generate-pwa-assets\"",":","\"pwa-assets-generator --preset minimal-2023 public/icon.png\"","}","}","額外設定值(選擇性)","因為官方的 icon 產生工具在產生時會給 icon 一個","padding","，產生出來的圖會有白邊（猜測是預防在各種圖案形狀時被截掉），覺得很醜，決定額外設定為 0。首先在專案的根目錄新增","pwa-assets.config.ts","檔案：","import","{","defineConfig,","minimal2023Preset","as","preset,","}","from","'@vite-pwa/assets-generator/config'","","// 把設定值的icon padding都設為0","preset.apple.padding","=","0","preset.maskable.padding","=","0","preset.transparent.padding","=","0","","export","default","defineConfig","({","preset,","})","執行指令","準備好源圖放在對應的路徑之後，就可以執行指令：","npm","run","generate-pwa-assets","執行完之後會印出 icon 的設定，再把他複製過去","nuxt.config.ts","裡面。","export","default","defineNuxtConfig","({","pwa: {","icons: [","{","src:","'pwa-64x64.png'",",","sizes:","'64x64'",",","type:","'image/png'",",","},","{","src:","'pwa-192x192.png'",",","sizes:","'192x192'",",","type:","'image/png'",",","},","{","src:","'pwa-512x512.png'",",","sizes:","'512x512'",",","type:","'image/png'",",","},","{","src:","'maskable-icon-512x512.png'",",","sizes:","'512x512'",",","type:","'image/png'",",","purpose:","'maskable'",",","},","],","},","modules: [","'@vite-pwa/nuxt'","],","})","icon 的部份就完成囉。","META 設定","根據官方文件所述，PWA 的基本需求需要在網站首頁有以下","meta","標籤：","<","head",">","<","meta","name","=","\"viewport\"","content","=","\"width=device-width,initial-scale=1\"","/>","<","title",">My Awesome App</","title",">","<","meta","name","=","\"description\"","content","=","\"My Awesome App description\"","/>","<","link","rel","=","\"icon\"","href","=","\"/favicon.ico\"","/>","<","link","rel","=","\"apple-touch-icon\"","href","=","\"/apple-touch-icon.png\"","sizes","=","\"180x180\"","/>","<","link","rel","=","\"mask-icon\"","href","=","\"/mask-icon.svg\"","color","=","\"#FFFFFF\"","/>","<","meta","name","=","\"theme-color\"","content","=","\"#ffffff\"","/>","</","head",">","因此要新增對應的 meta 設定，這邊設定在","nuxt.config.ts","中：","export","default","defineNuxtConfig","({","app: {","head: {","title:","'網站名稱'",",","viewport:","'width=device-width, initial-scale=1.0'",",","meta: [","{ name:","'網站描述'",", content:","'網站描述'","},","{","name:","'theme-color'",",","content:","'#ffffff'",",","},","],","link: [","{","rel:","'icon'",",","href:","`/favicon.ico`",",","},","{","rel:","'apple-touch-icon'",",","// 這裡使用前一段@vite-pwa/assets-generator產生出來的圖片路徑","href:","`/pwa-192x192.png`",",","},","{","rel:","'mask-icon'",",","// 這裡使用前一段@vite-pwa/assets-generator產生出來的圖片路徑","href:","`/maskable-icon-512x512.png`",",","content:","'#ffffff'",",","},","],","},","},","})","在根層級引入 vite-pwa 的 manifest 元件","最後一步就是在根層級（例如","app.vue","或是全域使用的","layouts/default.vue","）引入","<VitePwaManifest />","或是","<NuxtPwaManifest />","。我是放在","app.vue","：","<","template",">","<","VitePwaManifest","/>","<","NuxtLayout",">","<","NuxtPage","/>","</","NuxtLayout",">","</","template",">","這樣就大功告成囉，可以試試看","npm run dev","，看看 Chrome 有沒有出現「安裝」圖示，有的話就代表設定成功。","後記","不知道為什麼，Nuxt3 的模組只要是非官方開發的，文件的複雜度感覺都升了一個層級……，想到這部落格也要找時間升上 Nuxt3 就覺得頭很痛啊。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2024/vue_stack_deployment_pm2","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"設定PM2來管理Nuxt SSR網站","description":"最近想整理一下自己在工作中用到的工具集，回頭看發現比較不熟的是 pm2 的初始設定，畢竟設定好之後也只會用到pm2 status、pm2 logs、pm2 monit……這些維護用的指令而已，就決定先從 pm2 開始紀錄了。","img":"924/Crirxh.jpg","tags":["nuxt","vue","pm2"],"category":"frontend","readingTime":{"text":"4 min read","minutes":3.83,"time":229800,"words":766},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近想整理一下自己在工作中用到的工具集，回頭看發現比較不熟的是 pm2 的初始設定，畢竟設定好之後也只會用到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pm2 status"}]},{"type":"text","value":"、"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pm2 logs"}]},{"type":"text","value":"、"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pm2 monit"}]},{"type":"text","value":"……這些維護用的指令而已，就決定先從 pm2 開始紀錄了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"文章內容都是官方文件就有的東西，這邊是取自己比較常用的部份，可能會延遲更新，還請訪客以"},{"type":"element","tag":"a","props":{"href":"https://pm2.keymetrics.io/docs/usage/quick-start/","rel":["nofollow"]},"children":[{"type":"text","value":"官方文件"}]},{"type":"text","value":"為準。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"最近想整理一下自己在工作中用到的工具集，回頭看發現比較不熟的是 pm2 的初始設定，畢竟設定好之後也只會用到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pm2 status"}]},{"type":"text","value":"、"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pm2 logs"}]},{"type":"text","value":"、"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pm2 monit"}]},{"type":"text","value":"……這些維護用的指令而已，就決定先從 pm2 開始紀錄了。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"文章內容都是官方文件就有的東西，這邊是取自己比較常用的部份，可能會延遲更新，還請訪客以"},{"type":"element","tag":"a","props":{"href":"https://pm2.keymetrics.io/docs/usage/quick-start/","rel":["nofollow"]},"children":[{"type":"text","value":"官方文件"}]},{"type":"text","value":"為準。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"什麼是-pm2"},"children":[{"type":"text","value":"什麼是 PM2"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"需要使用即時 SSR 功能的 Nuxt 網站必須跑在 node 環境中成為一個 process，而 pm2 顧名思義就是拿來管理這個 process 的管理器（manager）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這個管理器有滿多功能，像是主機重開機時自動重新啟動網站、自動將網站的 process 叢集化以達到可用的最大效能、紀錄 log、監控即時的效能資源耗損……等等，比起直接讓網站"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"npm run start"}]},{"type":"text","value":"來說，會方便許多。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"安裝"},"children":[{"type":"text","value":"安裝"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"可以透過 npm 直接安裝："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"sudo npm install pm2@latest -g\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" pm2@latest"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -g\n"}]}]}]}]},{"type":"element","tag":"article-note","props":{},"children":[{"type":"text","value":"\n這裡會有\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"sudo"}]},{"type":"text","value":"\n是因為自己工作中是透過 linux 的軟體包管理器來安裝 nodejs，若要全域安裝會需要管理員權限。\n"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"設定與執行"},"children":[{"type":"text","value":"設定與執行"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"透過建立"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ecosystem.config.js"}]},{"type":"text","value":"檔案（Nuxt3 中為"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ecosystem.config.cjs"}]},{"type":"text","value":"）可以控制 pm2 執行網站時的一些設定值，基本內容如下："}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes github-dark","code":"module.exports = {\n  apps: [\n    {\n      name: 'NuxtAppName',\n      exec_mode: 'cluster',\n      instances: 'max',\n      /* Nuxt3 */\n      // port: '3000',\n      // script: './.output/server/index.mjs',\n      /* Nuxt2 */\n      script: './node_modules/nuxt/bin/nuxt.js',\n      args: 'start',\n    },\n  ],\n}\n","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"module"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"exports"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  apps: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      name: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'NuxtAppName'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      exec_mode: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'cluster'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      instances: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'max'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      /* Nuxt3 */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      // port: '3000',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      // script: './.output/server/index.mjs',\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      /* Nuxt2 */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      script: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'./node_modules/nuxt/bin/nuxt.js'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      args: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'start'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接著在網站資料夾中執行下面這個指令，pm2 就會開始執行 Nuxt 網站了："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"pm2 start ecosystem.config.js\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"pm2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" start"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" ecosystem.config.js\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"自己常用的其他設定"},"children":[{"type":"text","value":"自己常用的其他設定"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"當然"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ecosystem.config.js"}]},{"type":"text","value":"還可以設定更多的參數，自己常用的羅列如下："}]},{"type":"element","tag":"pre","props":{"className":"language-js shiki shiki-themes github-dark","code":"module.exports = {\n  apps: [\n    {\n      // 設定不同環境時的參數，可以區分開發、測試以及正式環境。\n      // 不同環境可以透過pm2 start時以--env production傳入。\n      env_production: {\n        NODE_ENV: 'production',\n      },\n      env_development: {\n        NODE_ENV: 'development',\n      },\n      // 當網站實體佔用超過多少記憶體時便重啟\n      max_memory_restart: '3.75G',\n    },\n  ],\n}\n","language":"js","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"module"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"exports"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  apps: [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      // 設定不同環境時的參數，可以區分開發、測試以及正式環境。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      // 不同環境可以透過pm2 start時以--env production傳入。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      env_production: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        NODE_ENV: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'production'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      env_development: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"        NODE_ENV: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'development'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      // 當網站實體佔用超過多少記憶體時便重啟\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      max_memory_restart: "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"'3.75G'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  ],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"設定開機時自動重新啟動-pm2"},"children":[{"type":"text","value":"設定開機時自動重新啟動 pm2"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若網站是部署在主機上，而非透過容器方式的話，設定主機重開機時自動重新啟動後，可以防止主機意外重新啟動後網站掛掉的問題。先輸入下列指令："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"pm2 startup\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"pm2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" startup\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接著終端機會出現像這樣的提示，要你複製一段指令並執行："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"[PM2] Init System found: systemd\n[PM2] To setup the Startup Script, copy/paste the following command:\nsudo env PATH=$PATH:/home/somuser/.nvm/versions/node/v20.14.0/bin /home/someuser/.nvm/versions/node/v20.14.0/lib/node_modules/pm2/bin/pm2 startup <distribution> -u <user> --hp <home-path>\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"[PM2] Init System found: systemd\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"[PM2] To setup the Startup Script, copy/paste the following command:\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"sudo"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" env"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" PATH="}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"$PATH"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":":/home/somuser/.nvm/versions/node/v20.14.0/bin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" /home/someuser/.nvm/versions/node/v20.14.0/lib/node_modules/pm2/bin/pm2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" startup"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"distributio"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"n"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" -u"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"use"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":" --hp"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":" <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"home-pat"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"h"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#F97583"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"指令的內容會根據你目前所在的系統版本、使用的 nodejs 環境而有所不同，總之就複製後執行。最後透過 pm2 執行所有你在重開機時想要自動執行的網站後，再執行下列指令："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"pm2 save\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"pm2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" save\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這樣就設定完成了。"}]},{"type":"element","tag":"h3","props":{"id":"取消自動重新啟動"},"children":[{"type":"text","value":"取消自動重新啟動"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"若想要取消自動重新啟動的話，可以透過下列指令："}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark","code":"pm2 unstartup\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0"},"children":[{"type":"text","value":"pm2"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":" unstartup\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"在主機 node 環境有升級的時候，要記得先"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"unstartup"}]},{"type":"text","value":"，再重新設定。"}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"什麼是-pm2","depth":2,"text":"什麼是 PM2"},{"id":"安裝","depth":2,"text":"安裝"},{"id":"設定與執行","depth":2,"text":"設定與執行","children":[{"id":"自己常用的其他設定","depth":3,"text":"自己常用的其他設定"}]},{"id":"設定開機時自動重新啟動-pm2","depth":2,"text":"設定開機時自動重新啟動 pm2","children":[{"id":"取消自動重新啟動","depth":3,"text":"取消自動重新啟動"}]}]}},"_type":"markdown","_id":"content:articles:2024:vue_stack_deployment_pm2.md","_source":"content","_file":"articles/2024/vue_stack_deployment_pm2.md","_extension":"md","createdAt":"2024-06-02T02:55:15.000Z","updatedAt":"2024-06-02T02:55:15.000Z","slug":"vue_stack_deployment_pm2","plainTexts":["最近想整理一下自己在工作中用到的工具集，回頭看發現比較不熟的是 pm2 的初始設定，畢竟設定好之後也只會用到","pm2 status","、","pm2 logs","、","pm2 monit","……這些維護用的指令而已，就決定先從 pm2 開始紀錄了。","文章內容都是官方文件就有的東西，這邊是取自己比較常用的部份，可能會延遲更新，還請訪客以","官方文件","為準。","什麼是 PM2","需要使用即時 SSR 功能的 Nuxt 網站必須跑在 node 環境中成為一個 process，而 pm2 顧名思義就是拿來管理這個 process 的管理器（manager）。","這個管理器有滿多功能，像是主機重開機時自動重新啟動網站、自動將網站的 process 叢集化以達到可用的最大效能、紀錄 log、監控即時的效能資源耗損……等等，比起直接讓網站","npm run start","來說，會方便許多。","安裝","可以透過 npm 直接安裝：","sudo","npm","install","pm2@latest","-g","這裡會有","sudo","是因為自己工作中是透過 linux 的軟體包管理器來安裝 nodejs，若要全域安裝會需要管理員權限。","設定與執行","透過建立","ecosystem.config.js","檔案（Nuxt3 中為","ecosystem.config.cjs","）可以控制 pm2 執行網站時的一些設定值，基本內容如下：","module",".","exports","=","{","apps: [","{","name:","'NuxtAppName'",",","exec_mode:","'cluster'",",","instances:","'max'",",","/* Nuxt3 */","// port: '3000',","// script: './.output/server/index.mjs',","/* Nuxt2 */","script:","'./node_modules/nuxt/bin/nuxt.js'",",","args:","'start'",",","},","],","}","接著在網站資料夾中執行下面這個指令，pm2 就會開始執行 Nuxt 網站了：","pm2","start","ecosystem.config.js","自己常用的其他設定","當然","ecosystem.config.js","還可以設定更多的參數，自己常用的羅列如下：","module",".","exports","=","{","apps: [","{","// 設定不同環境時的參數，可以區分開發、測試以及正式環境。","// 不同環境可以透過pm2 start時以--env production傳入。","env_production: {","NODE_ENV:","'production'",",","},","env_development: {","NODE_ENV:","'development'",",","},","// 當網站實體佔用超過多少記憶體時便重啟","max_memory_restart:","'3.75G'",",","},","],","}","設定開機時自動重新啟動 pm2","若網站是部署在主機上，而非透過容器方式的話，設定主機重開機時自動重新啟動後，可以防止主機意外重新啟動後網站掛掉的問題。先輸入下列指令：","pm2","startup","接著終端機會出現像這樣的提示，要你複製一段指令並執行：","[PM2] Init System found: systemd","[PM2] To setup the Startup Script, copy/paste the following command:","sudo","env","PATH=","$PATH",":/home/somuser/.nvm/versions/node/v20.14.0/bin","/home/someuser/.nvm/versions/node/v20.14.0/lib/node_modules/pm2/bin/pm2","startup","<","distributio","n",">","-u","<","use","r",">","--hp","<","home-pat","h",">","指令的內容會根據你目前所在的系統版本、使用的 nodejs 環境而有所不同，總之就複製後執行。最後透過 pm2 執行所有你在重開機時想要自動執行的網站後，再執行下列指令：","pm2","save","這樣就設定完成了。","取消自動重新啟動","若想要取消自動重新啟動的話，可以透過下列指令：","pm2","unstartup","在主機 node 環境有升級的時候，要記得先","unstartup","，再重新設定。","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]},{"_path":"/articles/2024/vue_stack_development_devcontainer","_dir":"2024","_draft":false,"_partial":false,"_locale":"","title":"使用VSCode搭配DevContainer容器化開發Vue專案","description":"在這個什麼都可以容器化的年代，開發也是可以容器化的。容器化的好處多多，其中自己覺得最重要的部份就是不再需要寫繁雜的設定步驟文件流傳後代（？），只要寫好 dockerfile，就能 1:1 重製開發環境。","img":"924/uCCnpK.jpg","tags":["docker","vscode","devcontainer"],"category":"frontend","readingTime":{"text":"4 min read","minutes":3.195,"time":191700,"words":639},"excerpt":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在這個什麼都可以容器化的年代，開發也是可以容器化的。容器化的好處多多，其中自己覺得最重要的部份就是不再需要寫繁雜的設定步驟文件流傳後代（？），只要寫好 dockerfile，就能 1:1 重製開發環境。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這篇文章要紀錄的就是自己使用 VScode 搭配 DevContainer 來容器化開發的過程。"}]}]},"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在這個什麼都可以容器化的年代，開發也是可以容器化的。容器化的好處多多，其中自己覺得最重要的部份就是不再需要寫繁雜的設定步驟文件流傳後代（？），只要寫好 dockerfile，就能 1:1 重製開發環境。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這篇文章要紀錄的就是自己使用 VScode 搭配 DevContainer 來容器化開發的過程。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"前置準備"},"children":[{"type":"text","value":"前置準備"}]},{"type":"element","tag":"h3","props":{"id":"安裝-docker"},"children":[{"type":"text","value":"安裝 Docker"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"第一步當然是安裝容器引擎，雖然平常用的 Fedora 中有內建 Podman 可以用，不過實際搭配使用起來問題不少，自己試了好多次還是沒辦法解決，所以還是使用 Docker。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"關於 Docker 的安裝可以參閱"},{"type":"element","tag":"a","props":{"href":"https://docs.docker.com/engine/install/","rel":["nofollow"]},"children":[{"type":"text","value":"官方文件"}]},{"type":"text","value":"，若同是使用 Fedora 的朋友，可以參考我整理的簡單筆記："},{"type":"element","tag":"article-inner-link","props":{"slug":"fedora_docker_startup"},"children":[]},{"type":"text","value":"。"}]},{"type":"element","tag":"h3","props":{"id":"安裝-devcontainer-擴充套件"},"children":[{"type":"text","value":"安裝 DevContainer 擴充套件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接著是安裝整合 VSCode 與 DevContainer 的擴充套件："},{"type":"element","tag":"a","props":{"href":"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers","rel":["nofollow"]},"children":[{"type":"text","value":"Dev Containers"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"設定-devcontainer"},"children":[{"type":"text","value":"設定 DevContainer"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"這邊建議透過 VSCode 中 F1 的快速指令來新增設定檔，若要自行編寫 Dockerfile 最好也先以官方支援的映像檔為基礎。可以參考"},{"type":"element","tag":"a","props":{"href":"https://code.visualstudio.com/docs/devcontainers/tutorial#_get-the-sample","rel":["nofollow"]},"children":[{"type":"text","value":"Dev Containers tutorial"}]},{"type":"text","value":"。否則可能會遇到在容器內編輯檔案後，回到本機卻無法編輯的權限問題。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"建立好後，會看到專案多了一個"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".devcontainer"}]},{"type":"text","value":"資料夾，其中會有"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"devcontainer.json"}]},{"type":"text","value":"檔案："}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes github-dark","code":"// For format details, see https://aka.ms/devcontainer.json. For config options, see the\n// README at: https://github.com/devcontainers/templates/tree/main/src/javascript-node\n{\n  \"name\": \"Node.js\",\n  // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile\n  \"image\": \"mcr.microsoft.com/devcontainers/javascript-node:1-20-bookworm\"\n\n  // Features to add to the dev container. More info: https://containers.dev/features.\n  // \"features\": {},\n\n  // Use 'forwardPorts' to make a list of ports inside the container available locally.\n  // \"forwardPorts\": [],\n\n  // Use 'postCreateCommand' to run commands after the container is created.\n  // \"postCreateCommand\": \"yarn install\",\n\n  // Configure tool-specific properties.\n  // \"customizations\": {},\n\n  // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.\n  // \"remoteUser\": \"root\"\n}\n","filename":"devcontainer.json","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"// For format details, see https://aka.ms/devcontainer.json. For config options, see the\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"// README at: https://github.com/devcontainers/templates/tree/main/src/javascript-node\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  \"name\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"Node.js\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  \"image\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"mcr.microsoft.com/devcontainers/javascript-node:1-20-bookworm\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // Features to add to the dev container. More info: https://containers.dev/features.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // \"features\": {},\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // Use 'forwardPorts' to make a list of ports inside the container available locally.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // \"forwardPorts\": [],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // Use 'postCreateCommand' to run commands after the container is created.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // \"postCreateCommand\": \"yarn install\",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // Configure tool-specific properties.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // \"customizations\": {},\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // \"remoteUser\": \"root\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"詳細設定的參考文件，官方都幫你寫在註解了，可以點網址進去查看，下面補充幾個自己會做的設定。"}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes github-dark","code":"{\n  // 安裝node依賴項\n  \"postCreateCommand\": \"npm install\",\n  \"customizations\": {\n    // 可以指定一些vscode專用的設定\n    \"vscode\": {\n      // VScode的設定值\n      \"settings\": {},\n      // 新增要安裝在容器內的VSCode擴充套件，像是格式化之類的工具。\n      \"extensions\": [\n        \"esbenp.prettier-vscode\",\n        \"donjayamanne.githistory\",\n        \"Vue.volar\",\n        \"dbaeumer.vscode-eslint\"\n      ]\n    }\n  }\n}\n","filename":"devcontainer.json","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"  // 安裝node依賴項\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  \"postCreateCommand\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"npm install\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  \"customizations\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"    // 可以指定一些vscode專用的設定\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"    \"vscode\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      // VScode的設定值\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"      \"settings\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": {},\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D"},"children":[{"type":"text","value":"      // 新增要安裝在容器內的VSCode擴充套件，像是格式化之類的工具。\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"      \"extensions\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"        \"esbenp.prettier-vscode\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"        \"donjayamanne.githistory\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"        \"Vue.volar\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"        \"dbaeumer.vscode-eslint\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"      ]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"錯誤處理"},"children":[{"type":"text","value":"錯誤處理"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你像我一樣在 DevContainer 中開發 Nuxt 網站時遇到"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ERR_CONTENT_LENGTH_MISMATCH"}]},{"type":"text","value":"問題，可以在"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":"中的"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dev"}]},{"type":"text","value":"指令加上"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"--no-fork"}]},{"type":"text","value":"參數。不過研究"},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/cli/issues/181","rel":["nofollow"]},"children":[{"type":"text","value":"官方 Gihub 的 Issue"}]},{"type":"text","value":"我也不知道是什麼原因，然後也不知道為什麼加這個參數可以解決就是了……。"}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes github-dark","code":"{\n  \"scripts\": {\n    \"dev\": \"nuxt dev --no-fork\"\n  }\n}\n","filename":"package.json","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"  \"scripts\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF"},"children":[{"type":"text","value":"    \"dev\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF"},"children":[{"type":"text","value":"\"nuxt dev --no-fork\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"參考文獻"},"children":[{"type":"text","value":"參考文獻"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://code.visualstudio.com/docs/devcontainers/containers","rel":["nofollow"]},"children":[{"type":"text","value":"Developing inside a Container"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"前置準備","depth":2,"text":"前置準備","children":[{"id":"安裝-docker","depth":3,"text":"安裝 Docker"},{"id":"安裝-devcontainer-擴充套件","depth":3,"text":"安裝 DevContainer 擴充套件"}]},{"id":"設定-devcontainer","depth":2,"text":"設定 DevContainer"},{"id":"錯誤處理","depth":2,"text":"錯誤處理"},{"id":"參考文獻","depth":2,"text":"參考文獻"}]}},"_type":"markdown","_id":"content:articles:2024:vue_stack_development_devcontainer.md","_source":"content","_file":"articles/2024/vue_stack_development_devcontainer.md","_extension":"md","createdAt":"2024-06-02T12:48:40.000Z","updatedAt":"2024-06-02T12:48:40.000Z","slug":"vue_stack_development_devcontainer","plainTexts":["在這個什麼都可以容器化的年代，開發也是可以容器化的。容器化的好處多多，其中自己覺得最重要的部份就是不再需要寫繁雜的設定步驟文件流傳後代（？），只要寫好 dockerfile，就能 1:1 重製開發環境。","這篇文章要紀錄的就是自己使用 VScode 搭配 DevContainer 來容器化開發的過程。","前置準備","安裝 Docker","第一步當然是安裝容器引擎，雖然平常用的 Fedora 中有內建 Podman 可以用，不過實際搭配使用起來問題不少，自己試了好多次還是沒辦法解決，所以還是使用 Docker。","關於 Docker 的安裝可以參閱","官方文件","，若同是使用 Fedora 的朋友，可以參考我整理的簡單筆記：","。","安裝 DevContainer 擴充套件","接著是安裝整合 VSCode 與 DevContainer 的擴充套件：","Dev Containers","。","設定 DevContainer","這邊建議透過 VSCode 中 F1 的快速指令來新增設定檔，若要自行編寫 Dockerfile 最好也先以官方支援的映像檔為基礎。可以參考","Dev Containers tutorial","。否則可能會遇到在容器內編輯檔案後，回到本機卻無法編輯的權限問題。","建立好後，會看到專案多了一個",".devcontainer","資料夾，其中會有","devcontainer.json","檔案：","// For format details, see https://aka.ms/devcontainer.json. For config options, see the","// README at: https://github.com/devcontainers/templates/tree/main/src/javascript-node","{","\"name\"",":","\"Node.js\"",",","// Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile","\"image\"",":","\"mcr.microsoft.com/devcontainers/javascript-node:1-20-bookworm\"","","// Features to add to the dev container. More info: https://containers.dev/features.","// \"features\": {},","","// Use 'forwardPorts' to make a list of ports inside the container available locally.","// \"forwardPorts\": [],","","// Use 'postCreateCommand' to run commands after the container is created.","// \"postCreateCommand\": \"yarn install\",","","// Configure tool-specific properties.","// \"customizations\": {},","","// Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.","// \"remoteUser\": \"root\"","}","詳細設定的參考文件，官方都幫你寫在註解了，可以點網址進去查看，下面補充幾個自己會做的設定。","{","// 安裝node依賴項","\"postCreateCommand\"",":","\"npm install\"",",","\"customizations\"",": {","// 可以指定一些vscode專用的設定","\"vscode\"",": {","// VScode的設定值","\"settings\"",": {},","// 新增要安裝在容器內的VSCode擴充套件，像是格式化之類的工具。","\"extensions\"",": [","\"esbenp.prettier-vscode\"",",","\"donjayamanne.githistory\"",",","\"Vue.volar\"",",","\"dbaeumer.vscode-eslint\"","]","}","}","}","錯誤處理","如果你像我一樣在 DevContainer 中開發 Nuxt 網站時遇到","ERR_CONTENT_LENGTH_MISMATCH","問題，可以在","package.json","中的","dev","指令加上","--no-fork","參數。不過研究","官方 Gihub 的 Issue","我也不知道是什麼原因，然後也不知道為什麼加這個參數可以解決就是了……。","{","\"scripts\"",": {","\"dev\"",":","\"nuxt dev --no-fork\"","}","}","參考文獻","Developing inside a Container","html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"]}],"navigation":[{"title":"Articles","_path":"/articles","children":[{"title":"2023","_path":"/articles/2023","children":[{"title":"關於我跟隨機手札的二三事","_path":"/articles/2023/buy_me_a_tea"},{"title":"透過魚罐頭補充Omega 3(EPA / DHA)的可行性","_path":"/articles/2023/canned_fish_dha_epa"},{"title":"個人作品集","_path":"/articles/2023/collections"},{"title":"寫在FTX事件之後：冷錢包中那些看不見的管理及使用成本","_path":"/articles/2023/crypto_after_ftx"},{"title":"流動性挖礦v2心得記錄","_path":"/articles/2023/crypto_liquidity_mining_v2"},{"title":"在Fedora 38中關閉Intel Turbo Boost","_path":"/articles/2023/fedora_disable_turbo_boost"},{"title":"在Fedora 38中安裝Docker","_path":"/articles/2023/fedora_docker_startup"},{"title":"在Fedora 38編譯Pixel 3a的LineageOS","_path":"/articles/2023/fedora_lineageos_sargo"},{"title":"MEGA - 完整支援Fedora Workstation 38的雲端硬碟","_path":"/articles/2023/fedora_megasync"},{"title":"Fedora初始設定紀錄","_path":"/articles/2023/fedora_startup"},{"title":"在Fedora 38中使用unrar解壓縮RAR檔案","_path":"/articles/2023/fedora_unrar"},{"title":"在Fedora 38中使用video-downloader下載Youtube影片","_path":"/articles/2023/fedora_youtube_download"},{"title":"調整Fedora中的ZRAM大小","_path":"/articles/2023/fedora_zram_resize"},{"title":"寫在第一次目睹潛友淺水昏迷之後","_path":"/articles/2023/free_diving_seeing_friend_black_out_first_time"},{"title":"哪些人適合嘗試Linux發行版？｜Linux發行版十年使用心得","_path":"/articles/2023/linux_ten_years_experience"},{"title":"在MacBook Air 2013上安裝Fedora 38","_path":"/articles/2023/macbook_air_2013_fedora"},{"title":"完全不懂德文的人喜歡上的Mark Forster","_path":"/articles/2023/mark_forster"},{"title":"解決底部Sticky元素在Android Chrome滾動時渲染位置錯誤的問題","_path":"/articles/2023/mobile_chrome_sticky_bottom"},{"title":"Nuxt2中的BootstrapVue TreeShaking","_path":"/articles/2023/nuxt2_bootstrapvue_treeshaking"},{"title":"在Nuxt Content v1中實現程式碼區塊複製貼上功能","_path":"/articles/2023/nuxt2_content_code_block_copy_paste"},{"title":"使用nuxt-content-git取得Nuxt2 Content中正確的檔案時間","_path":"/articles/2023/nuxt2_content_git"},{"title":"在Nuxt 2中建立動態routes的sitemap","_path":"/articles/2023/nuxt2_dynamic_routes_sitemap"},{"title":"2023沖繩自由行：第一天——首里城","_path":"/articles/2023/okinawa_first_day_2023"},{"title":"2023沖繩自由行：食物篇——沖繩蕎麥麵、敘敘院燒肉、A&W、豬肉蛋飯糰、貢茶、吉野家、琉球新麵通堂、Blue Seal","_path":"/articles/2023/okinawa_foods_2023"},{"title":"2023沖繩自由行：第四天——市區單軌列車耍廢晃晃","_path":"/articles/2023/okinawa_fourth_day_2023"},{"title":"2023沖繩自由行：住宿篇——東急STAY沖繩那霸","_path":"/articles/2023/okinawa_hotel_2023"},{"title":"2023沖繩自由行：第二天——觀光巴士北部一日遊","_path":"/articles/2023/okinawa_one_day_tour_bus_2023"},{"title":"2023沖繩自由行：第三天——觀光巴士南部一日遊","_path":"/articles/2023/okinawa_one_day_tour_bus_2023_south"},{"title":"線上問卷調查賺取「額外微薄收入」心得","_path":"/articles/2023/online_survey_money"},{"title":"使用Fedora刷Pixel 3a的LineageOS 過程紀錄","_path":"/articles/2023/pixel3a_custom_rom"},{"title":"在Ubuntu 22.04編譯Pixel 3a的LineageOS 20.0","_path":"/articles/2023/ubuntu_lineageos_sargo"},{"title":"調整Ubuntu中的SWAP大小","_path":"/articles/2023/ubuntu_swap_resize"},{"title":"同志家庭中的兒少福祉——學術研究怎麼說？","_path":"/articles/2023/what_we_know_rainbow_parent"},{"title":"性傾向轉換療法的有效性——學術研究怎麼說？","_path":"/articles/2023/what_we_know_rainbow_therapy"},{"title":"使用WoeUSB在Fedora中製作Windows安裝USB","_path":"/articles/2023/woeusb"}]},{"title":"2024","_path":"/articles/2024","children":[{"title":"ChromeOS Flex 試用心得 @ ASUS E203NA","_path":"/articles/2024/chrome_os_flex_asus_e203na"},{"title":"部落格遊牧紀錄：Blogger、Medium、Matters、Github Pages","_path":"/articles/2024/compare_blog"},{"title":"流動性挖礦v3心得記錄","_path":"/articles/2024/crypto_liquidity_mining_v3"},{"title":"部落格Nuxt 2升級Nuxt 3：前言","_path":"/articles/2024/nuxt2_to_nuxt3_blog_0_intro"},{"title":"部落格Nuxt 2升級Nuxt 3（一）：bootstrapVue置換成自製的bootrap5元件","_path":"/articles/2024/nuxt2_to_nuxt3_blog_1_ui"},{"title":"部落格Nuxt 2升級Nuxt 3（二）：基本架構與設定值","_path":"/articles/2024/nuxt2_to_nuxt3_blog_2_settings"},{"title":"部落格Nuxt 2升級Nuxt 3（三）：Nuxt Content v1 → v2","_path":"/articles/2024/nuxt2_to_nuxt3_blog_3_modules_content"},{"title":"部落格Nuxt 2升級Nuxt 3（四）：PWA模組 @nuxt/pwa → @vite-pwa/nuxt","_path":"/articles/2024/nuxt2_to_nuxt3_blog_4_modules_pwa"},{"title":"部落格Nuxt 2升級Nuxt 3（五）：Sitemap模組升級","_path":"/articles/2024/nuxt2_to_nuxt3_blog_5_modules_sitemap"},{"title":"部落格Nuxt 2升級Nuxt 3（六）：Vuex → Pinia","_path":"/articles/2024/nuxt2_to_nuxt3_blog_6_modules_pinia"},{"title":"Nuxt3中使用vite-pwa實現pwa功能","_path":"/articles/2024/nuxt3_vite_pwa"},{"title":"設定PM2來管理Nuxt SSR網站","_path":"/articles/2024/vue_stack_deployment_pm2"},{"title":"使用VSCode搭配DevContainer容器化開發Vue專案","_path":"/articles/2024/vue_stack_development_devcontainer"}]}]}]}