[{"data":1,"prerenderedAt":764},["ShallowReactive",2],{"vue_stack_development_devcontainer":3,"title|fedora_vscode_devcontainer_podman":739,"title|fedora_docker_startup":740,"Related_vue_stack_development_devcontainer":741},{"title":4,"description":5,"img":6,"readingTime":7,"createdAt":12,"updatedAt":13,"slug":14,"tags":15,"category":19,"body":20},"使用VSCode搭配DevContainer容器化開發Vue專案","在這個什麼都可以容器化的年代，開發也是可以容器化的。容器化的好處多多，其中自己覺得最重要的部份就是不再需要寫繁雜的設定步驟文件流傳後代（？），只要寫好 dockerfile，就能 1:1 重製開發環境。","924/uCCnpK.jpg",{"text":8,"minutes":9,"time":10,"words":11},"4 min read",3.225,193500,645,"2024-06-02T12:48:40.000Z","2024-11-03T03:26:44.000Z","vue_stack_development_devcontainer",[16,17,18],"docker","vscode","devcontainer","frontend",{"type":21,"children":22,"toc":730},"root",[23,30,35,56,60,66,73,94,100,113,116,122,136,156,392,397,590,593,598,644,701,704,709,724],{"type":24,"tag":25,"props":26,"children":27},"element","p",{},[28],{"type":29,"value":5},"text",{"type":24,"tag":25,"props":31,"children":32},{},[33],{"type":29,"value":34},"這篇文章要紀錄的就是自己使用 VScode 搭配 DevContainer 來容器化開發的過程。",{"type":24,"tag":25,"props":36,"children":37},{},[38,40,47,49,54],{"type":29,"value":39},"若你平常用的系統跟我一樣是 Fedora 的話，可使用內建的 Podman 來取代 Docker 作為 DevContainer 的底層引擎，不過最後會需要稍微調整一下",{"type":24,"tag":41,"props":42,"children":44},"code",{"className":43},[],[45],{"type":29,"value":46},"devcontainer.json",{"type":29,"value":48},"，這部份可以參考",{"type":24,"tag":50,"props":51,"children":53},"article-inner-link",{"slug":52},"fedora_vscode_devcontainer_podman",[],{"type":29,"value":55},"。",{"type":24,"tag":57,"props":58,"children":59},"hr",{},[],{"type":24,"tag":61,"props":62,"children":64},"h2",{"id":63},"前置準備",[65],{"type":29,"value":63},{"type":24,"tag":67,"props":68,"children":70},"h3",{"id":69},"安裝-docker",[71],{"type":29,"value":72},"安裝 Docker",{"type":24,"tag":25,"props":74,"children":75},{},[76,78,87,89,93],{"type":29,"value":77},"第一步當然是安裝容器引擎囉！關於 Docker 的安裝可以參閱",{"type":24,"tag":79,"props":80,"children":84},"a",{"href":81,"rel":82},"https://docs.docker.com/engine/install/",[83],"nofollow",[85],{"type":29,"value":86},"官方文件",{"type":29,"value":88},"，若同是使用 Fedora 的朋友，可以參考我整理的簡單筆記：",{"type":24,"tag":50,"props":90,"children":92},{"slug":91},"fedora_docker_startup",[],{"type":29,"value":55},{"type":24,"tag":67,"props":95,"children":97},{"id":96},"安裝-devcontainer-擴充套件",[98],{"type":29,"value":99},"安裝 DevContainer 擴充套件",{"type":24,"tag":25,"props":101,"children":102},{},[103,105,112],{"type":29,"value":104},"接著是安裝整合 VSCode 與 DevContainer 的擴充套件：",{"type":24,"tag":79,"props":106,"children":109},{"href":107,"rel":108},"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers",[83],[110],{"type":29,"value":111},"Dev Containers",{"type":29,"value":55},{"type":24,"tag":57,"props":114,"children":115},{},[],{"type":24,"tag":61,"props":117,"children":119},{"id":118},"設定-devcontainer",[120],{"type":29,"value":121},"設定 DevContainer",{"type":24,"tag":25,"props":123,"children":124},{},[125,127,134],{"type":29,"value":126},"這邊建議透過 VSCode 中 F1 的快速指令來新增設定檔，若要自行編寫 Dockerfile 最好也先以官方支援的映像檔為基礎。可以參考",{"type":24,"tag":79,"props":128,"children":131},{"href":129,"rel":130},"https://code.visualstudio.com/docs/devcontainers/tutorial#_get-the-sample",[83],[132],{"type":29,"value":133},"Dev Containers tutorial",{"type":29,"value":135},"。否則可能會遇到在容器內編輯檔案後，回到本機卻無法編輯的權限問題。",{"type":24,"tag":25,"props":137,"children":138},{},[139,141,147,149,154],{"type":29,"value":140},"建立好後，會看到專案多了一個",{"type":24,"tag":41,"props":142,"children":144},{"className":143},[],[145],{"type":29,"value":146},".devcontainer",{"type":29,"value":148},"資料夾，其中會有",{"type":24,"tag":41,"props":150,"children":152},{"className":151},[],[153],{"type":29,"value":46},{"type":29,"value":155},"檔案：",{"type":24,"tag":157,"props":158,"children":163},"pre",{"className":159,"code":160,"filename":46,"language":161,"meta":162,"style":162},"language-json shiki shiki-themes github-dark","// For format details, see https://aka.ms/devcontainer.json. For config options, see the\n// README at: https://github.com/devcontainers/templates/tree/main/src/javascript-node\n{\n  \"name\": \"Node.js\",\n  // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile\n  \"image\": \"mcr.microsoft.com/devcontainers/javascript-node:1-20-bookworm\"\n\n  // Features to add to the dev container. More info: https://containers.dev/features.\n  // \"features\": {},\n\n  // Use 'forwardPorts' to make a list of ports inside the container available locally.\n  // \"forwardPorts\": [],\n\n  // Use 'postCreateCommand' to run commands after the container is created.\n  // \"postCreateCommand\": \"yarn install\",\n\n  // Configure tool-specific properties.\n  // \"customizations\": {},\n\n  // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.\n  // \"remoteUser\": \"root\"\n}\n","json","",[164],{"type":24,"tag":41,"props":165,"children":166},{"__ignoreMap":162},[167,179,188,198,224,233,251,261,270,279,287,296,305,313,322,331,339,348,357,365,374,383],{"type":24,"tag":168,"props":169,"children":172},"span",{"class":170,"line":171},"line",1,[173],{"type":24,"tag":168,"props":174,"children":176},{"style":175},"--shiki-default:#6A737D",[177],{"type":29,"value":178},"// For format details, see https://aka.ms/devcontainer.json. For config options, see the\n",{"type":24,"tag":168,"props":180,"children":182},{"class":170,"line":181},2,[183],{"type":24,"tag":168,"props":184,"children":185},{"style":175},[186],{"type":29,"value":187},"// README at: https://github.com/devcontainers/templates/tree/main/src/javascript-node\n",{"type":24,"tag":168,"props":189,"children":191},{"class":170,"line":190},3,[192],{"type":24,"tag":168,"props":193,"children":195},{"style":194},"--shiki-default:#E1E4E8",[196],{"type":29,"value":197},"{\n",{"type":24,"tag":168,"props":199,"children":201},{"class":170,"line":200},4,[202,208,213,219],{"type":24,"tag":168,"props":203,"children":205},{"style":204},"--shiki-default:#79B8FF",[206],{"type":29,"value":207},"  \"name\"",{"type":24,"tag":168,"props":209,"children":210},{"style":194},[211],{"type":29,"value":212},": ",{"type":24,"tag":168,"props":214,"children":216},{"style":215},"--shiki-default:#9ECBFF",[217],{"type":29,"value":218},"\"Node.js\"",{"type":24,"tag":168,"props":220,"children":221},{"style":194},[222],{"type":29,"value":223},",\n",{"type":24,"tag":168,"props":225,"children":227},{"class":170,"line":226},5,[228],{"type":24,"tag":168,"props":229,"children":230},{"style":175},[231],{"type":29,"value":232},"  // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile\n",{"type":24,"tag":168,"props":234,"children":236},{"class":170,"line":235},6,[237,242,246],{"type":24,"tag":168,"props":238,"children":239},{"style":204},[240],{"type":29,"value":241},"  \"image\"",{"type":24,"tag":168,"props":243,"children":244},{"style":194},[245],{"type":29,"value":212},{"type":24,"tag":168,"props":247,"children":248},{"style":215},[249],{"type":29,"value":250},"\"mcr.microsoft.com/devcontainers/javascript-node:1-20-bookworm\"\n",{"type":24,"tag":168,"props":252,"children":254},{"class":170,"line":253},7,[255],{"type":24,"tag":168,"props":256,"children":258},{"emptyLinePlaceholder":257},true,[259],{"type":29,"value":260},"\n",{"type":24,"tag":168,"props":262,"children":264},{"class":170,"line":263},8,[265],{"type":24,"tag":168,"props":266,"children":267},{"style":175},[268],{"type":29,"value":269},"  // Features to add to the dev container. More info: https://containers.dev/features.\n",{"type":24,"tag":168,"props":271,"children":273},{"class":170,"line":272},9,[274],{"type":24,"tag":168,"props":275,"children":276},{"style":175},[277],{"type":29,"value":278},"  // \"features\": {},\n",{"type":24,"tag":168,"props":280,"children":282},{"class":170,"line":281},10,[283],{"type":24,"tag":168,"props":284,"children":285},{"emptyLinePlaceholder":257},[286],{"type":29,"value":260},{"type":24,"tag":168,"props":288,"children":290},{"class":170,"line":289},11,[291],{"type":24,"tag":168,"props":292,"children":293},{"style":175},[294],{"type":29,"value":295},"  // Use 'forwardPorts' to make a list of ports inside the container available locally.\n",{"type":24,"tag":168,"props":297,"children":299},{"class":170,"line":298},12,[300],{"type":24,"tag":168,"props":301,"children":302},{"style":175},[303],{"type":29,"value":304},"  // \"forwardPorts\": [],\n",{"type":24,"tag":168,"props":306,"children":308},{"class":170,"line":307},13,[309],{"type":24,"tag":168,"props":310,"children":311},{"emptyLinePlaceholder":257},[312],{"type":29,"value":260},{"type":24,"tag":168,"props":314,"children":316},{"class":170,"line":315},14,[317],{"type":24,"tag":168,"props":318,"children":319},{"style":175},[320],{"type":29,"value":321},"  // Use 'postCreateCommand' to run commands after the container is created.\n",{"type":24,"tag":168,"props":323,"children":325},{"class":170,"line":324},15,[326],{"type":24,"tag":168,"props":327,"children":328},{"style":175},[329],{"type":29,"value":330},"  // \"postCreateCommand\": \"yarn install\",\n",{"type":24,"tag":168,"props":332,"children":334},{"class":170,"line":333},16,[335],{"type":24,"tag":168,"props":336,"children":337},{"emptyLinePlaceholder":257},[338],{"type":29,"value":260},{"type":24,"tag":168,"props":340,"children":342},{"class":170,"line":341},17,[343],{"type":24,"tag":168,"props":344,"children":345},{"style":175},[346],{"type":29,"value":347},"  // Configure tool-specific properties.\n",{"type":24,"tag":168,"props":349,"children":351},{"class":170,"line":350},18,[352],{"type":24,"tag":168,"props":353,"children":354},{"style":175},[355],{"type":29,"value":356},"  // \"customizations\": {},\n",{"type":24,"tag":168,"props":358,"children":360},{"class":170,"line":359},19,[361],{"type":24,"tag":168,"props":362,"children":363},{"emptyLinePlaceholder":257},[364],{"type":29,"value":260},{"type":24,"tag":168,"props":366,"children":368},{"class":170,"line":367},20,[369],{"type":24,"tag":168,"props":370,"children":371},{"style":175},[372],{"type":29,"value":373},"  // Uncomment to connect as root instead. More info: https://aka.ms/dev-containers-non-root.\n",{"type":24,"tag":168,"props":375,"children":377},{"class":170,"line":376},21,[378],{"type":24,"tag":168,"props":379,"children":380},{"style":175},[381],{"type":29,"value":382},"  // \"remoteUser\": \"root\"\n",{"type":24,"tag":168,"props":384,"children":386},{"class":170,"line":385},22,[387],{"type":24,"tag":168,"props":388,"children":389},{"style":194},[390],{"type":29,"value":391},"}\n",{"type":24,"tag":25,"props":393,"children":394},{},[395],{"type":29,"value":396},"詳細設定的參考文件，官方都幫你寫在註解了，可以點網址進去查看，下面補充幾個自己會做的設定。",{"type":24,"tag":157,"props":398,"children":400},{"className":159,"code":399,"filename":46,"language":161,"meta":162,"style":162},"{\n  // 安裝node依賴項\n  \"postCreateCommand\": \"npm install\",\n  \"customizations\": {\n    // 可以指定一些vscode專用的設定\n    \"vscode\": {\n      // VScode的設定值\n      \"settings\": {},\n      // 新增要安裝在容器內的VSCode擴充套件，像是格式化之類的工具。\n      \"extensions\": [\n        \"esbenp.prettier-vscode\",\n        \"donjayamanne.githistory\",\n        \"Vue.volar\",\n        \"dbaeumer.vscode-eslint\"\n      ]\n    }\n  }\n}\n",[401],{"type":24,"tag":41,"props":402,"children":403},{"__ignoreMap":162},[404,411,419,440,453,461,473,481,494,502,515,527,539,551,559,567,575,583],{"type":24,"tag":168,"props":405,"children":406},{"class":170,"line":171},[407],{"type":24,"tag":168,"props":408,"children":409},{"style":194},[410],{"type":29,"value":197},{"type":24,"tag":168,"props":412,"children":413},{"class":170,"line":181},[414],{"type":24,"tag":168,"props":415,"children":416},{"style":175},[417],{"type":29,"value":418},"  // 安裝node依賴項\n",{"type":24,"tag":168,"props":420,"children":421},{"class":170,"line":190},[422,427,431,436],{"type":24,"tag":168,"props":423,"children":424},{"style":204},[425],{"type":29,"value":426},"  \"postCreateCommand\"",{"type":24,"tag":168,"props":428,"children":429},{"style":194},[430],{"type":29,"value":212},{"type":24,"tag":168,"props":432,"children":433},{"style":215},[434],{"type":29,"value":435},"\"npm install\"",{"type":24,"tag":168,"props":437,"children":438},{"style":194},[439],{"type":29,"value":223},{"type":24,"tag":168,"props":441,"children":442},{"class":170,"line":200},[443,448],{"type":24,"tag":168,"props":444,"children":445},{"style":204},[446],{"type":29,"value":447},"  \"customizations\"",{"type":24,"tag":168,"props":449,"children":450},{"style":194},[451],{"type":29,"value":452},": {\n",{"type":24,"tag":168,"props":454,"children":455},{"class":170,"line":226},[456],{"type":24,"tag":168,"props":457,"children":458},{"style":175},[459],{"type":29,"value":460},"    // 可以指定一些vscode專用的設定\n",{"type":24,"tag":168,"props":462,"children":463},{"class":170,"line":235},[464,469],{"type":24,"tag":168,"props":465,"children":466},{"style":204},[467],{"type":29,"value":468},"    \"vscode\"",{"type":24,"tag":168,"props":470,"children":471},{"style":194},[472],{"type":29,"value":452},{"type":24,"tag":168,"props":474,"children":475},{"class":170,"line":253},[476],{"type":24,"tag":168,"props":477,"children":478},{"style":175},[479],{"type":29,"value":480},"      // VScode的設定值\n",{"type":24,"tag":168,"props":482,"children":483},{"class":170,"line":263},[484,489],{"type":24,"tag":168,"props":485,"children":486},{"style":204},[487],{"type":29,"value":488},"      \"settings\"",{"type":24,"tag":168,"props":490,"children":491},{"style":194},[492],{"type":29,"value":493},": {},\n",{"type":24,"tag":168,"props":495,"children":496},{"class":170,"line":272},[497],{"type":24,"tag":168,"props":498,"children":499},{"style":175},[500],{"type":29,"value":501},"      // 新增要安裝在容器內的VSCode擴充套件，像是格式化之類的工具。\n",{"type":24,"tag":168,"props":503,"children":504},{"class":170,"line":281},[505,510],{"type":24,"tag":168,"props":506,"children":507},{"style":204},[508],{"type":29,"value":509},"      \"extensions\"",{"type":24,"tag":168,"props":511,"children":512},{"style":194},[513],{"type":29,"value":514},": [\n",{"type":24,"tag":168,"props":516,"children":517},{"class":170,"line":289},[518,523],{"type":24,"tag":168,"props":519,"children":520},{"style":215},[521],{"type":29,"value":522},"        \"esbenp.prettier-vscode\"",{"type":24,"tag":168,"props":524,"children":525},{"style":194},[526],{"type":29,"value":223},{"type":24,"tag":168,"props":528,"children":529},{"class":170,"line":298},[530,535],{"type":24,"tag":168,"props":531,"children":532},{"style":215},[533],{"type":29,"value":534},"        \"donjayamanne.githistory\"",{"type":24,"tag":168,"props":536,"children":537},{"style":194},[538],{"type":29,"value":223},{"type":24,"tag":168,"props":540,"children":541},{"class":170,"line":307},[542,547],{"type":24,"tag":168,"props":543,"children":544},{"style":215},[545],{"type":29,"value":546},"        \"Vue.volar\"",{"type":24,"tag":168,"props":548,"children":549},{"style":194},[550],{"type":29,"value":223},{"type":24,"tag":168,"props":552,"children":553},{"class":170,"line":315},[554],{"type":24,"tag":168,"props":555,"children":556},{"style":215},[557],{"type":29,"value":558},"        \"dbaeumer.vscode-eslint\"\n",{"type":24,"tag":168,"props":560,"children":561},{"class":170,"line":324},[562],{"type":24,"tag":168,"props":563,"children":564},{"style":194},[565],{"type":29,"value":566},"      ]\n",{"type":24,"tag":168,"props":568,"children":569},{"class":170,"line":333},[570],{"type":24,"tag":168,"props":571,"children":572},{"style":194},[573],{"type":29,"value":574},"    }\n",{"type":24,"tag":168,"props":576,"children":577},{"class":170,"line":341},[578],{"type":24,"tag":168,"props":579,"children":580},{"style":194},[581],{"type":29,"value":582},"  }\n",{"type":24,"tag":168,"props":584,"children":585},{"class":170,"line":350},[586],{"type":24,"tag":168,"props":587,"children":588},{"style":194},[589],{"type":29,"value":391},{"type":24,"tag":57,"props":591,"children":592},{},[],{"type":24,"tag":61,"props":594,"children":596},{"id":595},"錯誤處理",[597],{"type":29,"value":595},{"type":24,"tag":25,"props":599,"children":600},{},[601,603,609,611,617,619,625,627,633,635,642],{"type":29,"value":602},"如果你像我一樣在 DevContainer 中開發 Nuxt 網站時遇到",{"type":24,"tag":41,"props":604,"children":606},{"className":605},[],[607],{"type":29,"value":608},"ERR_CONTENT_LENGTH_MISMATCH",{"type":29,"value":610},"問題，可以在",{"type":24,"tag":41,"props":612,"children":614},{"className":613},[],[615],{"type":29,"value":616},"package.json",{"type":29,"value":618},"中的",{"type":24,"tag":41,"props":620,"children":622},{"className":621},[],[623],{"type":29,"value":624},"dev",{"type":29,"value":626},"指令加上",{"type":24,"tag":41,"props":628,"children":630},{"className":629},[],[631],{"type":29,"value":632},"--no-fork",{"type":29,"value":634},"參數。不過研究",{"type":24,"tag":79,"props":636,"children":639},{"href":637,"rel":638},"https://github.com/nuxt/cli/issues/181",[83],[640],{"type":29,"value":641},"官方 Gihub 的 Issue",{"type":29,"value":643},"我也不知道是什麼原因，然後也不知道為什麼加這個參數可以解決就是了……。",{"type":24,"tag":157,"props":645,"children":647},{"className":159,"code":646,"filename":616,"language":161,"meta":162,"style":162},"{\n  \"scripts\": {\n    \"dev\": \"nuxt dev --no-fork\"\n  }\n}\n",[648],{"type":24,"tag":41,"props":649,"children":650},{"__ignoreMap":162},[651,658,670,687,694],{"type":24,"tag":168,"props":652,"children":653},{"class":170,"line":171},[654],{"type":24,"tag":168,"props":655,"children":656},{"style":194},[657],{"type":29,"value":197},{"type":24,"tag":168,"props":659,"children":660},{"class":170,"line":181},[661,666],{"type":24,"tag":168,"props":662,"children":663},{"style":204},[664],{"type":29,"value":665},"  \"scripts\"",{"type":24,"tag":168,"props":667,"children":668},{"style":194},[669],{"type":29,"value":452},{"type":24,"tag":168,"props":671,"children":672},{"class":170,"line":190},[673,678,682],{"type":24,"tag":168,"props":674,"children":675},{"style":204},[676],{"type":29,"value":677},"    \"dev\"",{"type":24,"tag":168,"props":679,"children":680},{"style":194},[681],{"type":29,"value":212},{"type":24,"tag":168,"props":683,"children":684},{"style":215},[685],{"type":29,"value":686},"\"nuxt dev --no-fork\"\n",{"type":24,"tag":168,"props":688,"children":689},{"class":170,"line":200},[690],{"type":24,"tag":168,"props":691,"children":692},{"style":194},[693],{"type":29,"value":582},{"type":24,"tag":168,"props":695,"children":696},{"class":170,"line":226},[697],{"type":24,"tag":168,"props":698,"children":699},{"style":194},[700],{"type":29,"value":391},{"type":24,"tag":57,"props":702,"children":703},{},[],{"type":24,"tag":61,"props":705,"children":707},{"id":706},"參考文獻",[708],{"type":29,"value":706},{"type":24,"tag":710,"props":711,"children":712},"ol",{},[713],{"type":24,"tag":714,"props":715,"children":716},"li",{},[717],{"type":24,"tag":79,"props":718,"children":721},{"href":719,"rel":720},"https://code.visualstudio.com/docs/devcontainers/containers",[83],[722],{"type":29,"value":723},"Developing inside a Container",{"type":24,"tag":725,"props":726,"children":727},"style",{},[728],{"type":29,"value":729},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":162,"searchDepth":181,"depth":181,"links":731},[732,736,737,738],{"id":63,"depth":181,"text":63,"children":733},[734,735],{"id":69,"depth":190,"text":72},{"id":96,"depth":190,"text":99},{"id":118,"depth":181,"text":121},{"id":595,"depth":181,"text":595},{"id":706,"depth":181,"text":706},"在Fedora中透過podman使用VSCode DevContainer","在Fedora 38中安裝Docker",[742,753],{"title":739,"description":743,"img":744,"tags":745,"readingTime":748,"createdAt":752,"updatedAt":752,"slug":52},"之前在中曾經紀錄過如何使用 VSCode DevContainer 來容器化開發 Vue 專案，但因為自己平常用的作業系統是 Fedora，而 Fedora 內建的容器化引擎是 Podman，雖然 Podman 號稱與 Docker 之間的指令是互通的，但之前嘗試過會有錯誤而且一直找不到解方。","923/i8GwZw.jpg",[746,747,16,17,18],"fedora","podman",{"text":8,"minutes":749,"time":750,"words":751},3.655,219300,731,"2024-11-03T03:18:44.000Z",{"title":740,"description":754,"img":755,"tags":756,"readingTime":757,"createdAt":762,"updatedAt":763,"slug":91},"本篇記錄了在 Fedora 中安裝及安裝後設定 Docker 的過程。","924/lduYJH.jpg",[746,16],{"text":758,"minutes":759,"time":760,"words":761},"1 min read",0.875,52500,175,"2023-04-08T08:01:46.000Z","2023-12-11T03:54:57.000Z",1748610246964]