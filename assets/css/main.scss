@import 'custom';

/* 消除警告訊息 */

@function divide($dividend, $divisor, $precision: 10) {
  $sign: if(
    $dividend > 0 and $divisor > 0 or $dividend < 0 and $divisor < 0,
    1,
    -1
  );
  $dividend: math.abs($dividend);
  $divisor: math.abs($divisor);
  @if $dividend == 0 {
    @return 0;
  }
  @if $divisor == 0 {
    @error "Cannot divide by 0";
  }
  $remainder: $dividend;
  $result: 0;
  $factor: 10;
  @while ($remainder > 0 and $precision >= 0) {
    $quotient: 0;
    @while ($remainder >= $divisor) {
      $remainder: $remainder - $divisor;
      $quotient: $quotient + 1;
    }
    $result: $result * 10 + $quotient;
    $factor: $factor * 0.1;
    $remainder: $remainder * 10;
    $precision: $precision - 1;
    @if ($precision < 0 and $remainder >= $divisor * 5) {
      $result: $result + 1;
    }
  }
  $result: $result * $factor * $sign;
  $dividend-unit: unit($dividend);
  $divisor-unit: unit($divisor);
  $unit-map: (
    'px': 1px,
    'rem': 1rem,
    'em': 1em,
    '%': 1%,
  );
  @if (
    $dividend-unit != $divisor-unit and map-has-key($unit-map, $dividend-unit)
  ) {
    $result: $result * map-get($unit-map, $dividend-unit);
  }
  @return $result;
}

@mixin dark-theme {
  --white: #{$black};
  --gray-100: #{$gray-900};
  --gray-200: #{$gray-800};
  --gray-300: #{$gray-700};
  --gray-400: #{$gray-600};
  --gray-500: #{$gray-500};
  --gray-600: #{$gray-400};
  --gray-700: #{$gray-300};
  --gray-800: #{$gray-200};
  --gray-900: #{$gray-100};
  --black: #{$white};

  --background: var(--gray-100);
  --foreground: var(--gray-200);
}

@mixin light-theme {
  --white: #{$white};
  --gray-100: #{$gray-100};
  --gray-200: #{$gray-200};
  --gray-300: #{$gray-300};
  --gray-400: #{$gray-400};
  --gray-500: #{$gray-500};
  --gray-600: #{$gray-600};
  --gray-700: #{$gray-700};
  --gray-800: #{$gray-800};
  --gray-900: #{$gray-900};
  --black: #{$black};

  --background: var(--gray-200);
  --foreground: var(--white);
}

/* Bootstrap Tree Shaking */

/* root展開 */
// @import '~bootstrap/scss/root';
:root {
  @each $color, $value in $theme-colors {
    --#{$color}: #{$value};
  }

  @media (prefers-color-scheme: light) {
    @include light-theme();
  }

  &,
  &[data-theme='dark'] {
    @include dark-theme();
  }

  &[data-theme='light'] {
    @include light-theme();
  }
}

// @media (prefers-color-scheme: light) {
//   :root {
//     @include light-theme();
//   }
// }

@import '~bootstrap/scss/reboot';
@import '~bootstrap/scss/type';
@import '~bootstrap/scss/images';
@import '~bootstrap/scss/code';
@import '~bootstrap/scss/grid';
// @import "~bootstrap/scss/tables";
@import '~bootstrap/scss/forms';
@import '~bootstrap/scss/buttons';
@import '~bootstrap/scss/transitions';
// @import '~bootstrap/scss/dropdown';
// @import '~bootstrap/scss/button-group';
// @import '~bootstrap/scss/input-group';
// @import "~bootstrap/scss/custom-forms";
@import '~bootstrap/scss/nav';
// @import "~bootstrap/scss/navbar";
// @import '~bootstrap/scss/card';
// @import '~bootstrap/scss/breadcrumb';
@import '~bootstrap/scss/pagination';
@import '~bootstrap/scss/badge';
// @import "~bootstrap/scss/jumbotron";
// @import "~bootstrap/scss/alert";
// @import "~bootstrap/scss/progress";
// @import "~bootstrap/scss/media";
// @import "~bootstrap/scss/list-group";
@import '~bootstrap/scss/close';
// @import "~bootstrap/scss/toasts";
@import '~bootstrap/scss/modal';
// @import "~bootstrap/scss/tooltip";
// @import "~bootstrap/scss/popover";
// @import "~bootstrap/scss/carousel";
@import '~bootstrap/scss/spinners';
// @import "~bootstrap/scss/print";

// 將~bootstrap/scss/_utilities.scss展開
// @import '~bootstrap/scss/utilities/align';
@import '~bootstrap/scss/utilities/background';
@import '~bootstrap/scss/utilities/borders';
// @import '~bootstrap/scss/utilities/clearfix';
@import '~bootstrap/scss/utilities/display';
// @import '~bootstrap/scss/utilities/embed';
@import '~bootstrap/scss/utilities/flex';
// @import '~bootstrap/scss/utilities/float';
// @import '~bootstrap/scss/utilities/interactions';
@import '~bootstrap/scss/utilities/overflow';
@import '~bootstrap/scss/utilities/position';
@import '~bootstrap/scss/utilities/screenreaders';
@import '~bootstrap/scss/utilities/shadows';
@import '~bootstrap/scss/utilities/sizing';
@import '~bootstrap/scss/utilities/spacing';
// @import '~bootstrap/scss/utilities/stretched-link';
@import '~bootstrap/scss/utilities/text';
// @import '~bootstrap/scss/utilities/visibility';

/* Bootstrap Vue Tree Shaking */
@import '~bootstrap-vue/src/utilities';
// @import '~bootstrap-vue/src/custom-controls';
// @import '~bootstrap-vue/src/icons/index';

/* 將~bootstrap-vue/src/components/index.scss展開 */
// @import "~bootstrap-vue/src/components/avatar/index";
// @import "~bootstrap-vue/src/components/calendar/index";
// @import '~bootstrap-vue/src/components/card/index';
// @import '~bootstrap-vue/src/components/dropdown/index';
// @import "~bootstrap-vue/src/components/form-checkbox/index";
// @import "~bootstrap-vue/src/components/form-datepicker/index";
// @import "~bootstrap-vue/src/components/form-file/index";
@import '~bootstrap-vue/src/components/form-input/index';
// @import "~bootstrap-vue/src/components/form-radio/index";
// @import "~bootstrap-vue/src/components/form-rating/index";
// @import "~bootstrap-vue/src/components/form-spinbutton/index";
// @import "~bootstrap-vue/src/components/form-tags/index";
// @import "~bootstrap-vue/src/components/form-timepicker/index";
// @import '~bootstrap-vue/src/components/input-group/index';
// @import "~bootstrap-vue/src/components/media/index";
@import '~bootstrap-vue/src/components/modal/index';
@import '~bootstrap-vue/src/components/nav/index';
// @import "~bootstrap-vue/src/components/navbar/index";
@import '~bootstrap-vue/src/components/pagination-nav/index';
@import '~bootstrap-vue/src/components/pagination/index';
// @import "~bootstrap-vue/src/components/popover/index";
// @import '~bootstrap-vue/src/components/sidebar/index';
// @import '~bootstrap-vue/src/components/skeleton/index';
// @import "~bootstrap-vue/src/components/table/index";
// @import "~bootstrap-vue/src/components/time/index";
// @import "~bootstrap-vue/src/components/toast/index";
// @import "~bootstrap-vue/src/components/tooltip/index";

main {
  background-color: var(--background);
}

ol,
ul,
dl {
  padding-left: 1.5rem;
}

img {
  object-fit: cover;
}

hr {
  display: block;
  border-bottom: 0;
  border-right: 0;
  border-left: 0;
  margin: $paragraph-margin-bottom * 3 auto;
}

.cursor-pointer {
  cursor: pointer;
}

.modal-content {
  box-shadow: $box-shadow;
}

.modal-header ~ .modal-body {
  padding-top: 0;
}

.page-enter-active,
.page-leave-active {
  transition: $transition-fade;
}
.page-enter,
.page-leave-to {
  opacity: 0;
}

@mixin line-clamp-base {
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-box-orient: vertical;
}

.text-two-line {
  @include line-clamp-base();
  -webkit-line-clamp: 2;
}

.container-#{$mobile-breakpoint} {
  padding-left: 1.5rem;
  padding-right: 1.5rem;
}

@media (min-width: map-get($grid-breakpoints, $mobile-breakpoint)) {
  .container-#{$mobile-breakpoint} {
    padding-left: 0rem;
    padding-right: 0rem;
  }
}
