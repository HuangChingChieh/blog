[{"data":1,"prerenderedAt":462},["ShallowReactive",2],{"ubuntu_swap_resize":3,"title|ubuntu_lineageos_sargo":446,"Related_ubuntu_swap_resize":447},{"title":4,"description":5,"img":6,"readingTime":7,"createdAt":12,"updatedAt":13,"slug":14,"tags":15,"category":18,"body":19},"調整Ubuntu中的SWAP大小","在Ubuntu 中嘗試編譯 LineageOS時，因為實體記憶體不足的關係，上網查了一下資料發現或許能透過增加虛擬記憶體 SWAP 來解決，所以就紀錄了下來。","924/Ld14Ra.jpg",{"text":8,"minutes":9,"time":10,"words":11},"1 min read",0.89,53400,178,"2023-04-15T11:38:12.000Z","2023-12-11T03:54:57.000Z","ubuntu_swap_resize",[16,17],"ubuntu","swap","linux",{"type":20,"children":21,"toc":443},"root",[22,39,43,77,151,184,226,262,293,324,346,411,414,420,437],{"type":23,"tag":24,"props":25,"children":26},"element","p",{},[27,30,37],{"type":28,"value":29},"text","在",{"type":23,"tag":31,"props":32,"children":34},"article-inner-link",{"slug":33},"ubuntu_lineageos_sargo",[35],{"type":28,"value":36},"Ubuntu 中嘗試編譯 LineageOS",{"type":28,"value":38},"時，因為實體記憶體不足的關係，上網查了一下資料發現或許能透過增加虛擬記憶體 SWAP 來解決，所以就紀錄了下來。",{"type":23,"tag":40,"props":41,"children":42},"hr",{},[],{"type":23,"tag":44,"props":45,"children":50},"pre",{"className":46,"code":47,"language":48,"meta":49,"style":49},"language-bash shiki shiki-themes github-dark","# 首先檢查一下目前的SWAP大小\nswapon\n","bash","",[51],{"type":23,"tag":52,"props":53,"children":54},"code",{"__ignoreMap":49},[55,67],{"type":23,"tag":56,"props":57,"children":60},"span",{"class":58,"line":59},"line",1,[61],{"type":23,"tag":56,"props":62,"children":64},{"style":63},"--shiki-default:#6A737D",[65],{"type":28,"value":66},"# 首先檢查一下目前的SWAP大小\n",{"type":23,"tag":56,"props":68,"children":70},{"class":58,"line":69},2,[71],{"type":23,"tag":56,"props":72,"children":74},{"style":73},"--shiki-default:#B392F0",[75],{"type":28,"value":76},"swapon\n",{"type":23,"tag":44,"props":78,"children":80},{"className":46,"code":79,"language":48,"meta":49,"style":49},"# 會看到這樣子的輸出，可以看到SIZE是8GB。\nNAME       TYPE      SIZE  USED PRIO\n/dev/sdb0 partition   8G 15.8M  100\n",[81],{"type":23,"tag":52,"props":82,"children":83},{"__ignoreMap":49},[84,92,121],{"type":23,"tag":56,"props":85,"children":86},{"class":58,"line":59},[87],{"type":23,"tag":56,"props":88,"children":89},{"style":63},[90],{"type":28,"value":91},"# 會看到這樣子的輸出，可以看到SIZE是8GB。\n",{"type":23,"tag":56,"props":93,"children":94},{"class":58,"line":69},[95,100,106,111,116],{"type":23,"tag":56,"props":96,"children":97},{"style":73},[98],{"type":28,"value":99},"NAME",{"type":23,"tag":56,"props":101,"children":103},{"style":102},"--shiki-default:#9ECBFF",[104],{"type":28,"value":105},"       TYPE",{"type":23,"tag":56,"props":107,"children":108},{"style":102},[109],{"type":28,"value":110},"      SIZE",{"type":23,"tag":56,"props":112,"children":113},{"style":102},[114],{"type":28,"value":115},"  USED",{"type":23,"tag":56,"props":117,"children":118},{"style":102},[119],{"type":28,"value":120}," PRIO\n",{"type":23,"tag":56,"props":122,"children":124},{"class":58,"line":123},3,[125,130,135,140,145],{"type":23,"tag":56,"props":126,"children":127},{"style":73},[128],{"type":28,"value":129},"/dev/sdb0",{"type":23,"tag":56,"props":131,"children":132},{"style":102},[133],{"type":28,"value":134}," partition",{"type":23,"tag":56,"props":136,"children":137},{"style":102},[138],{"type":28,"value":139},"   8G",{"type":23,"tag":56,"props":141,"children":142},{"style":102},[143],{"type":28,"value":144}," 15.8M",{"type":23,"tag":56,"props":146,"children":148},{"style":147},"--shiki-default:#79B8FF",[149],{"type":28,"value":150},"  100\n",{"type":23,"tag":44,"props":152,"children":154},{"className":46,"code":153,"language":48,"meta":49,"style":49},"# 先關閉SWAP\nsudo swapoff -a\n",[155],{"type":23,"tag":52,"props":156,"children":157},{"__ignoreMap":49},[158,166],{"type":23,"tag":56,"props":159,"children":160},{"class":58,"line":59},[161],{"type":23,"tag":56,"props":162,"children":163},{"style":63},[164],{"type":28,"value":165},"# 先關閉SWAP\n",{"type":23,"tag":56,"props":167,"children":168},{"class":58,"line":69},[169,174,179],{"type":23,"tag":56,"props":170,"children":171},{"style":73},[172],{"type":28,"value":173},"sudo",{"type":23,"tag":56,"props":175,"children":176},{"style":102},[177],{"type":28,"value":178}," swapoff",{"type":23,"tag":56,"props":180,"children":181},{"style":147},[182],{"type":28,"value":183}," -a\n",{"type":23,"tag":44,"props":185,"children":187},{"className":46,"code":186,"language":48,"meta":49,"style":49},"# 建立一個SWAP檔案\nsudo fallocate -l 16G /swapfile\n",[188],{"type":23,"tag":52,"props":189,"children":190},{"__ignoreMap":49},[191,199],{"type":23,"tag":56,"props":192,"children":193},{"class":58,"line":59},[194],{"type":23,"tag":56,"props":195,"children":196},{"style":63},[197],{"type":28,"value":198},"# 建立一個SWAP檔案\n",{"type":23,"tag":56,"props":200,"children":201},{"class":58,"line":69},[202,206,211,216,221],{"type":23,"tag":56,"props":203,"children":204},{"style":73},[205],{"type":28,"value":173},{"type":23,"tag":56,"props":207,"children":208},{"style":102},[209],{"type":28,"value":210}," fallocate",{"type":23,"tag":56,"props":212,"children":213},{"style":147},[214],{"type":28,"value":215}," -l",{"type":23,"tag":56,"props":217,"children":218},{"style":102},[219],{"type":28,"value":220}," 16G",{"type":23,"tag":56,"props":222,"children":223},{"style":102},[224],{"type":28,"value":225}," /swapfile\n",{"type":23,"tag":44,"props":227,"children":229},{"className":46,"code":228,"language":48,"meta":49,"style":49},"# 改變檔案的權限\nsudo chmod 600 /swapfile\n",[230],{"type":23,"tag":52,"props":231,"children":232},{"__ignoreMap":49},[233,241],{"type":23,"tag":56,"props":234,"children":235},{"class":58,"line":59},[236],{"type":23,"tag":56,"props":237,"children":238},{"style":63},[239],{"type":28,"value":240},"# 改變檔案的權限\n",{"type":23,"tag":56,"props":242,"children":243},{"class":58,"line":69},[244,248,253,258],{"type":23,"tag":56,"props":245,"children":246},{"style":73},[247],{"type":28,"value":173},{"type":23,"tag":56,"props":249,"children":250},{"style":102},[251],{"type":28,"value":252}," chmod",{"type":23,"tag":56,"props":254,"children":255},{"style":147},[256],{"type":28,"value":257}," 600",{"type":23,"tag":56,"props":259,"children":260},{"style":102},[261],{"type":28,"value":225},{"type":23,"tag":44,"props":263,"children":265},{"className":46,"code":264,"language":48,"meta":49,"style":49},"# 標記檔案爲SWAP\nsudo mkswap /swapfile\n",[266],{"type":23,"tag":52,"props":267,"children":268},{"__ignoreMap":49},[269,277],{"type":23,"tag":56,"props":270,"children":271},{"class":58,"line":59},[272],{"type":23,"tag":56,"props":273,"children":274},{"style":63},[275],{"type":28,"value":276},"# 標記檔案爲SWAP\n",{"type":23,"tag":56,"props":278,"children":279},{"class":58,"line":69},[280,284,289],{"type":23,"tag":56,"props":281,"children":282},{"style":73},[283],{"type":28,"value":173},{"type":23,"tag":56,"props":285,"children":286},{"style":102},[287],{"type":28,"value":288}," mkswap",{"type":23,"tag":56,"props":290,"children":291},{"style":102},[292],{"type":28,"value":225},{"type":23,"tag":44,"props":294,"children":296},{"className":46,"code":295,"language":48,"meta":49,"style":49},"# 啟用\nsudo swapon /swapfile\n",[297],{"type":23,"tag":52,"props":298,"children":299},{"__ignoreMap":49},[300,308],{"type":23,"tag":56,"props":301,"children":302},{"class":58,"line":59},[303],{"type":23,"tag":56,"props":304,"children":305},{"style":63},[306],{"type":28,"value":307},"# 啟用\n",{"type":23,"tag":56,"props":309,"children":310},{"class":58,"line":69},[311,315,320],{"type":23,"tag":56,"props":312,"children":313},{"style":73},[314],{"type":28,"value":173},{"type":23,"tag":56,"props":316,"children":317},{"style":102},[318],{"type":28,"value":319}," swapon",{"type":23,"tag":56,"props":321,"children":322},{"style":102},[323],{"type":28,"value":225},{"type":23,"tag":44,"props":325,"children":327},{"className":46,"code":326,"language":48,"meta":49,"style":49},"# 檢查一下調整後的大小\nswapon\n",[328],{"type":23,"tag":52,"props":329,"children":330},{"__ignoreMap":49},[331,339],{"type":23,"tag":56,"props":332,"children":333},{"class":58,"line":59},[334],{"type":23,"tag":56,"props":335,"children":336},{"style":63},[337],{"type":28,"value":338},"# 檢查一下調整後的大小\n",{"type":23,"tag":56,"props":340,"children":341},{"class":58,"line":69},[342],{"type":23,"tag":56,"props":343,"children":344},{"style":73},[345],{"type":28,"value":76},{"type":23,"tag":44,"props":347,"children":349},{"className":46,"code":348,"language":48,"meta":49,"style":49},"# SIZE變成16GB就對囉\nNAME       TYPE      SIZE USED PRIO\n/dev/zram0 partition  16G   0B  100\n",[350],{"type":23,"tag":52,"props":351,"children":352},{"__ignoreMap":49},[353,361,385],{"type":23,"tag":56,"props":354,"children":355},{"class":58,"line":59},[356],{"type":23,"tag":56,"props":357,"children":358},{"style":63},[359],{"type":28,"value":360},"# SIZE變成16GB就對囉\n",{"type":23,"tag":56,"props":362,"children":363},{"class":58,"line":69},[364,368,372,376,381],{"type":23,"tag":56,"props":365,"children":366},{"style":73},[367],{"type":28,"value":99},{"type":23,"tag":56,"props":369,"children":370},{"style":102},[371],{"type":28,"value":105},{"type":23,"tag":56,"props":373,"children":374},{"style":102},[375],{"type":28,"value":110},{"type":23,"tag":56,"props":377,"children":378},{"style":102},[379],{"type":28,"value":380}," USED",{"type":23,"tag":56,"props":382,"children":383},{"style":102},[384],{"type":28,"value":120},{"type":23,"tag":56,"props":386,"children":387},{"class":58,"line":123},[388,393,397,402,407],{"type":23,"tag":56,"props":389,"children":390},{"style":73},[391],{"type":28,"value":392},"/dev/zram0",{"type":23,"tag":56,"props":394,"children":395},{"style":102},[396],{"type":28,"value":134},{"type":23,"tag":56,"props":398,"children":399},{"style":102},[400],{"type":28,"value":401},"  16G",{"type":23,"tag":56,"props":403,"children":404},{"style":102},[405],{"type":28,"value":406},"   0B",{"type":23,"tag":56,"props":408,"children":409},{"style":147},[410],{"type":28,"value":150},{"type":23,"tag":40,"props":412,"children":413},{},[],{"type":23,"tag":415,"props":416,"children":418},"h2",{"id":417},"參考文獻",[419],{"type":28,"value":417},{"type":23,"tag":421,"props":422,"children":423},"ol",{},[424],{"type":23,"tag":425,"props":426,"children":427},"li",{},[428],{"type":23,"tag":429,"props":430,"children":434},"a",{"href":431,"rel":432},"https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-22-04",[433],"nofollow",[435],{"type":28,"value":436},"How To Add Swap Space on Ubuntu 22.04",{"type":23,"tag":438,"props":439,"children":440},"style",{},[441],{"type":28,"value":442},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":49,"searchDepth":69,"depth":69,"links":444},[445],{"id":417,"depth":69,"text":417},"在Ubuntu 22.04編譯Pixel 3a的LineageOS 20.0",[448],{"title":446,"description":449,"tags":450,"img":455,"readingTime":456,"createdAt":12,"updatedAt":461,"slug":33},"之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了 XDA 看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。",[16,451,452,453,454],"android","custom rom","Gooel Pixel 3a","lineageos","922/DxakSn.jpg",{"text":457,"minutes":458,"time":459,"words":460},"9 min read",8.785,527100,1757,"2024-12-13T10:01:17.000Z",1742196635873]