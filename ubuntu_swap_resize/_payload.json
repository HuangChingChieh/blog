[{"data":1,"prerenderedAt":482},["ShallowReactive",2],{"ubuntu_swap_resize":3,"Related_ubuntu_swap_resize":466,"title|ubuntu_lineageos_sargo":468},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"img":10,"tags":11,"category":14,"readingTime":15,"excerpt":20,"body":40,"_type":457,"_id":458,"_source":459,"_file":460,"_stem":461,"_extension":462,"createdAt":463,"updatedAt":464,"slug":465},"/articles/2023/ubuntu_swap_resize","2023",false,"","調整Ubuntu中的SWAP大小","在Ubuntu 中嘗試編譯 LineageOS時，因為實體記憶體不足的關係，上網查了一下資料發現或許能透過增加虛擬記憶體 SWAP 來解決，所以就紀錄了下來。","924/Ld14Ra.jpg",[12,13],"ubuntu","swap","linux",{"text":16,"minutes":17,"time":18,"words":19},"1 min read",0.89,53400,178,{"type":21,"children":22},"root",[23],{"type":24,"tag":25,"props":26,"children":27},"element","p",{},[28,31,38],{"type":29,"value":30},"text","在",{"type":24,"tag":32,"props":33,"children":35},"article-inner-link",{"slug":34},"ubuntu_lineageos_sargo",[36],{"type":29,"value":37},"Ubuntu 中嘗試編譯 LineageOS",{"type":29,"value":39},"時，因為實體記憶體不足的關係，上網查了一下資料發現或許能透過增加虛擬記憶體 SWAP 來解決，所以就紀錄了下來。",{"type":21,"children":41,"toc":454},[42,51,55,88,162,195,237,273,304,335,357,422,425,431,448],{"type":24,"tag":25,"props":43,"children":44},{},[45,46,50],{"type":29,"value":30},{"type":24,"tag":32,"props":47,"children":48},{"slug":34},[49],{"type":29,"value":37},{"type":29,"value":39},{"type":24,"tag":52,"props":53,"children":54},"hr",{},[],{"type":24,"tag":56,"props":57,"children":61},"pre",{"className":58,"code":59,"language":60,"meta":7,"style":7},"language-bash shiki shiki-themes github-dark","# 首先檢查一下目前的SWAP大小\nswapon\n","bash",[62],{"type":24,"tag":63,"props":64,"children":65},"code",{"__ignoreMap":7},[66,78],{"type":24,"tag":67,"props":68,"children":71},"span",{"class":69,"line":70},"line",1,[72],{"type":24,"tag":67,"props":73,"children":75},{"style":74},"--shiki-default:#6A737D",[76],{"type":29,"value":77},"# 首先檢查一下目前的SWAP大小\n",{"type":24,"tag":67,"props":79,"children":81},{"class":69,"line":80},2,[82],{"type":24,"tag":67,"props":83,"children":85},{"style":84},"--shiki-default:#B392F0",[86],{"type":29,"value":87},"swapon\n",{"type":24,"tag":56,"props":89,"children":91},{"className":58,"code":90,"language":60,"meta":7,"style":7},"# 會看到這樣子的輸出，可以看到SIZE是8GB。\nNAME       TYPE      SIZE  USED PRIO\n/dev/sdb0 partition   8G 15.8M  100\n",[92],{"type":24,"tag":63,"props":93,"children":94},{"__ignoreMap":7},[95,103,132],{"type":24,"tag":67,"props":96,"children":97},{"class":69,"line":70},[98],{"type":24,"tag":67,"props":99,"children":100},{"style":74},[101],{"type":29,"value":102},"# 會看到這樣子的輸出，可以看到SIZE是8GB。\n",{"type":24,"tag":67,"props":104,"children":105},{"class":69,"line":80},[106,111,117,122,127],{"type":24,"tag":67,"props":107,"children":108},{"style":84},[109],{"type":29,"value":110},"NAME",{"type":24,"tag":67,"props":112,"children":114},{"style":113},"--shiki-default:#9ECBFF",[115],{"type":29,"value":116},"       TYPE",{"type":24,"tag":67,"props":118,"children":119},{"style":113},[120],{"type":29,"value":121},"      SIZE",{"type":24,"tag":67,"props":123,"children":124},{"style":113},[125],{"type":29,"value":126},"  USED",{"type":24,"tag":67,"props":128,"children":129},{"style":113},[130],{"type":29,"value":131}," PRIO\n",{"type":24,"tag":67,"props":133,"children":135},{"class":69,"line":134},3,[136,141,146,151,156],{"type":24,"tag":67,"props":137,"children":138},{"style":84},[139],{"type":29,"value":140},"/dev/sdb0",{"type":24,"tag":67,"props":142,"children":143},{"style":113},[144],{"type":29,"value":145}," partition",{"type":24,"tag":67,"props":147,"children":148},{"style":113},[149],{"type":29,"value":150},"   8G",{"type":24,"tag":67,"props":152,"children":153},{"style":113},[154],{"type":29,"value":155}," 15.8M",{"type":24,"tag":67,"props":157,"children":159},{"style":158},"--shiki-default:#79B8FF",[160],{"type":29,"value":161},"  100\n",{"type":24,"tag":56,"props":163,"children":165},{"className":58,"code":164,"language":60,"meta":7,"style":7},"# 先關閉SWAP\nsudo swapoff -a\n",[166],{"type":24,"tag":63,"props":167,"children":168},{"__ignoreMap":7},[169,177],{"type":24,"tag":67,"props":170,"children":171},{"class":69,"line":70},[172],{"type":24,"tag":67,"props":173,"children":174},{"style":74},[175],{"type":29,"value":176},"# 先關閉SWAP\n",{"type":24,"tag":67,"props":178,"children":179},{"class":69,"line":80},[180,185,190],{"type":24,"tag":67,"props":181,"children":182},{"style":84},[183],{"type":29,"value":184},"sudo",{"type":24,"tag":67,"props":186,"children":187},{"style":113},[188],{"type":29,"value":189}," swapoff",{"type":24,"tag":67,"props":191,"children":192},{"style":158},[193],{"type":29,"value":194}," -a\n",{"type":24,"tag":56,"props":196,"children":198},{"className":58,"code":197,"language":60,"meta":7,"style":7},"# 建立一個SWAP檔案\nsudo fallocate -l 16G /swapfile\n",[199],{"type":24,"tag":63,"props":200,"children":201},{"__ignoreMap":7},[202,210],{"type":24,"tag":67,"props":203,"children":204},{"class":69,"line":70},[205],{"type":24,"tag":67,"props":206,"children":207},{"style":74},[208],{"type":29,"value":209},"# 建立一個SWAP檔案\n",{"type":24,"tag":67,"props":211,"children":212},{"class":69,"line":80},[213,217,222,227,232],{"type":24,"tag":67,"props":214,"children":215},{"style":84},[216],{"type":29,"value":184},{"type":24,"tag":67,"props":218,"children":219},{"style":113},[220],{"type":29,"value":221}," fallocate",{"type":24,"tag":67,"props":223,"children":224},{"style":158},[225],{"type":29,"value":226}," -l",{"type":24,"tag":67,"props":228,"children":229},{"style":113},[230],{"type":29,"value":231}," 16G",{"type":24,"tag":67,"props":233,"children":234},{"style":113},[235],{"type":29,"value":236}," /swapfile\n",{"type":24,"tag":56,"props":238,"children":240},{"className":58,"code":239,"language":60,"meta":7,"style":7},"# 改變檔案的權限\nsudo chmod 600 /swapfile\n",[241],{"type":24,"tag":63,"props":242,"children":243},{"__ignoreMap":7},[244,252],{"type":24,"tag":67,"props":245,"children":246},{"class":69,"line":70},[247],{"type":24,"tag":67,"props":248,"children":249},{"style":74},[250],{"type":29,"value":251},"# 改變檔案的權限\n",{"type":24,"tag":67,"props":253,"children":254},{"class":69,"line":80},[255,259,264,269],{"type":24,"tag":67,"props":256,"children":257},{"style":84},[258],{"type":29,"value":184},{"type":24,"tag":67,"props":260,"children":261},{"style":113},[262],{"type":29,"value":263}," chmod",{"type":24,"tag":67,"props":265,"children":266},{"style":158},[267],{"type":29,"value":268}," 600",{"type":24,"tag":67,"props":270,"children":271},{"style":113},[272],{"type":29,"value":236},{"type":24,"tag":56,"props":274,"children":276},{"className":58,"code":275,"language":60,"meta":7,"style":7},"# 標記檔案爲SWAP\nsudo mkswap /swapfile\n",[277],{"type":24,"tag":63,"props":278,"children":279},{"__ignoreMap":7},[280,288],{"type":24,"tag":67,"props":281,"children":282},{"class":69,"line":70},[283],{"type":24,"tag":67,"props":284,"children":285},{"style":74},[286],{"type":29,"value":287},"# 標記檔案爲SWAP\n",{"type":24,"tag":67,"props":289,"children":290},{"class":69,"line":80},[291,295,300],{"type":24,"tag":67,"props":292,"children":293},{"style":84},[294],{"type":29,"value":184},{"type":24,"tag":67,"props":296,"children":297},{"style":113},[298],{"type":29,"value":299}," mkswap",{"type":24,"tag":67,"props":301,"children":302},{"style":113},[303],{"type":29,"value":236},{"type":24,"tag":56,"props":305,"children":307},{"className":58,"code":306,"language":60,"meta":7,"style":7},"# 啟用\nsudo swapon /swapfile\n",[308],{"type":24,"tag":63,"props":309,"children":310},{"__ignoreMap":7},[311,319],{"type":24,"tag":67,"props":312,"children":313},{"class":69,"line":70},[314],{"type":24,"tag":67,"props":315,"children":316},{"style":74},[317],{"type":29,"value":318},"# 啟用\n",{"type":24,"tag":67,"props":320,"children":321},{"class":69,"line":80},[322,326,331],{"type":24,"tag":67,"props":323,"children":324},{"style":84},[325],{"type":29,"value":184},{"type":24,"tag":67,"props":327,"children":328},{"style":113},[329],{"type":29,"value":330}," swapon",{"type":24,"tag":67,"props":332,"children":333},{"style":113},[334],{"type":29,"value":236},{"type":24,"tag":56,"props":336,"children":338},{"className":58,"code":337,"language":60,"meta":7,"style":7},"# 檢查一下調整後的大小\nswapon\n",[339],{"type":24,"tag":63,"props":340,"children":341},{"__ignoreMap":7},[342,350],{"type":24,"tag":67,"props":343,"children":344},{"class":69,"line":70},[345],{"type":24,"tag":67,"props":346,"children":347},{"style":74},[348],{"type":29,"value":349},"# 檢查一下調整後的大小\n",{"type":24,"tag":67,"props":351,"children":352},{"class":69,"line":80},[353],{"type":24,"tag":67,"props":354,"children":355},{"style":84},[356],{"type":29,"value":87},{"type":24,"tag":56,"props":358,"children":360},{"className":58,"code":359,"language":60,"meta":7,"style":7},"# SIZE變成16GB就對囉\nNAME       TYPE      SIZE USED PRIO\n/dev/zram0 partition  16G   0B  100\n",[361],{"type":24,"tag":63,"props":362,"children":363},{"__ignoreMap":7},[364,372,396],{"type":24,"tag":67,"props":365,"children":366},{"class":69,"line":70},[367],{"type":24,"tag":67,"props":368,"children":369},{"style":74},[370],{"type":29,"value":371},"# SIZE變成16GB就對囉\n",{"type":24,"tag":67,"props":373,"children":374},{"class":69,"line":80},[375,379,383,387,392],{"type":24,"tag":67,"props":376,"children":377},{"style":84},[378],{"type":29,"value":110},{"type":24,"tag":67,"props":380,"children":381},{"style":113},[382],{"type":29,"value":116},{"type":24,"tag":67,"props":384,"children":385},{"style":113},[386],{"type":29,"value":121},{"type":24,"tag":67,"props":388,"children":389},{"style":113},[390],{"type":29,"value":391}," USED",{"type":24,"tag":67,"props":393,"children":394},{"style":113},[395],{"type":29,"value":131},{"type":24,"tag":67,"props":397,"children":398},{"class":69,"line":134},[399,404,408,413,418],{"type":24,"tag":67,"props":400,"children":401},{"style":84},[402],{"type":29,"value":403},"/dev/zram0",{"type":24,"tag":67,"props":405,"children":406},{"style":113},[407],{"type":29,"value":145},{"type":24,"tag":67,"props":409,"children":410},{"style":113},[411],{"type":29,"value":412},"  16G",{"type":24,"tag":67,"props":414,"children":415},{"style":113},[416],{"type":29,"value":417},"   0B",{"type":24,"tag":67,"props":419,"children":420},{"style":158},[421],{"type":29,"value":161},{"type":24,"tag":52,"props":423,"children":424},{},[],{"type":24,"tag":426,"props":427,"children":429},"h2",{"id":428},"參考文獻",[430],{"type":29,"value":428},{"type":24,"tag":432,"props":433,"children":434},"ol",{},[435],{"type":24,"tag":436,"props":437,"children":438},"li",{},[439],{"type":24,"tag":440,"props":441,"children":445},"a",{"href":442,"rel":443},"https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-22-04",[444],"nofollow",[446],{"type":29,"value":447},"How To Add Swap Space on Ubuntu 22.04",{"type":24,"tag":449,"props":450,"children":451},"style",{},[452],{"type":29,"value":453},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":80,"depth":80,"links":455},[456],{"id":428,"depth":80,"text":428},"markdown","content:articles:2023:ubuntu_swap_resize.md","content","articles/2023/ubuntu_swap_resize.md","articles/2023/ubuntu_swap_resize","md","2023-04-15T11:38:12.000Z","2023-12-11T03:54:57.000Z","ubuntu_swap_resize",[467],{"title":468,"description":469,"tags":470,"img":475,"readingTime":476,"createdAt":463,"updatedAt":481,"slug":34},"在Ubuntu 22.04編譯Pixel 3a的LineageOS 20.0","之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了 XDA 看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。",[12,471,472,473,474],"android","custom rom","Gooel Pixel 3a","lineageos","922/DxakSn.jpg",{"text":477,"minutes":478,"time":479,"words":480},"9 min read",8.785,527100,1757,"2024-01-24T07:26:04.000Z",1733124067356]