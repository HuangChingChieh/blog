import{_ as V}from"./CfssvRct.js";import{_ as z,b as O}from"./DP7JdwtV.js";import{I as T}from"./DRcAC7NM.js";import{u,a as j,_ as D}from"./CpycYSHH.js";import{_ as G,H as Q,C as _,v as q,b as d,w as l,u as J,o as m,f as e,m as t,P as n,n as f,G as x,c as $,j as h,F as I,e as k,d as K,O as S,Q as L}from"./GxZUXwi3.js";import{A as N}from"./LiKWgNr9.js";import"./BNm2W4AL.js";const U="_topArticleImgClass_1s6fi_3",W="_middle_1s6fi_7",X={topArticleImgClass:U,middle:W},Y=k("hr",{class:"mt-5 mb-0"},null,-1),Z={class:"text-center"},tt={__name:"index",async setup(st){let s,r;const{appHost:E,description:F,categoriesMap:p}=Q().public,{data:g}=([s,r]=_(()=>u({category:"frontend",limit:3})),s=await s,r(),s),{data:y}=([s,r]=_(()=>u({category:"life",limit:1})),s=await s,r(),s),{data:C}=([s,r]=_(()=>u({category:"linux",limit:1})),s=await s,r(),s),H=(a=[],b=[])=>{const o=[];return a.forEach(i=>{b.find(w=>w.slug===i.slug)||o.push(i)}),o},{data:A}=([s,r]=_(async()=>J("IndexArticlesNewest",async()=>{const{data:a}=await u({page:1,category:"all"});return H(a.value,[y.value,C.value,...g.value])})),s=await s,r(),s),v=(()=>{let a=A.value;return Array.isArray(a)&&a.length>0&&(a=a.slice(2)),a})();return q({title:"",titleTemplate:"隨機手札",meta:[{key:"og:url",property:"og:url",content:E},{key:"og:description",property:"og:description",content:F}]}),(a,b)=>{const o=V,i=z,w=O,B=T,M=j,P=S,R=D;return m(),d(B,null,{default:l(()=>[e(o,{cols:"12",lg:t(n)/2},{default:l(()=>[e(N,{article:t(A)[0],"img-class":a.$style.topArticleImgClass},null,8,["article","img-class"])]),_:1},8,["lg"]),e(o,{cols:"12",lg:t(n)/2,class:"mt-4 mt-lg-0"},{default:l(()=>[e(N,{article:t(A)[1],"img-class":a.$style.topArticleImgClass},null,8,["article","img-class"])]),_:1},8,["lg"]),e(o,{cols:"12"},{default:l(()=>[e(B,null,{default:l(()=>[e(o,{lg:t(n)/3,md:t(n)/2,class:f(["order-1",`order-${t(x)}-1`])},{default:l(()=>[e(i,{title:t(p).life,class:"mt-5"},{default:l(()=>[(m(!0),$(I,null,h(t(y),c=>(m(),d(L,{key:c.slug,article:c},null,8,["article"]))),128))]),_:1},8,["title"])]),_:1},8,["lg","md","class"]),e(o,{lg:t(n)/3,md:t(n)/2,class:f(["d-flex order-3",[a.$style.col,`order-${t(x)}-2`]])},{default:l(()=>[e(i,{title:t(p).frontend,class:"mt-5 flex-grow-1"},{default:l(()=>[k("div",{class:f(a.$style.middle)},[(m(!0),$(I,null,h(t(g),c=>(m(),d(w,{key:c.slug,article:c},null,8,["article"]))),128))],2)]),_:1},8,["title"])]),_:1},8,["lg","md","class"]),e(o,{lg:t(n)/3,md:t(n),class:f(["order-2",`order-${t(x)}-3`])},{default:l(()=>[e(i,{title:t(p).linux,class:"mt-5"},{default:l(()=>[(m(!0),$(I,null,h(t(C),c=>(m(),d(L,{key:c.slug,article:c},null,8,["article"]))),128))]),_:1},8,["title"])]),_:1},8,["lg","md","class"])]),_:1})]),_:1}),e(o,{cols:"12"},{default:l(()=>[Y]),_:1}),e(R,{"reverse-order-when-mobile":"","select-not-in-articles":[...t(v),...t(y),...t(g),...t(C)],class:"mt-5"},{default:l(()=>[e(i,{title:"最新文章"},{default:l(()=>[e(M,{articles:t(v)},null,8,["articles"]),k("div",Z,[e(P,{to:{path:"/category/all/1"},size:"lg",class:"mb-4"},{default:l(()=>[K(" 更多文章 ")]),_:1})])]),_:1})]),_:1},8,["select-not-in-articles"])]),_:1})}}},et={$style:X},mt=G(tt,[["__cssModules",et]]);export{mt as default};
