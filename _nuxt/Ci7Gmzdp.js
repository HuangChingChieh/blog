import{_ as q}from"./BVuE8641.js";import{_ as h,o as r,c as g,r as I,b as f,w as c,d as x,t as $,k as M,e as _,n as p,f as o,R as S,S as N,H as w,F as A,j as b,m as y,L as R,K as j,N as V,T as D,g as P,h as z,C as E,u as B,q as L,M as O,U as W}from"./BfwZ41aK.js";import{_ as F,A as Q}from"./Bfuoa8Y0.js";import{u as v}from"./ol4_r4i3.js";import{I as H}from"./BLL8WXwA.js";const K={},U={class:"h5 mb-4 text-center"};function G(e,s){return r(),g("div",U,[I(e.$slots,"default")])}const J=h(K,[["render",G]]),X={class:"shadow-sm rounded bg-foreground p-4 border-top border-primary border-5"},C={__name:"aside-container",props:{title:{type:String,default:""}},setup(e){return(s,l)=>{const t=J;return r(),g("div",X,[e.title?(r(),f(t,{key:0},{default:c(()=>[x($(e.title),1)]),_:1})):M("",!0),I(s.$slots,"default")])}}},Y="_imgWrapper_1hc7b_2",Z="_p_1hc7b_7",ee={imgWrapper:Y,p:Z},te={},ne={class:"text-muted text-center"};function se(e,s){const l=S,t=N,n=C;return r(),f(n,{title:"嗨，我是阿傑！"},{default:c(()=>[_("div",{class:p(["mx-auto",e.$style.imgWrapper])},[o(l,{"img-class":"p-1 rounded-circle border border-primary border-2 mb-4",img:"922/bqqju1.jpg"})],2),_("div",ne,[_("p",{class:p([e.$style.p,"mx-auto"])}," 一名浮沈於前端汪洋的小碼農，主要使用的框架為Vue及其生態系。平常的興趣是喝飲料、玩手遊（鎖鏈戰記、歧路旅人：大陸的霸者）。 ",2),o(t,{to:{path:"/buy_me_a_tea",hash:"#關於我"},variant:"outline-primary",class:"rounded-pill"},{default:c(()=>[x(" 關於我 ")]),_:1})])]),_:1})}const oe={$style:ee},ce=h(te,[["render",se],["__cssModules",oe]]),ae="_li_19z1d_2",re={li:ae},le={class:"d-flex flex-column list-unstyled mb-0"},ie=_("span",{class:"text-primary me-1"},"#",-1),_e={class:"flex-grow-1"},ue={__name:"aside-categories",setup(e){const{categoriesMap:s}=w().public,l=v(),{categories:t}=l;return(n,i)=>{const a=j,d=C;return r(),f(d,{title:"文章分類"},{default:c(()=>[_("nav",null,[_("ul",le,[(r(!0),g(A,null,b(y(s),(u,m)=>(r(),g("li",{key:m,class:p(["py-2",n.$style.li])},[o(a,{class:"d-flex flex-row text-decoration-none",to:y(R)({category:m})},{default:c(()=>[ie,_("span",_e,$(u),1),_("small",null,"("+$(y(t)[m].count)+")",1)]),_:2},1032,["to"])],2))),128))])])]),_:1})}}},de={$style:re},me=h(ue,[["__cssModules",de]]),fe={class:"text-center"},pe={__name:"aside-tags",setup(e){const s=v(),{tagsObj:l}=s;let t=[];return Object.keys(l).forEach(n=>{const i=l[n];i>1&&t.push({name:n,count:i})}),t.sort((n,i)=>{let a=i.count-n.count;return a===0&&(a=n.name>i.name?1:-1),a}),t=t.slice(0,15),(n,i)=>{const a=N,d=C;return r(),f(d,{title:"文章標籤"},{default:c(()=>[_("div",fe,[(r(!0),g(A,null,b(y(t),u=>(r(),f(a,{key:u.name,to:{path:"/buy_me_a_tea",hash:"#關於我"},variant:"outline-primary",size:"sm",class:"rounded-pill mb-2 me-2"},{default:c(()=>[x($(u.name),1)]),_:2},1024))),128))])]),_:1})}}},ge="_img_1176j_2",ye="_title_1176j_8",$e={img:ge,title:ye},he={class:"d-flex flex-row w-100"},xe={class:"d-flex flex-column flex-grow-1"},Ae={class:"flex-grow-1"},be={class:"d-flex flex-row"},Ce={__name:"article-card-compact",props:{article:{type:Object,default:null},noContainer:{type:Boolean,default:!1}},setup(e){return(s,l)=>{const t=S,n=D,i=P,a=z,d=j;return e.article?(r(),f(d,{key:0,class:p(["d-flex text-decoration-none",e.noContainer?"":"bg-foreground rounded shadow-sm p-3"]),to:y(V)(e.article)},{default:c(()=>[_("article",he,[o(t,{class:p([s.$style.img,"me-3 rounded"]),img:e.article.img,"img-class":"rounded"},null,8,["class","img"]),_("div",xe,[_("div",Ae,[o(n,{class:p([s.$style.title,"mb-1"])},{default:c(()=>[x($(e.article.title),1)]),_:1},8,["class"])]),_("div",be,[o(i,{document:e.article,class:"small me-3"},null,8,["document"]),o(a,{minutes:e.article.readingTime.minutes},null,8,["minutes"])])])])]),_:1},8,["class","to"])):M("",!0)}}},ke={$style:$e},we=h(Ce,[["__cssModules",ke]]),Ie="_grid_c35nu_2",ve={grid:Ie},Me={__name:"articles-select",props:{category:{type:String,default:"all"},noContainer:{type:Boolean,default:!1},cardComponent:{type:Object,default:we},notInArticles:{type:Array,default:()=>[]}},async setup(e){let s,l;const t=e,n=v(),{data:i}=([s,l]=E(()=>B(`ArticlesSelect_${t.category}`,()=>{const{categories:a,articlesMetadata:d}=n,{count:u}=t.category==="all"?d:a[t.category];let m=L("articles").only(O.card).where({category:t.category==="all"?void 0:t.category});const{notInArticles:k}=t;return Array.isArray(k)&&k.length>0&&k.forEach(({slug:T})=>{m=m.where({slug:{$not:T}})}),m.sort({updatedAt:-1}).skip(Math.floor(u/2)).limit(3).find()})),s=await s,l(),s);return(a,d)=>(r(),g("div",{class:p(a.$style.grid)},[(r(!0),g(A,null,b(y(i),u=>(r(),f(W(e.cardComponent),{key:u.slug,article:u,"no-container":e.noContainer},null,8,["article","no-container"]))),128))],2))}},Se={$style:ve},Ne=h(Me,[["__cssModules",Se]]),je={__name:"aside-select",props:{category:{type:String,default:"all"},notInArticles:{type:Array,default:()=>[]}},setup(e){return(s,l)=>{const t=Ne,n=C;return r(),f(n,{title:"精選文章"},{default:c(()=>[o(t,{class:"mt-4 pt-3","no-container":"",category:e.category,"not-in-articles":e.notInArticles},null,8,["category","not-in-articles"])]),_:1})}}},qe={__name:"common-layout",props:{reverseOrderWhenMobile:{type:Boolean,default:!1},category:{type:String,default:"all"},selectNotInArticles:{type:Array,default:()=>[]}},setup(e){return(s,l)=>{const t=q,n=ce,i=F,a=me,d=pe,u=je,m=H;return r(),f(t,{cols:"12"},{default:c(()=>[o(m,null,{default:c(()=>[o(t,{cols:"12",lg:"7",xl:"8",class:p(e.reverseOrderWhenMobile?"order-2 order-lg-1 mt-5 mt-lg-0":"order-1")},{default:c(()=>[I(s.$slots,"default")]),_:3},8,["class"]),o(t,{cols:"12",lg:"5",xl:"4",class:p(e.reverseOrderWhenMobile?"order-1 order-lg-2":"order-2 mt-5 mt-lg-0")},{default:c(()=>[o(m,null,{default:c(()=>[o(t,{cols:"12",class:"mb-4"},{default:c(()=>[o(i,{title:"關於隨機手札與我"},{default:c(()=>[o(n)]),_:1})]),_:1}),o(t,{cols:"12",class:"mb-4"},{default:c(()=>[o(a)]),_:1}),o(t,{cols:"12",class:"mb-4"},{default:c(()=>[o(d)]),_:1}),o(t,{cols:"12"},{default:c(()=>[o(u,{category:e.category,"not-in-articles":e.selectNotInArticles},null,8,["category","not-in-articles"])]),_:1})]),_:1})]),_:1},8,["class"])]),_:3})]),_:3})}}},Re=({page:e=1,category:s,limit:l})=>{const{perPage:t}=w().public,n=l||t;return B(`${s}_${e}_${n}`,()=>{const{perPage:i}=w().public;let a=L("articles").only(O.card);return s!=="all"&&(a=a.where({category:s})),a.sort({createdAt:-1}).skip((e-1)*i).limit(n).find()})},Ve={__name:"articles-list",props:{articles:{type:Array,default:()=>[]},cardComponent:{type:Object,default:Q}},setup(e){return(s,l)=>(r(),g("div",null,[(r(!0),g(A,null,b(e.articles,(t,n)=>(r(),f(W(e.cardComponent),{key:n,article:t,class:"mb-4","preload-img":n<=4},null,8,["article","preload-img"]))),128))]))}};export{qe as _,Ve as a,we as b,Re as u};
