import{_ as h,E as p,v as C,a as f,w as d,L as A,z as b,o as n,f as a,c as _,l as y,u,F as g,A as v,B as M,t as m,M as N,n as B,b as k,d as L,g as O,i as S}from"./Cjq5mJ1X.js";import{C as V}from"./o_PwrElS.js";import{_ as $}from"./BO_NsJpn.js";import"./E3oE-qbh.js";const z="_link_1mu07_2",D={link:z},E={class:"rounded overflow-hidden"},F={class:"py-2 d-flex align-items-center mb-0"},J={class:"py-3"},j={class:"mt-2 d-flex align-items-center flex-row"},q={class:"me-2"},H={__name:"index",async setup(Q){let s,o;const{categories:x}=([s,o]=p(()=>A()),s=await s,o(),s),{data:w}=([s,o]=p(async()=>b("categories",async()=>{const e=JSON.parse(JSON.stringify(x));return delete e.all,await Promise.all(Object.keys(e).map(t=>v().only(M.card).sort({createdAt:-1}).where({category:t}).limit(3).find().then(l=>{const r=e[t];return r.articles=l,l}))),e})),s=await s,o(),s);return C({title:"文章分類"}),(e,t)=>{const l=S;return n(),f(V,null,{default:d(()=>[t[1]||(t[1]=a("h1",null,"文章分類",-1)),t[2]||(t[2]=a("hr",{class:"my-4"},null,-1)),(n(!0),_(g,null,y(u(w),(r,i)=>(n(),_("div",{key:i,class:"mt-4"},[a("div",E,[a("h3",F,m(e.$config.public.categoriesMap[i]),1),a("nav",J,[(n(!0),_(g,null,y(r.articles,c=>(n(),f(l,{key:c.slug,to:u(N)(c),class:B(["d-block ps-3 py-2 border-start",e.$style.link])},{default:d(()=>[k(m(c.title),1)]),_:2},1032,["to","class"]))),128)),a("div",j,[a("small",q,"共"+m(r.count)+"篇文章",1),L($,{to:u(O)({category:i})},{default:d(()=>t[0]||(t[0]=[k(" 文章列表 ")])),_:2},1032,["to"])])])])]))),128))]),_:1})}}},P={$style:D},R=h(H,[["__cssModules",P]]);export{R as default};
