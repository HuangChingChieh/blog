import{u as P,I as $,q as O,N as G,_ as N,E as _,x as h,o as u,c as m,d as g,n as l,e as s,w as d,R as k,F as p,i as v,b as A,t as C,Q as w,a as B,l as M}from"./entry.7R-vIcaJ.js";const q=({page:e,category:c})=>P(`${c}_${e}`,()=>{const{perPage:r}=$().public;let a=O("articles").only(G.card);return c!=="all"&&(a=a.where({category:c})),a.sort({updatedAt:-1}).skip((e-1)*r).limit(r).find()}),x="_link_17r71_2",F={link:x},I={class:"pagination justify-content-center"},b=3,Q={__name:"interface-pagination",props:{linkGen:{type:Function,default:()=>{}},numberOfPages:{type:[String,Number],default:1}},setup(e){const c=e,r=_(),a=h(()=>Number(r.params.page)||1),f=h(()=>{const t=[],{numberOfPages:o}=c;if(o>=b){let n=a.value;const i=Math.ceil(b/2),y=o-i+1;for(n<i?n=i:n>y&&(n=y);t.length<b;)t.push(n-i+1+t.length)}else for(;t.length<o;)t.unshift(o-t.length);return t});return(t,o)=>{const n=w;return u(),m("nav",null,[g("ul",I,[g("li",{class:l(["page-item",{disabled:a.value===1}])},[s(n,{class:l(["page-link",t.$style.link]),to:e.linkGen(1)},{default:d(()=>[s(k,{icon:"chevron-double-left"})]),_:1},8,["class","to"])],2),g("li",{class:l(["page-item",{disabled:a.value===1}])},[s(n,{class:l(["page-link",t.$style.link]),to:e.linkGen(a.value>1?a.value-1:1)},{default:d(()=>[s(k,{icon:"chevron-left"})]),_:1},8,["class","to"])],2),(u(!0),m(p,null,v(f.value,i=>(u(),m("li",{key:i,class:l(["page-item",{active:i===a.value}])},[s(n,{class:l(["page-link",t.$style.link]),to:e.linkGen(i)},{default:d(()=>[A(C(i),1)]),_:2},1032,["class","to"])],2))),128)),g("li",{class:l(["page-item",{disabled:a.value===e.numberOfPages}])},[s(n,{class:l(["page-link",t.$style.link]),to:e.linkGen(a.value<e.numberOfPages?a.value+1:e.numberOfPages)},{default:d(()=>[s(k,{icon:"chevron-right"})]),_:1},8,["class","to"])],2),g("li",{class:l(["page-item",{disabled:a.value===e.numberOfPages}])},[s(n,{class:l(["page-link",t.$style.link]),to:e.linkGen(e.numberOfPages)},{default:d(()=>[s(k,{icon:"chevron-double-right"})]),_:1},8,["class","to"])],2)])])}}},R={$style:F},S=N(Q,[["__cssModules",R]]),D={__name:"articles-list",props:{articles:{type:Array,default:()=>[]},linkGen:{type:Function,default:()=>{}},numberOfPages:{type:[String,Number],default:1}},setup(e){return(c,r)=>(u(),m("div",null,[(u(!0),m(p,null,v(e.articles,(a,f)=>(u(),B(M,{key:f,article:a,class:"mb-4","preload-img":f<=4},null,8,["article","preload-img"]))),128)),s(S,{"link-gen":e.linkGen,"number-of-pages":e.numberOfPages},null,8,["link-gen","number-of-pages"])]))}};export{D as _,q as u};
