import{C as f,x as C,c as g,w as d,ad as b,z as L,o as n,b as a,l as m,m as y,t as u,F as k,u as _,ae as v,k as h,a as B,g as N,A as M,B as O,_ as S}from"./9uk_k_NE.js";import{_ as V}from"./DTdwSkRA.js";import{_ as $}from"./BpuwRump.js";import"./DsRS4ZMo.js";const D={class:"rounded overflow-hidden"},E={class:"py-2 flex items-center mb-0"},F={class:"py-4"},J={class:"mt-2 flex items-center flex-row"},j={class:"me-2"},T={__name:"index",async setup(q){let s,o;const{categories:w}=([s,o]=f(()=>b()),s=await s,o(),s),{data:x}=([s,o]=f(async()=>L("categories",async()=>{const t=JSON.parse(JSON.stringify(w));return delete t.all,await Promise.all(Object.keys(t).map(e=>M().only(O.card).sort({createdAt:-1}).where({category:e}).limit(3).find().then(r=>{const i=t[e];return i.articles=r,r}))),t})),s=await s,o(),s);return C({title:"文章分類"}),(t,e)=>{const r=S,i=V,A=$;return n(),g(A,null,{default:d(()=>[e[1]||(e[1]=a("h1",{class:"text-3xl font-bold"},"文章分類",-1)),e[2]||(e[2]=a("hr",{class:"my-6"},null,-1)),(n(!0),m(k,null,y(_(x),(p,l)=>(n(),m("div",{key:l,class:"mt-6"},[a("div",D,[a("h3",E,u(t.$config.public.categoriesMap[l]),1),a("nav",F,[(n(!0),m(k,null,y(p.articles,c=>(n(),g(r,{key:c.slug,to:("getArticleLink"in t?t.getArticleLink:_(v))(c),class:"block ps-4 py-2 border-l-4 hover:border-primary"},{default:d(()=>[h(u(c.title),1)]),_:2},1032,["to"]))),128)),a("div",J,[a("small",j,"共"+u(p.count)+"篇文章",1),B(i,{to:("getCategoryLink"in t?t.getCategoryLink:_(N))({category:l})},{default:d(()=>e[0]||(e[0]=[h(" 文章列表 ")])),_:2},1032,["to"])])])])]))),128))]),_:1})}}};export{T as default};
