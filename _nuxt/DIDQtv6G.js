import{_ as x,C as w,v as C,b as p,w as i,E as N,u as b,o as t,c as _,j as y,m as d,F as f,e as s,q as v,M as A,t as u,N as L,n as M,d as h,f as S,O as B,L as O,K as V}from"./BfwZ41aK.js";import{u as $}from"./ol4_r4i3.js";const j="_link_1mu07_2",q={link:j},D=s("h1",null,"文章分類",-1),E=s("hr",{class:"my-4"},null,-1),F={class:"rounded overflow-hidden"},J={class:"py-2 d-flex align-items-center mb-0"},z={class:"py-3"},H={class:"mt-2 d-flex align-items-center flex-row"},K={class:"me-2"},P={__name:"index",async setup(T){let a,m;const k=$(),{data:g}=([a,m]=w(async()=>b("categories",async()=>{const e=JSON.parse(JSON.stringify(k.categories));return delete e.all,await Promise.all(Object.keys(e).map(l=>v().only(A.card).sort({createdAt:-1}).where({category:l}).limit(3).find().then(n=>{const o=e[l];return o.articles=n,n}))),e})),a=await a,m(),a);return C({title:"文章分類"}),(e,l)=>{const n=V;return t(),p(N,null,{default:i(()=>[D,E,(t(!0),_(f,null,y(d(g),(o,c)=>(t(),_("div",{key:c,class:"mt-4"},[s("div",F,[s("h3",J,u(e.$config.public.categoriesMap[c]),1),s("nav",z,[(t(!0),_(f,null,y(o.articles,r=>(t(),p(n,{key:r.slug,to:d(L)(r),class:M(["d-block ps-3 py-2 border-start",e.$style.link])},{default:i(()=>[h(u(r.title),1)]),_:2},1032,["to","class"]))),128)),s("div",H,[s("small",K,"共"+u(o.count)+"篇文章",1),S(B,{to:d(O)({category:c})},{default:i(()=>[h(" 文章列表 ")]),_:2},1032,["to"])])])])]))),128))]),_:1})}}},Q={$style:q},R=x(P,[["__cssModules",Q]]);export{R as default};
