import{_ as $,a as k}from"./CviiwCkz.js";import{_ as w}from"./CgwTl9-o.js";import{_ as x}from"./C3xf7Q-d.js";import{ab as L,A as b,B as h,a7 as B,C as l,i as P,x as Q,c as R,w as m,ad as j,z as D,o as I,a as c,u as n,j as N}from"./9uk_k_NE.js";import"./DTdwSkRA.js";import"./DsRS4ZMo.js";import"./xDHW5I5v.js";const T=({page:r=1,tag:t=""})=>{const{perPage:a}=L().public;return b("articles").only(h.card).where({tags:{$icontains:t}}).sort({createdAt:-1}).skip((r-1)*a).limit(a).find()},V={__name:"[page]",async setup(r){let t,a;const{tag:o,page:e}=B().params,{tagsObj:u}=([t,a]=l(()=>j()),t=await t,a(),t),s=decodeURIComponent(o).toLowerCase(),p=u[s],{data:d}=([t,a]=l(()=>D(`articles_${s}_${e}`,()=>T({page:e,tag:s}))),t=await t,a(),t),i=P(()=>`標籤「${o}」：第${e}頁`),f=_=>N({tag:s,page:_});return Q({title:i}),(_,q)=>{const g=k,y=w,A=x,C=$;return I(),R(C,null,{default:m(()=>[c(A,{title:n(i)},{default:m(()=>[c(g,{articles:n(d)},null,8,["articles"]),c(y,{page:Number(n(e)),"total-records":n(p),"link-gen-fn":f,class:"mt-normal"},null,8,["page","total-records"])]),_:1},8,["title"])]),_:1})}}};export{V as default};
