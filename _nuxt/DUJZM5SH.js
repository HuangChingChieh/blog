import{_ as h,C as w,p as C,a as p,w as c,E as b,v,o as n,d as e,c as u,i as y,u as _,F as f,x as N,y as A,t as d,M as L,n as M,b as k,e as S,L as B,K as O}from"./UTOhsZFE.js";import{_ as V}from"./0CAgMK5l.js";import{u as $}from"./BOFQ_MB_.js";import"./DPBhI-Bk.js";const D="_link_1mu07_2",E={link:D},F={class:"rounded overflow-hidden"},J={class:"py-2 d-flex align-items-center mb-0"},j={class:"py-3"},q={class:"mt-2 d-flex align-items-center flex-row"},z={class:"me-2"},H={__name:"index",async setup(P){let a,m;const x=$(),{data:g}=([a,m]=w(async()=>v("categories",async()=>{const s=JSON.parse(JSON.stringify(x.categories));return delete s.all,await Promise.all(Object.keys(s).map(t=>N().only(A.card).sort({createdAt:-1}).where({category:t}).limit(3).find().then(o=>{const r=s[t];return r.articles=o,o}))),s})),a=await a,m(),a);return C({title:"文章分類"}),(s,t)=>{const o=O;return n(),p(b,null,{default:c(()=>[t[1]||(t[1]=e("h1",null,"文章分類",-1)),t[2]||(t[2]=e("hr",{class:"my-4"},null,-1)),(n(!0),u(f,null,y(_(g),(r,l)=>(n(),u("div",{key:l,class:"mt-4"},[e("div",F,[e("h3",J,d(s.$config.public.categoriesMap[l]),1),e("nav",j,[(n(!0),u(f,null,y(r.articles,i=>(n(),p(o,{key:i.slug,to:_(L)(i),class:M(["d-block ps-3 py-2 border-start",s.$style.link])},{default:c(()=>[k(d(i.title),1)]),_:2},1032,["to","class"]))),128)),e("div",q,[e("small",z,"共"+d(r.count)+"篇文章",1),S(V,{to:_(B)({category:l})},{default:c(()=>t[0]||(t[0]=[k(" 文章列表 ")])),_:2},1032,["to"])])])])]))),128))]),_:1})}}},K={$style:E},R=h(H,[["__cssModules",K]]);export{R as default};
