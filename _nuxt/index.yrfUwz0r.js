import{_ as x,G as w,z as C,a as p,w as i,J as N,u as b,o as t,c as _,i as y,s as d,F as f,d as s,q as v,N as A,t as u,O as B,n as M,b as h,e as S,P as L,M as O,Q as J}from"./entry.7eNH2_rY.js";import{u as V}from"./index.gljgMxQl.js";const $="_link_1mu07_2",q={link:$},z=s("h1",null,"文章分類",-1),D=s("hr",{class:"my-4"},null,-1),E={class:"rounded overflow-hidden"},F={class:"py-2 d-flex align-items-center mb-0"},P={class:"py-3"},Q={class:"mt-2 d-flex align-items-center flex-row"},j={class:"me-2"},G={__name:"index",async setup(T){let a,m;const k=V(),{data:g}=([a,m]=w(async()=>b("categories",async()=>{const e=JSON.parse(JSON.stringify(k.categories));return delete e.all,await Promise.all(Object.keys(e).map(l=>v().only(A.card).sort({createdAt:-1}).where({category:l}).limit(3).find().then(n=>{const o=e[l];return o.articles=n,n}))),e})),a=await a,m(),a);return C({title:"文章分類"}),(e,l)=>{const n=J;return t(),p(N,null,{default:i(()=>[z,D,(t(!0),_(f,null,y(d(g),(o,r)=>(t(),_("div",{key:r,class:"mt-4"},[s("div",E,[s("h3",F,u(e.$config.public.categoriesMap[r]),1),s("nav",P,[(t(!0),_(f,null,y(o.articles,c=>(t(),p(n,{key:c.slug,to:d(B)(c),class:M(["d-block ps-3 py-2 border-start",e.$style.link])},{default:i(()=>[h(u(c.title),1)]),_:2},1032,["to","class"]))),128)),s("div",Q,[s("small",j,"共"+u(o.count)+"篇文章",1),S(L,{to:d(O)({category:r})},{default:i(()=>[h(" 文章列表 ")]),_:2},1032,["to"])])])])]))),128))]),_:1})}}},H={$style:q},R=x(G,[["__cssModules",H]]);export{R as default};
