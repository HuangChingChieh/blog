import{_ as h,o as r,c as y,r as v,a as p,w as o,b,t as A,h as O,f as d,n as f,d as c,U as k,I as j,E as x,L as M,F as C,l as w,u as $,g as W,i as L,P as T,k as V,j as P,R,z as B,A as q,B as z,N,J as D,p as E,V as F}from"./Cjq5mJ1X.js";import{_ as S}from"./E3oE-qbh.js";import{_ as J}from"./DfwI5mx4.js";import{I as Q}from"./ehxphKh0.js";const U={},G={class:"h5 mb-3 mb-lg-4 text-center"};function H(e,t){return r(),y("div",G,[v(e.$slots,"default")])}const K=h(U,[["render",H]]),X={class:"shadow-sm rounded bg-foreground p-3 p-lg-4 border-top border-primary border-5"},I={__name:"aside-container",props:{title:{type:String,default:""}},setup(e){return(t,a)=>{const s=K;return r(),y("div",X,[e.title?(r(),p(s,{key:0},{default:o(()=>[b(A(e.title),1)]),_:1})):O("",!0),v(t.$slots,"default")])}}},Y="_imgWrapper_1hc7b_2",Z="_p_1hc7b_7",ee={imgWrapper:Y,p:Z},te={},se={class:"text-muted text-center"};function ne(e,t){const a=k,s=S,n=I;return r(),p(n,{title:"嗨，我是阿傑！"},{default:o(()=>[d("div",{class:f(["mx-auto",e.$style.imgWrapper])},[c(a,{"img-class":"p-1 rounded-circle border border-primary border-2 mb-4",img:"922/bqqju1.jpg"})],2),d("div",se,[d("p",{class:f([e.$style.p,"mx-auto"])}," 一名浮沈於前端汪洋的小碼農，主要使用的框架為Vue及其生態系。平常的興趣是喝飲料、玩手遊（鎖鏈戰記、歧路旅人：大陸的霸者）。 ",2),c(s,{to:{path:"/buy_me_a_tea",hash:"#關於我"},variant:"outline-primary",class:"rounded-pill"},{default:o(()=>t[0]||(t[0]=[b(" 關於我 ")])),_:1})])]),_:1})}const ce={$style:ee},oe=h(te,[["render",ne],["__cssModules",ce]]),ae="_li_19z1d_2",re={li:ae},le={class:"d-flex flex-column list-unstyled mb-0"},ie={class:"flex-grow-1"},_e={__name:"aside-categories",async setup(e){let t,a;const{categoriesMap:s}=j().public,{categories:n}=([t,a]=x(()=>M()),t=await t,a(),t);return(_,l)=>{const i=L,m=I;return r(),p(m,{title:"文章分類"},{default:o(()=>[d("nav",null,[d("ul",le,[(r(!0),y(C,null,w($(s),(u,g)=>(r(),y("li",{key:g,class:f(["py-2",_.$style.li])},[c(i,{class:"d-flex flex-row text-decoration-none",to:$(W)({category:g})},{default:o(()=>[l[0]||(l[0]=d("span",{class:"text-primary me-1"},"#",-1)),d("span",ie,A(u),1),d("small",null,"("+A($(n)[g].count)+")",1)]),_:2},1032,["to"])],2))),128))])])]),_:1})}}},ue={$style:re},de=h(_e,[["__cssModules",ue]]),me={class:"text-center"},pe={__name:"aside-tags",async setup(e){let t,a;const{tagsObj:s}=([t,a]=x(()=>M()),t=await t,a(),t);let n=[];return Object.keys(s).forEach(_=>{const l=s[_];l>1&&n.push({name:_,count:l})}),n.sort((_,l)=>{let i=l.count-_.count;return i===0&&(i=_.name>l.name?1:-1),i}),n=n.slice(0,15),(_,l)=>{const i=S,m=I;return r(),p(m,{title:"文章標籤"},{default:o(()=>[d("div",me,[(r(!0),y(C,null,w($(n),u=>(r(),p(i,{key:u.name,to:{path:"/buy_me_a_tea",hash:"#關於我"},variant:"outline-primary",size:"sm",class:"rounded-pill mb-2 me-2"},{default:o(()=>[b(A(u.name),1)]),_:2},1024))),128))])]),_:1})}}},fe="_img_1176j_2",ye="_title_1176j_8",ge={img:fe,title:ye},$e={class:"d-flex flex-row w-100"},Ae={class:"d-flex flex-column flex-grow-1"},he={class:"flex-grow-1"},xe={class:"d-flex flex-row justify-content-end"},be={__name:"article-card-compact",props:{article:{type:Object,default:null},container:{type:Boolean,default:!0}},setup(e){return(t,a)=>{const s=k,n=T,_=V,l=P,i=R;return r(),p(i,{class:f(["d-flex",e.container?"p-3":""]),article:e.article,container:e.container},{default:o(()=>[d("article",$e,[c(s,{class:f([t.$style.img,"me-3 rounded"]),img:e.article.img,"img-class":"rounded"},null,8,["class","img"]),d("div",Ae,[d("div",he,[c(n,{class:f([t.$style.title,"mb-1"])},{default:o(()=>[b(A(e.article.title),1)]),_:1},8,["class"])]),d("div",xe,[c(_,{minutes:e.article.readingTime.minutes,class:"me-4"},null,8,["minutes"]),c(l,{document:e.article},null,8,["document"])])])])]),_:1},8,["class","article","container"])}}},Ce={$style:ge},we=h(be,[["__cssModules",Ce]]),Ie="_grid_c35nu_2",ve={grid:Ie},Me={__name:"articles-select",props:{category:{type:String,default:"all"},cardComponent:{type:Object,default:we},notInArticles:{type:Array,default:()=>[]}},async setup(e){let t,a;const s=e,{categories:n,articlesMetadata:_}=([t,a]=x(()=>M()),t=await t,a(),t),{data:l}=([t,a]=x(()=>B(`ArticlesSelect_${s.category}`,()=>{const{count:i}=s.category==="all"?_:n[s.category];let m=q("articles").only(z.card).where({category:s.category==="all"?void 0:s.category});const{notInArticles:u}=s;return Array.isArray(u)&&u.length>0&&u.forEach(({slug:g})=>{m=m.where({slug:{$not:g}})}),m.sort({updatedAt:-1}).skip(Math.floor(i/2)).limit(3).find()})),t=await t,a(),t);return(i,m)=>(r(),y("div",{class:f(i.$style.grid)},[(r(!0),y(C,null,w($(l),u=>(r(),p(N(e.cardComponent),{key:u.slug,article:u,container:!1},null,8,["article"]))),128))],2))}},ke={$style:ve},je=h(Me,[["__cssModules",ke]]),Be={__name:"aside-select",props:{category:{type:String,default:"all"},notInArticles:{type:Array,default:()=>[]}},setup(e){return(t,a)=>{const s=je,n=I;return r(),p(n,{title:"精選文章"},{default:o(()=>[c(s,{category:e.category,"not-in-articles":e.notInArticles},null,8,["category","not-in-articles"])]),_:1})}}},Le={__name:"common-layout",props:{reverseOrderWhenMobile:{type:Boolean,default:!1},category:{type:String,default:"all"},selectNotInArticles:{type:Array,default:()=>[]}},setup(e){return(t,a)=>{const s=D,n=oe,_=J,l=de,i=pe,m=Be,u=Q;return r(),p(s,{cols:"12"},{default:o(()=>[c(u,null,{default:o(()=>[c(s,{cols:"12",lg:"7",xl:"8",class:f(e.reverseOrderWhenMobile?"order-2 order-lg-1 mt-5 mt-lg-0":"order-1")},{default:o(()=>[v(t.$slots,"default")]),_:3},8,["class"]),c(s,{cols:"12",lg:"5",xl:"4",class:f(e.reverseOrderWhenMobile?"order-1 order-lg-2":"order-2 mt-5 mt-lg-0")},{default:o(()=>[c(u,null,{default:o(()=>[c(s,{cols:"12",class:"mb-4"},{default:o(()=>[c(_,{title:"關於隨機手札與我"},{default:o(()=>[c(n)]),_:1})]),_:1}),c(s,{cols:"12",class:"mb-4"},{default:o(()=>[c(l)]),_:1}),c(s,{cols:"12",class:"mb-4"},{default:o(()=>[c(i)]),_:1}),c(s,{cols:"12"},{default:o(()=>[c(m,{category:e.category,"not-in-articles":e.selectNotInArticles},null,8,["category","not-in-articles"])]),_:1})]),_:1})]),_:1},8,["class"])]),_:3})]),_:3})}}},Te={__name:"articles-list",props:{articles:{type:Array,default:()=>[]},cardComponent:{type:Object,default:E}},setup(e){return(t,a)=>(r(),y("div",null,[(r(!0),y(C,null,w(e.articles,(s,n)=>(r(),p(N(e.cardComponent),{key:n,article:s,class:"mb-4","preload-img":n<=4},null,8,["article","preload-img"]))),128))]))}},Ve=({page:e=1,category:t,limit:a})=>{const{perPage:s}=j().public,n=a||s;return B(`${t}_${e}_${n}`,()=>F({page:e,category:t,limit:n}))};export{Le as _,Te as a,we as b,Ve as u};
