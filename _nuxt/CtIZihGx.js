import{f as h,E as w,s as C,c as p,w as c,H as b,y as N,o as n,b as e,h as u,l as y,u as _,F as f,z as v,B as A,t as d,L as B,n as L,i as k,a as S,g as M,e as O}from"./Jd92928_.js";import{_ as V}from"./Blc5DYdg.js";import{u as $}from"./DWAUYwb1.js";import"./BakiknL5.js";const z="_link_1mu07_2",D={link:z},E={class:"rounded overflow-hidden"},F={class:"py-2 d-flex align-items-center mb-0"},H={class:"py-3"},J={class:"mt-2 d-flex align-items-center flex-row"},j={class:"me-2"},q={__name:"index",async setup(Q){let a,m;const g=$(),{data:x}=([a,m]=w(async()=>N("categories",async()=>{const t=JSON.parse(JSON.stringify(g.categories));return delete t.all,await Promise.all(Object.keys(t).map(s=>v().only(A.card).sort({createdAt:-1}).where({category:s}).limit(3).find().then(o=>{const r=t[s];return r.articles=o,o}))),t})),a=await a,m(),a);return C({title:"文章分類"}),(t,s)=>{const o=O;return n(),p(b,null,{default:c(()=>[s[1]||(s[1]=e("h1",null,"文章分類",-1)),s[2]||(s[2]=e("hr",{class:"my-4"},null,-1)),(n(!0),u(f,null,y(_(x),(r,l)=>(n(),u("div",{key:l,class:"mt-4"},[e("div",E,[e("h3",F,d(t.$config.public.categoriesMap[l]),1),e("nav",H,[(n(!0),u(f,null,y(r.articles,i=>(n(),p(o,{key:i.slug,to:_(B)(i),class:L(["d-block ps-3 py-2 border-start",t.$style.link])},{default:c(()=>[k(d(i.title),1)]),_:2},1032,["to","class"]))),128)),e("div",J,[e("small",j,"共"+d(r.count)+"篇文章",1),S(V,{to:_(M)({category:l})},{default:c(()=>s[0]||(s[0]=[k(" 文章列表 ")])),_:2},1032,["to"])])])])]))),128))]),_:1})}}},P={$style:D},R=h(q,[["__cssModules",P]]);export{R as default};
