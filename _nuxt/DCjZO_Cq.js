import{_ as H,A as oe,a as ue}from"./BM4ca_Xi.js";import{_ as ce}from"./MsxJvKCw.js";import{u as I,q as ie,a as le,_ as O,o as d,c as y,r as D,b as p,w as v,d as w,t as N,e as $,n as b,f,g as de,h as fe,i as me,F as W,j as z,k as R,A as ge,l as k,m,p as pe,s as S,v as T,x as _e,y as xe,z as be,B as he,C as L,D as ye,E as ve,G as Ce,H as Ae}from"./BNDAZzVf.js";import $e from"./Bzw2iwBl.js";import{A as ke}from"./Cbd4FN0m.js";import{_ as Re}from"./CPVYCSZ5.js";import{g as Oe}from"./Cpj98o6Y.js";import{_ as we,t as B}from"./D5kT3mNT.js";import{u as Se}from"./BzH2C_pU.js";import"./CHZjO-RJ.js";import"./BsYmvPZw.js";const Le=e=>{if(!e)throw new Error("Need slug to find article!");return I(e,()=>ie("articles").where({slug:e}).findOne(),"$SpfYyUQ7eF")},Ee=async(e={tags:[],slug:""})=>I(`Related_${e.slug}`,async()=>{const{data:t}=await le(),r=[],a={},o=e.tags,c=e.slug;if(!Array.isArray(o)||o.length===0)return r;t.value.forEach(i=>{const{tags:n,slug:u}=i;if(!Array.isArray(n)||c===u)return;const l=n.reduce((g,_)=>g+o.some(x=>typeof _=="string"&&typeof x=="string"&&_.toLowerCase()===x.toLowerCase()),0);l!==0&&(a[l]||(a[l]=[]),a[l].push(i))});const s=Object.keys(a);if(s.length>0){s.sort((u,l)=>l-u);const i=3;let n=0;for(;n<s.length&&r.length<i;){const u=a[s[n]];u.length>0?r.push(u.pop()):n++}}return r}),je={},Me={class:"badge bg-secondary text-bg-secondary"};function Ue(e,t){return d(),y("span",Me,[D(e.$slots,"default")])}const He=O(je,[["render",Ue]]),Ie={__name:"article-tag",props:{tagName:{type:String,default:""}},setup(e){return(t,r)=>(d(),p(He,{class:"d-inline-block fw-normal font-monospace"},{default:v(()=>[w(" #"),D(t.$slots,"default",{},()=>[w(N(e.tagName),1)])]),_:3}))}},De="_article_13jpp_2",Ne="_title_13jpp_5",We="_date_13jpp_11",ze="_tags_13jpp_14",Te="_banner_13jpp_17",Be={article:De,title:Ne,date:We,tags:ze,banner:Te,"article-img":"_article-img_13jpp_18"},Pe={class:"d-flex flex-row align-items-center my-2"},Ze={__name:"common-article",props:{document:{type:Object,default:()=>({})}},setup(e){return(t,r)=>{const a=$e;return d(),y("article",{class:b(t.$style.article)},[$("h1",{class:b(t.$style.title)},N(e.document.title),3),$("div",Pe,[f(de,{document:e.document,class:b([t.$style.date,"me-3"])},null,8,["document","class"]),f(fe,{minutes:e.document.readingTime.minutes,class:"me-3"},null,8,["minutes"]),f(me,{article:e.document},null,8,["article"])]),e.document.tags?(d(),y("div",{key:0,class:b(["d-flex flex-wrap my-2",t.$style.tags])},[(d(!0),y(W,null,z(e.document.tags,o=>(d(),p(Ie,{key:o,"tag-name":o,class:"me-1 mb-1"},null,8,["tag-name"]))),128))],2)):R("",!0),e.document.img?(d(),p(ge,{key:1,img:e.document.img,"img-class":"rounded",class:b(["rounded",t.$style.banner]),preload:""},null,8,["img","class"])):R("",!0),f(a,{value:e.document,class:"nuxt-content"},null,8,["value"])],2)}}},Je={$style:Be},Ve=O(Ze,[["__cssModules",Je]]),qe="_grid_raqec_2",Fe="_card_raqec_24",Ge={grid:qe,card:Fe},Ye={__name:"articles-related",props:{articles:{type:Array,default:()=>[]},article:{type:Object,default:()=>({tags:[],slug:""})}},setup(e){const t=e,r=k(()=>{const{articles:a}=t;return Array.isArray(a)&&a.length>0});return(a,o)=>{const c=ke,s=H;return m(r)?(d(),p(s,{key:0,title:"相關文章"},{default:v(()=>[(d(!0),y(W,null,z(e.articles,(i,n)=>(d(),p(c,{key:n,article:i,class:"mb-3"},null,8,["article"]))),128))]),_:1})):R("",!0)}}},Ke={$style:Ge},Qe=O(Ye,[["__cssModules",Ke]]),Xe=["src"],et={__name:"liker-button",setup(e){return(t,r)=>(d(),p(Re,{href:"https://ko-fi.com/chaoschaoshuang"},{default:v(()=>[$("img",{src:`${t.$config.public.base}images/donation/kofi_button_blue.png`,alt:"Support me on Ko-fi",class:"img-fluid d-block",width:"200"},null,8,Xe)]),_:1}))}};function tt(e,t,r,a){var o=-1,c=e==null?0:e.length;for(a&&c&&(r=e[++o]);++o<c;)r=t(r,e[o],o,e);return r}var rt=tt,st=we,at={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},nt=st(at),ot=nt,ut=ot,ct=B,it=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,lt="\\u0300-\\u036f",dt="\\ufe20-\\ufe2f",ft="\\u20d0-\\u20ff",mt=lt+dt+ft,gt="["+mt+"]",pt=RegExp(gt,"g");function _t(e){return e=ct(e),e&&e.replace(it,ut).replace(pt,"")}var xt=_t,bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function ht(e){return e.match(bt)||[]}var yt=ht,vt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Ct(e){return vt.test(e)}var At=Ct,P="\\ud800-\\udfff",$t="\\u0300-\\u036f",kt="\\ufe20-\\ufe2f",Rt="\\u20d0-\\u20ff",Ot=$t+kt+Rt,Z="\\u2700-\\u27bf",J="a-z\\xdf-\\xf6\\xf8-\\xff",wt="\\xac\\xb1\\xd7\\xf7",St="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Lt="\\u2000-\\u206f",Et=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",V="A-Z\\xc0-\\xd6\\xd8-\\xde",jt="\\ufe0e\\ufe0f",q=wt+St+Lt+Et,F="['’]",E="["+q+"]",Mt="["+Ot+"]",G="\\d+",Ut="["+Z+"]",Y="["+J+"]",K="[^"+P+q+G+Z+J+V+"]",Ht="\\ud83c[\\udffb-\\udfff]",It="(?:"+Mt+"|"+Ht+")",Dt="[^"+P+"]",Q="(?:\\ud83c[\\udde6-\\uddff]){2}",X="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+V+"]",Nt="\\u200d",j="(?:"+Y+"|"+K+")",Wt="(?:"+h+"|"+K+")",M="(?:"+F+"(?:d|ll|m|re|s|t|ve))?",U="(?:"+F+"(?:D|LL|M|RE|S|T|VE))?",ee=It+"?",te="["+jt+"]?",zt="(?:"+Nt+"(?:"+[Dt,Q,X].join("|")+")"+te+ee+")*",Tt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Bt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Pt=te+ee+zt,Zt="(?:"+[Ut,Q,X].join("|")+")"+Pt,Jt=RegExp([h+"?"+Y+"+"+M+"(?="+[E,h,"$"].join("|")+")",Wt+"+"+U+"(?="+[E,h+j,"$"].join("|")+")",h+"?"+j+"+"+M,h+"+"+U,Bt,Tt,G,Zt].join("|"),"g");function Vt(e){return e.match(Jt)||[]}var qt=Vt,Ft=yt,Gt=At,Yt=B,Kt=qt;function Qt(e,t,r){return e=Yt(e),t=r?void 0:t,t===void 0?Gt(e)?Kt(e):Ft(e):e.match(t)||[]}var Xt=Qt,er=rt,tr=xt,rr=Xt,sr="['’]",ar=RegExp(sr,"g");function nr(e){return function(t){return er(rr(tr(t).replace(ar,"")),e,"")}}var or=nr,ur=or,cr=ur(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()}),ir=cr;const lr=Oe(ir);let A=null;const dr={mounted(e,{value:t,arg:r}){typeof t=="function"&&(A=new IntersectionObserver(a=>{t(a[0].intersectionRatio>0)},{rootMargin:r||"0px"}),A.observe(e))},beforeUnmount(){A&&A instanceof IntersectionObserver&&A.disconnect()}},fr={__name:"article-comment",setup(e){const t=pe(),r=k(()=>t.darkComputed?"dark":"light"),a={repo:"HuangChingChieh/blog",repoId:"R_kgDOHHJsJQ",category:"Announcements",categoryId:"DIC_kwDOHHJsJc4CcL42",reactionsEnabled:0,emitMetadata:0,inputPosition:"top",lang:"zh-TW",loading:"lazy",theme:r.value},o=S(!1),c=S(null),s=k(()=>{const n=[];if(o.value){const u={src:"https://giscus.app/client.js",crossorigin:"anonymous"};Object.keys(a).forEach(l=>{u[`data-${lr(l)}`]=a[l]}),n.push(u)}return n});T({script:s}),_e(r,()=>{const n=c.value.querySelector("iframe.giscus-frame");n&&n instanceof HTMLIFrameElement&&n.contentWindow.postMessage({giscus:{setConfig:{theme:r.value}}},"https://giscus.app")});const i=n=>{n&&!o.value&&(o.value=!0)};return(n,u)=>xe((d(),y("div",{ref_key:"comments",ref:c,class:"giscus"},null,512)),[[m(dr),i]])}},mr=({description:e="",title:t="",img:r="",url:a="",tags:o=[],createdAt:c="",updatedAt:s=""})=>{const i=[{key:"description",name:"description",content:e},{key:"og:url",property:"og:url",content:a},{key:"og:type",property:"og:type",content:"article"},{key:"og:title",property:"og:title",content:t},{key:"og:description",property:"og:description",content:e},{key:"og:image",property:"og:image",content:r},{key:"og:article:published_time",property:"og:article:published_time",content:c},{key:"og:article:modified_time",property:"og:article:modified_time",content:s}];return o.forEach(n=>{i.push({property:"og:article:tag",content:n})}),{title:t,meta:i,script:[{hid:"article-json-ld",type:"application/ld+json",innerHTML:JSON.stringify({"@context":"https://schema.org","@type":"BlogPosting",headline:t,image:[r],datePublished:c,dateModified:s,author:[{"@type":"Person",name:"HuangChingChieh",url:"https://huangchingchieh.github.io/"}]})}]}},kr={__name:"[slug]",async setup(e){let t,r;const a=Se();be((u,l,g)=>{a.toc=[],g()});const o=he(),{slug:c}=o.params,{data:s}=([t,r]=L(()=>Le(c)),t=await t,r(),t);s!=null&&s.value?a.toc=s.value.body.toc.links:ye()({statusCode:"404"});const{data:i}=([t,r]=L(()=>Ee(m(s))),t=await t,r(),t),n=k(()=>{let u=[];if(s!=null&&s.value){const{appHost:l,imageServer:g}=Ae().public,{title:_,description:x,img:C,tags:re,updatedAt:se,createdAt:ae}=s.value,ne=l+o.fullPath.substring(1);u=mr({description:x,url:ne,title:_,img:C?`${g}1600x1200q100/${C}`:`${l}images/default-og.png`,tags:re,updatedAt:se,createdAt:ae})}return u});return T(n.value),(u,l)=>{const g=ue,_=H,x=ce;return d(),p(x,{cols:"12",lg:"10",xl:"8",class:"mx-auto"},{default:v(()=>[f(ve,null,{default:v(()=>[f(Ve,{document:m(s)},null,8,["document"])]),_:1}),$("hr",{class:b(["d-block",`d-${m(Ce)}-none`])},null,2),f(et,{class:"mt-5 d-flex justify-content-center"}),f(fr,{class:"mt-5"}),f(Qe,{article:m(s),class:"mt-5",articles:m(i)},null,8,["article","articles"]),f(_,{title:"精選文章",class:"mt-5"},{default:v(()=>{var C;return[f(g,{category:(C=m(s))==null?void 0:C.category,"card-component":oe,"not-in-articles":m(i)},null,8,["category","not-in-articles"])]}),_:1})]),_:1})}}};export{kr as default};
