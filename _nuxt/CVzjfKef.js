import{_ as S}from"./MsxJvKCw.js";import{_ as x,o as r,c as m,r as A,b as u,w as n,d as C,t as h,k as N,e as i,n as y,f as o,R as w,U as v,H as $,F as I,j as k,m as g,L as B,K as L,u as W,q as j,M as O,V}from"./BNDAZzVf.js";import{a as q,_ as P,A as R}from"./BM4ca_Xi.js";import{u as M}from"./BzH2C_pU.js";import{I as z}from"./BneXiO9G.js";const D={},T={class:"h5 mb-4 text-center"};function E(t,a){return r(),m("div",T,[A(t.$slots,"default")])}const F=x(D,[["render",E]]),Q={class:"shadow-sm rounded bg-foreground p-4 border-top border-primary border-5"},b={__name:"aside-container",props:{title:{type:String,default:""}},setup(t){return(a,l)=>{const e=F;return r(),m("div",Q,[t.title?(r(),u(e,{key:0},{default:n(()=>[C(h(t.title),1)]),_:1})):N("",!0),A(a.$slots,"default")])}}},H="_imgWrapper_1hc7b_2",K="_p_1hc7b_7",U={imgWrapper:H,p:K},G={},J={class:"text-muted text-center"};function X(t,a){const l=w,e=v,s=b;return r(),u(s,{title:"嗨，我是阿傑！"},{default:n(()=>[i("div",{class:y(["mx-auto",t.$style.imgWrapper])},[o(l,{"img-class":"p-1 rounded-circle border border-primary border-2 mb-4",img:"922/bqqju1.jpg"})],2),i("div",J,[i("p",{class:y([t.$style.p,"mx-auto"])}," 一名浮沈於前端汪洋的小碼農，主要使用的框架為Vue及其生態系。平常的興趣是喝飲料、玩手遊（鎖鏈戰記、歧路旅人：大陸的霸者）。 ",2),o(e,{to:{path:"/buy_me_a_tea",hash:"#關於我"},variant:"outline-primary",class:"rounded-pill"},{default:n(()=>[C(" 關於我 ")]),_:1})])]),_:1})}const Y={$style:U},Z=x(G,[["render",X],["__cssModules",Y]]),ee="_li_19z1d_2",te={li:ee},se={class:"d-flex flex-column list-unstyled mb-0"},ne=i("span",{class:"text-primary me-1"},"#",-1),oe={class:"flex-grow-1"},ae={__name:"aside-categories",setup(t){const{categoriesMap:a}=$().public,l=M(),{categories:e}=l;return(s,_)=>{const c=L,f=b;return r(),u(f,{title:"文章分類"},{default:n(()=>[i("nav",null,[i("ul",se,[(r(!0),m(I,null,k(g(a),(d,p)=>(r(),m("li",{key:p,class:y(["py-2",s.$style.li])},[o(c,{class:"d-flex flex-row text-decoration-none",to:g(B)({category:p})},{default:n(()=>[ne,i("span",oe,h(d),1),i("small",null,"("+h(g(e)[p].count)+")",1)]),_:2},1032,["to"])],2))),128))])])]),_:1})}}},re={$style:te},ce=x(ae,[["__cssModules",re]]),le={class:"text-center"},_e={__name:"aside-tags",setup(t){const a=M(),{tagsObj:l}=a;let e=[];return Object.keys(l).forEach(s=>{const _=l[s];_>1&&e.push({name:s,count:_})}),e.sort((s,_)=>{let c=_.count-s.count;return c===0&&(c=s.name>_.name?1:-1),c}),e=e.slice(0,15),(s,_)=>{const c=v,f=b;return r(),u(f,{title:"文章標籤"},{default:n(()=>[i("div",le,[(r(!0),m(I,null,k(g(e),d=>(r(),u(c,{key:d.name,to:{path:"/buy_me_a_tea",hash:"#關於我"},variant:"outline-primary",size:"sm",class:"rounded-pill mb-2 me-2"},{default:n(()=>[C(h(d.name),1)]),_:2},1024))),128))])]),_:1})}}},ie={__name:"aside-select",props:{category:{type:String,default:"all"},notInArticles:{type:Array,default:()=>[]}},setup(t){return(a,l)=>{const e=q,s=b;return r(),u(s,{title:"精選文章"},{default:n(()=>[o(e,{class:"mt-4 pt-3","no-container":"",category:t.category,"not-in-articles":t.notInArticles},null,8,["category","not-in-articles"])]),_:1})}}},ye={__name:"common-layout",props:{reverseOrderWhenMobile:{type:Boolean,default:!1},category:{type:String,default:"all"},selectNotInArticles:{type:Array,default:()=>[]}},setup(t){return(a,l)=>{const e=S,s=Z,_=P,c=ce,f=_e,d=ie,p=z;return r(),u(e,{cols:"12"},{default:n(()=>[o(p,null,{default:n(()=>[o(e,{cols:"12",lg:"7",xl:"8",class:y(t.reverseOrderWhenMobile?"order-2 order-lg-1 mt-5 mt-lg-0":"order-1")},{default:n(()=>[A(a.$slots,"default")]),_:3},8,["class"]),o(e,{cols:"12",lg:"5",xl:"4",class:y(t.reverseOrderWhenMobile?"order-1 order-lg-2":"order-2 mt-5 mt-lg-0")},{default:n(()=>[o(p,null,{default:n(()=>[o(e,{cols:"12",class:"mb-4"},{default:n(()=>[o(_,{title:"關於隨機手札與我"},{default:n(()=>[o(s)]),_:1})]),_:1}),o(e,{cols:"12",class:"mb-4"},{default:n(()=>[o(c)]),_:1}),o(e,{cols:"12",class:"mb-4"},{default:n(()=>[o(f)]),_:1}),o(e,{cols:"12"},{default:n(()=>[o(d,{category:t.category,"not-in-articles":t.selectNotInArticles},null,8,["category","not-in-articles"])]),_:1})]),_:1})]),_:1},8,["class"])]),_:3})]),_:3})}}},ge=({page:t=1,category:a,limit:l})=>{const{perPage:e}=$().public,s=l||e;return W(`${a}_${t}_${s}`,()=>{const{perPage:_}=$().public;let c=j("articles").only(O.card);return a!=="all"&&(c=c.where({category:a})),c.sort({createdAt:-1}).skip((t-1)*_).limit(s).find()})},he={__name:"articles-list",props:{articles:{type:Array,default:()=>[]},cardComponent:{type:Object,default:R}},setup(t){return(a,l)=>(r(),m("div",null,[(r(!0),m(I,null,k(t.articles,(e,s)=>(r(),u(V(t.cardComponent),{key:s,article:e,class:"mb-4","preload-img":s<=4},null,8,["article","preload-img"]))),128))]))}};export{ye as _,he as a,ge as u};
