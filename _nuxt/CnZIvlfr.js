import{B as y,v as L,c as f,w as u,aI as b,y as v,o as n,b as a,j as d,k as g,t as m,F as k,u as _,aJ as x,i as h,a as B,g as N,z as J,A as M,_ as O}from"./BCRneodi.js";import{_ as S}from"./U0oTSWVj.js";import{_ as V}from"./DrvegKJH.js";const $={class:"rounded overflow-hidden"},j={class:"py-2 flex items-center mb-0"},D={class:"py-4"},E={class:"mt-2 flex items-center flex-row"},F={class:"me-2"},P={__name:"index",async setup(q){let s,o;const{categories:w}=([s,o]=y(()=>b()),s=await s,o(),s),{data:A}=([s,o]=y(async()=>v("categories",async()=>{const t=JSON.parse(JSON.stringify(w));return delete t.all,await Promise.all(Object.keys(t).map(e=>J().only(M.card).sort({createdAt:-1}).where({category:e}).limit(3).find().then(r=>{const i=t[e];return i.articles=r,r}))),t})),s=await s,o(),s);return L({title:"文章分類"}),(t,e)=>{const r=O,i=S,C=V;return n(),f(C,null,{default:u(()=>[e[1]||(e[1]=a("h1",null,"文章分類",-1)),e[2]||(e[2]=a("hr",{class:"my-6"},null,-1)),(n(!0),d(k,null,g(_(A),(p,l)=>(n(),d("div",{key:l,class:"mt-6"},[a("div",$,[a("h3",j,m(t.$config.public.categoriesMap[l]),1),a("nav",D,[(n(!0),d(k,null,g(p.articles,c=>(n(),f(r,{key:c.slug,to:("getArticleLink"in t?t.getArticleLink:_(x))(c),class:"block ps-4 py-2 border-l-4 hover:border-primary"},{default:u(()=>[h(m(c.title),1)]),_:2},1032,["to"]))),128)),a("div",E,[a("small",F,"共"+m(p.count)+"篇文章",1),B(i,{to:("getCategoryLink"in t?t.getCategoryLink:_(N))({category:l})},{default:u(()=>e[0]||(e[0]=[h(" 文章列表 ")])),_:2},1032,["to"])])])])]))),128))]),_:1})}}};export{P as default};
