[{"data":1,"prerenderedAt":1325},["ShallowReactive",2],{"nuxt2_to_nuxt3_blog_1_ui":3,"title|nuxt2_to_nuxt3_blog_0_intro":1293,"Related_nuxt2_to_nuxt3_blog_1_ui":1294},{"title":4,"description":5,"img":6,"readingTime":7,"createdAt":12,"updatedAt":13,"slug":14,"tags":15,"category":25,"body":26},"部落格Nuxt 2升級Nuxt 3（一）：bootstrapVue置換成自製的bootrap5元件","如之前規劃，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。","924/Ia2nWi.png",{"text":8,"minutes":9,"time":10,"words":11},"4 min read",3.53,211800,706,"2024-01-23T05:33:23.000Z","2024-01-24T07:26:04.000Z","nuxt2_to_nuxt3_blog_1_ui",[16,17,18,19,20,21,22,23,24],"blog","nuxt","vue","nuxt2","nuxt3","bootstrapVue","bootstrap 4","bootstrap 5","bootstrap","frontend",{"type":27,"children":28,"toc":1284},"root",[29,46,50,57,132,137,259,302,315,318,324,349,355,360,745,751,797,802,1065,1093,1096,1101,1129,1173,1201,1204,1209,1278],{"type":30,"tag":31,"props":32,"children":33},"element","p",{},[34,37,44],{"type":35,"value":36},"text","如",{"type":30,"tag":38,"props":39,"children":41},"article-inner-link",{"slug":40},"nuxt2_to_nuxt3_blog_0_intro",[42],{"type":35,"value":43},"之前規劃",{"type":35,"value":45},"，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。",{"type":30,"tag":47,"props":48,"children":49},"hr",{},[],{"type":30,"tag":51,"props":52,"children":54},"h2",{"id":53},"modal",[55],{"type":35,"value":56},"Modal",{"type":30,"tag":31,"props":58,"children":59},{},[60,62,69,71,77,79,85,87,93,95,101,103,109,111,116,118,123,125,130],{"type":35,"value":61},"元件中比較麻煩的是 Modal，原生的 Bootstrap 的 Modal 會在",{"type":30,"tag":63,"props":64,"children":66},"code",{"className":65},[],[67],{"type":35,"value":68},"body",{"type":35,"value":70},"加上一個",{"type":30,"tag":63,"props":72,"children":74},{"className":73},[],[75],{"type":35,"value":76},"div.modal-backdrop",{"type":35,"value":78},"元素作為底層，原本的",{"type":30,"tag":63,"props":80,"children":82},{"className":81},[],[83],{"type":35,"value":84},".modal",{"type":35,"value":86},"元素則保留在原本的位置，如果遇到上層元素有",{"type":30,"tag":63,"props":88,"children":90},{"className":89},[],[91],{"type":35,"value":92},"position: sticky;",{"type":35,"value":94},"或是",{"type":30,"tag":63,"props":96,"children":98},{"className":97},[],[99],{"type":35,"value":100},"position: absolute",{"type":35,"value":102},"等等會用到",{"type":30,"tag":63,"props":104,"children":106},{"className":105},[],[107],{"type":35,"value":108},"z-index",{"type":35,"value":110},"的 css 屬性，會導致",{"type":30,"tag":63,"props":112,"children":114},{"className":113},[],[115],{"type":35,"value":84},{"type":35,"value":117},"元素因為跟著上層元素的",{"type":30,"tag":63,"props":119,"children":121},{"className":120},[],[122],{"type":35,"value":108},{"type":35,"value":124},"計算而被",{"type":30,"tag":63,"props":126,"children":128},{"className":127},[],[129],{"type":35,"value":76},{"type":35,"value":131},"遮住。",{"type":30,"tag":31,"props":133,"children":134},{},[135],{"type":35,"value":136},"例如：",{"type":30,"tag":138,"props":139,"children":144},"pre",{"className":140,"code":141,"language":142,"meta":143,"style":143},"language-html shiki shiki-themes github-dark","\u003Cheader class=\"position-stickty\" style=\"z-index: 10;\">\n  \u003Cdiv class=\"modal\">\u003C/div>\n\u003C/header>\n","html","",[145],{"type":30,"tag":63,"props":146,"children":147},{"__ignoreMap":143},[148,202,242],{"type":30,"tag":149,"props":150,"children":153},"span",{"class":151,"line":152},"line",1,[154,160,166,172,177,183,188,192,197],{"type":30,"tag":149,"props":155,"children":157},{"style":156},"--shiki-default:#E1E4E8",[158],{"type":35,"value":159},"\u003C",{"type":30,"tag":149,"props":161,"children":163},{"style":162},"--shiki-default:#85E89D",[164],{"type":35,"value":165},"header",{"type":30,"tag":149,"props":167,"children":169},{"style":168},"--shiki-default:#B392F0",[170],{"type":35,"value":171}," class",{"type":30,"tag":149,"props":173,"children":174},{"style":156},[175],{"type":35,"value":176},"=",{"type":30,"tag":149,"props":178,"children":180},{"style":179},"--shiki-default:#9ECBFF",[181],{"type":35,"value":182},"\"position-stickty\"",{"type":30,"tag":149,"props":184,"children":185},{"style":168},[186],{"type":35,"value":187}," style",{"type":30,"tag":149,"props":189,"children":190},{"style":156},[191],{"type":35,"value":176},{"type":30,"tag":149,"props":193,"children":194},{"style":179},[195],{"type":35,"value":196},"\"z-index: 10;\"",{"type":30,"tag":149,"props":198,"children":199},{"style":156},[200],{"type":35,"value":201},">\n",{"type":30,"tag":149,"props":203,"children":205},{"class":151,"line":204},2,[206,211,216,220,224,229,234,238],{"type":30,"tag":149,"props":207,"children":208},{"style":156},[209],{"type":35,"value":210},"  \u003C",{"type":30,"tag":149,"props":212,"children":213},{"style":162},[214],{"type":35,"value":215},"div",{"type":30,"tag":149,"props":217,"children":218},{"style":168},[219],{"type":35,"value":171},{"type":30,"tag":149,"props":221,"children":222},{"style":156},[223],{"type":35,"value":176},{"type":30,"tag":149,"props":225,"children":226},{"style":179},[227],{"type":35,"value":228},"\"modal\"",{"type":30,"tag":149,"props":230,"children":231},{"style":156},[232],{"type":35,"value":233},">\u003C/",{"type":30,"tag":149,"props":235,"children":236},{"style":162},[237],{"type":35,"value":215},{"type":30,"tag":149,"props":239,"children":240},{"style":156},[241],{"type":35,"value":201},{"type":30,"tag":149,"props":243,"children":245},{"class":151,"line":244},3,[246,251,255],{"type":30,"tag":149,"props":247,"children":248},{"style":156},[249],{"type":35,"value":250},"\u003C/",{"type":30,"tag":149,"props":252,"children":253},{"style":162},[254],{"type":35,"value":165},{"type":30,"tag":149,"props":256,"children":257},{"style":156},[258],{"type":35,"value":201},{"type":30,"tag":31,"props":260,"children":261},{},[262,264,270,272,277,279,284,286,292,294,300],{"type":35,"value":263},"原本 bootstrapVue 的作法，是把",{"type":30,"tag":63,"props":265,"children":267},{"className":266},[],[268],{"type":35,"value":269},".modal-backdrop",{"type":35,"value":271},"元素連同",{"type":30,"tag":63,"props":273,"children":275},{"className":274},[],[276],{"type":35,"value":84},{"type":35,"value":278},"元素一起加到",{"type":30,"tag":63,"props":280,"children":282},{"className":281},[],[283],{"type":35,"value":68},{"type":35,"value":285},"裡面，使其脫離可能受影響的父層，猜想這邊應該是使用",{"type":30,"tag":63,"props":287,"children":289},{"className":288},[],[290],{"type":35,"value":291},"$mount",{"type":35,"value":293},"去做處理。但因為部落格用到的 modal 元件很少而且全部都在 header 裡面（基本上等於全域），所以就乾脆移轉到",{"type":30,"tag":63,"props":295,"children":297},{"className":296},[],[298],{"type":35,"value":299},"layouts/default.vue",{"type":35,"value":301},"元件裡了，開關則從 store 做處理。",{"type":30,"tag":31,"props":303,"children":304},{},[305,307,313],{"type":35,"value":306},"畢竟之後還會再更換 UI 框架，這邊就簡單處理，升上 Nuxt 3 之後再直接使用",{"type":30,"tag":63,"props":308,"children":310},{"className":309},[],[311],{"type":35,"value":312},"\u003CTeleport>",{"type":35,"value":314},"元件。",{"type":30,"tag":47,"props":316,"children":317},{},[],{"type":30,"tag":51,"props":319,"children":321},{"id":320},"directives",[322],{"type":35,"value":323},"Directives",{"type":30,"tag":31,"props":325,"children":326},{},[327,329,338,340,347],{"type":35,"value":328},"第二麻煩的則是 directives，部落格用到的 bootstrapVue directives 有兩個：",{"type":30,"tag":330,"props":331,"children":335},"a",{"href":332,"rel":333},"https://bootstrap-vue.org/docs/directives/visible",[334],"nofollow",[336],{"type":35,"value":337},"Visible",{"type":35,"value":339},"、",{"type":30,"tag":330,"props":341,"children":344},{"href":342,"rel":343},"https://bootstrap-vue.org/docs/directives/scrollspy",[334],[345],{"type":35,"value":346},"Scollspy",{"type":35,"value":348},"。",{"type":30,"tag":350,"props":351,"children":353},"h3",{"id":352},"visible",[354],{"type":35,"value":337},{"type":30,"tag":31,"props":356,"children":357},{},[358],{"type":35,"value":359},"因為之前已經有使用 IntersectionObserver 實做延遲載入的經驗，自己覺得 Visible 不算太難。自己寫起來大概長這樣：",{"type":30,"tag":138,"props":361,"children":366},{"className":362,"code":363,"filename":364,"language":365,"meta":143,"style":143},"language-js shiki shiki-themes github-dark","let intersectionObserver = null\n\nexport default {\n  inserted(el, { value }) {\n    if (typeof value === 'function') {\n      intersectionObserver = new IntersectionObserver((entries) => {\n        value(entries[0].intersectionRatio > 0)\n      })\n\n      intersectionObserver.observe(el)\n    }\n  },\n  unbind() {\n    if (\n      intersectionObserver &&\n      intersectionObserver instanceof IntersectionObserver\n    ) {\n      intersectionObserver.disconnect()\n    }\n  },\n}\n","bVisible.js","js",[367],{"type":30,"tag":63,"props":368,"children":369},{"__ignoreMap":143},[370,394,403,421,456,495,542,581,590,598,617,626,635,649,662,675,693,702,720,728,736],{"type":30,"tag":149,"props":371,"children":372},{"class":151,"line":152},[373,379,384,388],{"type":30,"tag":149,"props":374,"children":376},{"style":375},"--shiki-default:#F97583",[377],{"type":35,"value":378},"let",{"type":30,"tag":149,"props":380,"children":381},{"style":156},[382],{"type":35,"value":383}," intersectionObserver ",{"type":30,"tag":149,"props":385,"children":386},{"style":375},[387],{"type":35,"value":176},{"type":30,"tag":149,"props":389,"children":391},{"style":390},"--shiki-default:#79B8FF",[392],{"type":35,"value":393}," null\n",{"type":30,"tag":149,"props":395,"children":396},{"class":151,"line":204},[397],{"type":30,"tag":149,"props":398,"children":400},{"emptyLinePlaceholder":399},true,[401],{"type":35,"value":402},"\n",{"type":30,"tag":149,"props":404,"children":405},{"class":151,"line":244},[406,411,416],{"type":30,"tag":149,"props":407,"children":408},{"style":375},[409],{"type":35,"value":410},"export",{"type":30,"tag":149,"props":412,"children":413},{"style":375},[414],{"type":35,"value":415}," default",{"type":30,"tag":149,"props":417,"children":418},{"style":156},[419],{"type":35,"value":420}," {\n",{"type":30,"tag":149,"props":422,"children":424},{"class":151,"line":423},4,[425,430,435,441,446,451],{"type":30,"tag":149,"props":426,"children":427},{"style":168},[428],{"type":35,"value":429},"  inserted",{"type":30,"tag":149,"props":431,"children":432},{"style":156},[433],{"type":35,"value":434},"(",{"type":30,"tag":149,"props":436,"children":438},{"style":437},"--shiki-default:#FFAB70",[439],{"type":35,"value":440},"el",{"type":30,"tag":149,"props":442,"children":443},{"style":156},[444],{"type":35,"value":445},", { ",{"type":30,"tag":149,"props":447,"children":448},{"style":437},[449],{"type":35,"value":450},"value",{"type":30,"tag":149,"props":452,"children":453},{"style":156},[454],{"type":35,"value":455}," }) {\n",{"type":30,"tag":149,"props":457,"children":459},{"class":151,"line":458},5,[460,465,470,475,480,485,490],{"type":30,"tag":149,"props":461,"children":462},{"style":375},[463],{"type":35,"value":464},"    if",{"type":30,"tag":149,"props":466,"children":467},{"style":156},[468],{"type":35,"value":469}," (",{"type":30,"tag":149,"props":471,"children":472},{"style":375},[473],{"type":35,"value":474},"typeof",{"type":30,"tag":149,"props":476,"children":477},{"style":156},[478],{"type":35,"value":479}," value ",{"type":30,"tag":149,"props":481,"children":482},{"style":375},[483],{"type":35,"value":484},"===",{"type":30,"tag":149,"props":486,"children":487},{"style":179},[488],{"type":35,"value":489}," 'function'",{"type":30,"tag":149,"props":491,"children":492},{"style":156},[493],{"type":35,"value":494},") {\n",{"type":30,"tag":149,"props":496,"children":498},{"class":151,"line":497},6,[499,504,508,513,518,523,528,533,538],{"type":30,"tag":149,"props":500,"children":501},{"style":156},[502],{"type":35,"value":503},"      intersectionObserver ",{"type":30,"tag":149,"props":505,"children":506},{"style":375},[507],{"type":35,"value":176},{"type":30,"tag":149,"props":509,"children":510},{"style":375},[511],{"type":35,"value":512}," new",{"type":30,"tag":149,"props":514,"children":515},{"style":168},[516],{"type":35,"value":517}," IntersectionObserver",{"type":30,"tag":149,"props":519,"children":520},{"style":156},[521],{"type":35,"value":522},"((",{"type":30,"tag":149,"props":524,"children":525},{"style":437},[526],{"type":35,"value":527},"entries",{"type":30,"tag":149,"props":529,"children":530},{"style":156},[531],{"type":35,"value":532},") ",{"type":30,"tag":149,"props":534,"children":535},{"style":375},[536],{"type":35,"value":537},"=>",{"type":30,"tag":149,"props":539,"children":540},{"style":156},[541],{"type":35,"value":420},{"type":30,"tag":149,"props":543,"children":545},{"class":151,"line":544},7,[546,551,556,561,566,571,576],{"type":30,"tag":149,"props":547,"children":548},{"style":168},[549],{"type":35,"value":550},"        value",{"type":30,"tag":149,"props":552,"children":553},{"style":156},[554],{"type":35,"value":555},"(entries[",{"type":30,"tag":149,"props":557,"children":558},{"style":390},[559],{"type":35,"value":560},"0",{"type":30,"tag":149,"props":562,"children":563},{"style":156},[564],{"type":35,"value":565},"].intersectionRatio ",{"type":30,"tag":149,"props":567,"children":568},{"style":375},[569],{"type":35,"value":570},">",{"type":30,"tag":149,"props":572,"children":573},{"style":390},[574],{"type":35,"value":575}," 0",{"type":30,"tag":149,"props":577,"children":578},{"style":156},[579],{"type":35,"value":580},")\n",{"type":30,"tag":149,"props":582,"children":584},{"class":151,"line":583},8,[585],{"type":30,"tag":149,"props":586,"children":587},{"style":156},[588],{"type":35,"value":589},"      })\n",{"type":30,"tag":149,"props":591,"children":593},{"class":151,"line":592},9,[594],{"type":30,"tag":149,"props":595,"children":596},{"emptyLinePlaceholder":399},[597],{"type":35,"value":402},{"type":30,"tag":149,"props":599,"children":601},{"class":151,"line":600},10,[602,607,612],{"type":30,"tag":149,"props":603,"children":604},{"style":156},[605],{"type":35,"value":606},"      intersectionObserver.",{"type":30,"tag":149,"props":608,"children":609},{"style":168},[610],{"type":35,"value":611},"observe",{"type":30,"tag":149,"props":613,"children":614},{"style":156},[615],{"type":35,"value":616},"(el)\n",{"type":30,"tag":149,"props":618,"children":620},{"class":151,"line":619},11,[621],{"type":30,"tag":149,"props":622,"children":623},{"style":156},[624],{"type":35,"value":625},"    }\n",{"type":30,"tag":149,"props":627,"children":629},{"class":151,"line":628},12,[630],{"type":30,"tag":149,"props":631,"children":632},{"style":156},[633],{"type":35,"value":634},"  },\n",{"type":30,"tag":149,"props":636,"children":638},{"class":151,"line":637},13,[639,644],{"type":30,"tag":149,"props":640,"children":641},{"style":168},[642],{"type":35,"value":643},"  unbind",{"type":30,"tag":149,"props":645,"children":646},{"style":156},[647],{"type":35,"value":648},"() {\n",{"type":30,"tag":149,"props":650,"children":652},{"class":151,"line":651},14,[653,657],{"type":30,"tag":149,"props":654,"children":655},{"style":375},[656],{"type":35,"value":464},{"type":30,"tag":149,"props":658,"children":659},{"style":156},[660],{"type":35,"value":661}," (\n",{"type":30,"tag":149,"props":663,"children":665},{"class":151,"line":664},15,[666,670],{"type":30,"tag":149,"props":667,"children":668},{"style":156},[669],{"type":35,"value":503},{"type":30,"tag":149,"props":671,"children":672},{"style":375},[673],{"type":35,"value":674},"&&\n",{"type":30,"tag":149,"props":676,"children":678},{"class":151,"line":677},16,[679,683,688],{"type":30,"tag":149,"props":680,"children":681},{"style":156},[682],{"type":35,"value":503},{"type":30,"tag":149,"props":684,"children":685},{"style":375},[686],{"type":35,"value":687},"instanceof",{"type":30,"tag":149,"props":689,"children":690},{"style":168},[691],{"type":35,"value":692}," IntersectionObserver\n",{"type":30,"tag":149,"props":694,"children":696},{"class":151,"line":695},17,[697],{"type":30,"tag":149,"props":698,"children":699},{"style":156},[700],{"type":35,"value":701},"    ) {\n",{"type":30,"tag":149,"props":703,"children":705},{"class":151,"line":704},18,[706,710,715],{"type":30,"tag":149,"props":707,"children":708},{"style":156},[709],{"type":35,"value":606},{"type":30,"tag":149,"props":711,"children":712},{"style":168},[713],{"type":35,"value":714},"disconnect",{"type":30,"tag":149,"props":716,"children":717},{"style":156},[718],{"type":35,"value":719},"()\n",{"type":30,"tag":149,"props":721,"children":723},{"class":151,"line":722},19,[724],{"type":30,"tag":149,"props":725,"children":726},{"style":156},[727],{"type":35,"value":625},{"type":30,"tag":149,"props":729,"children":731},{"class":151,"line":730},20,[732],{"type":30,"tag":149,"props":733,"children":734},{"style":156},[735],{"type":35,"value":634},{"type":30,"tag":149,"props":737,"children":739},{"class":151,"line":738},21,[740],{"type":30,"tag":149,"props":741,"children":742},{"style":156},[743],{"type":35,"value":744},"}\n",{"type":30,"tag":350,"props":746,"children":748},{"id":747},"scrollspy",[749],{"type":35,"value":750},"Scrollspy",{"type":30,"tag":31,"props":752,"children":753},{},[754,756,763,765,771,773,779,781,787,789,795],{"type":35,"value":755},"Scrollspy 是 bootstrap ",{"type":30,"tag":330,"props":757,"children":760},{"href":758,"rel":759},"https://getbootstrap.com/docs/5.3/components/scrollspy/",[334],[761],{"type":35,"value":762},"原生內建的功能",{"type":35,"value":764},"，主要目的是用來偵測滾動的元素 ID 若與在",{"type":30,"tag":63,"props":766,"children":768},{"className":767},[],[769],{"type":35,"value":770},".nav .nav-item .nav-link",{"type":35,"value":772},"裡面",{"type":30,"tag":63,"props":774,"children":776},{"className":775},[],[777],{"type":35,"value":778},"href",{"type":35,"value":780},"的",{"type":30,"tag":63,"props":782,"children":784},{"className":783},[],[785],{"type":35,"value":786},"hash",{"type":35,"value":788},"相符的話，就給予",{"type":30,"tag":63,"props":790,"children":792},{"className":791},[],[793],{"type":35,"value":794},"active",{"type":35,"value":796},"的 class。",{"type":30,"tag":31,"props":798,"children":799},{},[800],{"type":35,"value":801},"自己寫出來大概長這樣：",{"type":30,"tag":138,"props":803,"children":806},{"className":362,"code":804,"filename":805,"language":365,"meta":143,"style":143},"let Scrollspy = null\nlet scrollSpy = null\n\nexport default {\n  inserted(target) {\n    if (process.client) {\n      if (!Scrollspy) Scrollspy = require('bootstrap/js/dist/scrollspy')\n      scrollSpy = new Scrollspy(document.body, { target })\n    }\n  },\n  unbind() {\n    scrollSpy.dispose()\n  },\n  componentUpdated() {\n    scrollSpy.refresh()\n  },\n}\n","bScrollspy.js",[807],{"type":30,"tag":63,"props":808,"children":809},{"__ignoreMap":143},[810,830,850,857,872,892,904,948,974,981,988,999,1016,1023,1035,1051,1058],{"type":30,"tag":149,"props":811,"children":812},{"class":151,"line":152},[813,817,822,826],{"type":30,"tag":149,"props":814,"children":815},{"style":375},[816],{"type":35,"value":378},{"type":30,"tag":149,"props":818,"children":819},{"style":156},[820],{"type":35,"value":821}," Scrollspy ",{"type":30,"tag":149,"props":823,"children":824},{"style":375},[825],{"type":35,"value":176},{"type":30,"tag":149,"props":827,"children":828},{"style":390},[829],{"type":35,"value":393},{"type":30,"tag":149,"props":831,"children":832},{"class":151,"line":204},[833,837,842,846],{"type":30,"tag":149,"props":834,"children":835},{"style":375},[836],{"type":35,"value":378},{"type":30,"tag":149,"props":838,"children":839},{"style":156},[840],{"type":35,"value":841}," scrollSpy ",{"type":30,"tag":149,"props":843,"children":844},{"style":375},[845],{"type":35,"value":176},{"type":30,"tag":149,"props":847,"children":848},{"style":390},[849],{"type":35,"value":393},{"type":30,"tag":149,"props":851,"children":852},{"class":151,"line":244},[853],{"type":30,"tag":149,"props":854,"children":855},{"emptyLinePlaceholder":399},[856],{"type":35,"value":402},{"type":30,"tag":149,"props":858,"children":859},{"class":151,"line":423},[860,864,868],{"type":30,"tag":149,"props":861,"children":862},{"style":375},[863],{"type":35,"value":410},{"type":30,"tag":149,"props":865,"children":866},{"style":375},[867],{"type":35,"value":415},{"type":30,"tag":149,"props":869,"children":870},{"style":156},[871],{"type":35,"value":420},{"type":30,"tag":149,"props":873,"children":874},{"class":151,"line":458},[875,879,883,888],{"type":30,"tag":149,"props":876,"children":877},{"style":168},[878],{"type":35,"value":429},{"type":30,"tag":149,"props":880,"children":881},{"style":156},[882],{"type":35,"value":434},{"type":30,"tag":149,"props":884,"children":885},{"style":437},[886],{"type":35,"value":887},"target",{"type":30,"tag":149,"props":889,"children":890},{"style":156},[891],{"type":35,"value":494},{"type":30,"tag":149,"props":893,"children":894},{"class":151,"line":497},[895,899],{"type":30,"tag":149,"props":896,"children":897},{"style":375},[898],{"type":35,"value":464},{"type":30,"tag":149,"props":900,"children":901},{"style":156},[902],{"type":35,"value":903}," (process.client) {\n",{"type":30,"tag":149,"props":905,"children":906},{"class":151,"line":544},[907,912,916,921,926,930,935,939,944],{"type":30,"tag":149,"props":908,"children":909},{"style":375},[910],{"type":35,"value":911},"      if",{"type":30,"tag":149,"props":913,"children":914},{"style":156},[915],{"type":35,"value":469},{"type":30,"tag":149,"props":917,"children":918},{"style":375},[919],{"type":35,"value":920},"!",{"type":30,"tag":149,"props":922,"children":923},{"style":156},[924],{"type":35,"value":925},"Scrollspy) Scrollspy ",{"type":30,"tag":149,"props":927,"children":928},{"style":375},[929],{"type":35,"value":176},{"type":30,"tag":149,"props":931,"children":932},{"style":168},[933],{"type":35,"value":934}," require",{"type":30,"tag":149,"props":936,"children":937},{"style":156},[938],{"type":35,"value":434},{"type":30,"tag":149,"props":940,"children":941},{"style":179},[942],{"type":35,"value":943},"'bootstrap/js/dist/scrollspy'",{"type":30,"tag":149,"props":945,"children":946},{"style":156},[947],{"type":35,"value":580},{"type":30,"tag":149,"props":949,"children":950},{"class":151,"line":583},[951,956,960,964,969],{"type":30,"tag":149,"props":952,"children":953},{"style":156},[954],{"type":35,"value":955},"      scrollSpy ",{"type":30,"tag":149,"props":957,"children":958},{"style":375},[959],{"type":35,"value":176},{"type":30,"tag":149,"props":961,"children":962},{"style":375},[963],{"type":35,"value":512},{"type":30,"tag":149,"props":965,"children":966},{"style":168},[967],{"type":35,"value":968}," Scrollspy",{"type":30,"tag":149,"props":970,"children":971},{"style":156},[972],{"type":35,"value":973},"(document.body, { target })\n",{"type":30,"tag":149,"props":975,"children":976},{"class":151,"line":592},[977],{"type":30,"tag":149,"props":978,"children":979},{"style":156},[980],{"type":35,"value":625},{"type":30,"tag":149,"props":982,"children":983},{"class":151,"line":600},[984],{"type":30,"tag":149,"props":985,"children":986},{"style":156},[987],{"type":35,"value":634},{"type":30,"tag":149,"props":989,"children":990},{"class":151,"line":619},[991,995],{"type":30,"tag":149,"props":992,"children":993},{"style":168},[994],{"type":35,"value":643},{"type":30,"tag":149,"props":996,"children":997},{"style":156},[998],{"type":35,"value":648},{"type":30,"tag":149,"props":1000,"children":1001},{"class":151,"line":628},[1002,1007,1012],{"type":30,"tag":149,"props":1003,"children":1004},{"style":156},[1005],{"type":35,"value":1006},"    scrollSpy.",{"type":30,"tag":149,"props":1008,"children":1009},{"style":168},[1010],{"type":35,"value":1011},"dispose",{"type":30,"tag":149,"props":1013,"children":1014},{"style":156},[1015],{"type":35,"value":719},{"type":30,"tag":149,"props":1017,"children":1018},{"class":151,"line":637},[1019],{"type":30,"tag":149,"props":1020,"children":1021},{"style":156},[1022],{"type":35,"value":634},{"type":30,"tag":149,"props":1024,"children":1025},{"class":151,"line":651},[1026,1031],{"type":30,"tag":149,"props":1027,"children":1028},{"style":168},[1029],{"type":35,"value":1030},"  componentUpdated",{"type":30,"tag":149,"props":1032,"children":1033},{"style":156},[1034],{"type":35,"value":648},{"type":30,"tag":149,"props":1036,"children":1037},{"class":151,"line":664},[1038,1042,1047],{"type":30,"tag":149,"props":1039,"children":1040},{"style":156},[1041],{"type":35,"value":1006},{"type":30,"tag":149,"props":1043,"children":1044},{"style":168},[1045],{"type":35,"value":1046},"refresh",{"type":30,"tag":149,"props":1048,"children":1049},{"style":156},[1050],{"type":35,"value":719},{"type":30,"tag":149,"props":1052,"children":1053},{"class":151,"line":677},[1054],{"type":30,"tag":149,"props":1055,"children":1056},{"style":156},[1057],{"type":35,"value":634},{"type":30,"tag":149,"props":1059,"children":1060},{"class":151,"line":695},[1061],{"type":30,"tag":149,"props":1062,"children":1063},{"style":156},[1064],{"type":35,"value":744},{"type":30,"tag":31,"props":1066,"children":1067},{},[1068,1070,1076,1078,1084,1085,1091],{"type":35,"value":1069},"因為 Scrollspy 包含 client 端的程式碼操作，要判斷",{"type":30,"tag":63,"props":1071,"children":1073},{"className":1072},[],[1074],{"type":35,"value":1075},"process.client",{"type":35,"value":1077},"才初始化，否則使用",{"type":30,"tag":63,"props":1079,"children":1081},{"className":1080},[],[1082],{"type":35,"value":1083},"npm run dev",{"type":35,"value":94},{"type":30,"tag":63,"props":1086,"children":1088},{"className":1087},[],[1089],{"type":35,"value":1090},"npm run generate",{"type":35,"value":1092},"時會有錯誤。",{"type":30,"tag":47,"props":1094,"children":1095},{},[],{"type":30,"tag":51,"props":1097,"children":1099},{"id":1098},"暗黑模式",[1100],{"type":35,"value":1098},{"type":30,"tag":31,"props":1102,"children":1103},{},[1104,1106,1112,1114,1119,1121,1127],{"type":35,"value":1105},"最後是暗黑模式，bootstrap5 內建",{"type":30,"tag":330,"props":1107,"children":1110},{"href":1108,"rel":1109},"https://getbootstrap.com/docs/5.3/customize/color-modes/#dark-mode",[334],[1111],{"type":35,"value":1098},{"type":35,"value":1113},"，使用方式也滿簡單的，就是直接在",{"type":30,"tag":63,"props":1115,"children":1117},{"className":1116},[],[1118],{"type":35,"value":142},{"type":35,"value":1120},"標籤上加上",{"type":30,"tag":63,"props":1122,"children":1124},{"className":1123},[],[1125],{"type":35,"value":1126},"data-bs-theme=\"dark\"",{"type":35,"value":1128},"：",{"type":30,"tag":138,"props":1130,"children":1132},{"className":140,"code":1131,"language":142,"meta":143,"style":143},"\u003Chtml data-bs-theme=\"dark\">\u003C/html>\n",[1133],{"type":30,"tag":63,"props":1134,"children":1135},{"__ignoreMap":143},[1136],{"type":30,"tag":149,"props":1137,"children":1138},{"class":151,"line":152},[1139,1143,1147,1152,1156,1161,1165,1169],{"type":30,"tag":149,"props":1140,"children":1141},{"style":156},[1142],{"type":35,"value":159},{"type":30,"tag":149,"props":1144,"children":1145},{"style":162},[1146],{"type":35,"value":142},{"type":30,"tag":149,"props":1148,"children":1149},{"style":168},[1150],{"type":35,"value":1151}," data-bs-theme",{"type":30,"tag":149,"props":1153,"children":1154},{"style":156},[1155],{"type":35,"value":176},{"type":30,"tag":149,"props":1157,"children":1158},{"style":179},[1159],{"type":35,"value":1160},"\"dark\"",{"type":30,"tag":149,"props":1162,"children":1163},{"style":156},[1164],{"type":35,"value":233},{"type":30,"tag":149,"props":1166,"children":1167},{"style":162},[1168],{"type":35,"value":142},{"type":30,"tag":149,"props":1170,"children":1171},{"style":156},[1172],{"type":35,"value":201},{"type":30,"tag":31,"props":1174,"children":1175},{},[1176,1178,1184,1185,1191,1193,1199],{"type":35,"value":1177},"基本的元件若沒有用",{"type":30,"tag":63,"props":1179,"children":1181},{"className":1180},[],[1182],{"type":35,"value":1183},"text-white",{"type":35,"value":94},{"type":30,"tag":63,"props":1186,"children":1188},{"className":1187},[],[1189],{"type":35,"value":1190},"bg-white",{"type":35,"value":1192},"之類的樣式覆寫，就會自動根據暗黑模式而更改了，若有需要特別區分出像這個部落格一樣的前景、背景色之類的，可以參考",{"type":30,"tag":63,"props":1194,"children":1196},{"className":1195},[],[1197],{"type":35,"value":1198},"node_modules/bootstrap/scss/variables-dark\"",{"type":35,"value":1200},"檔案，去使用已經內建的一些變數來簡單做出暗黑模式。",{"type":30,"tag":47,"props":1202,"children":1203},{},[],{"type":30,"tag":51,"props":1205,"children":1207},{"id":1206},"後記",[1208],{"type":35,"value":1206},{"type":30,"tag":31,"props":1210,"children":1211},{},[1212,1214,1220,1222,1228,1230,1236,1237,1243,1245,1251,1253,1259,1261,1267,1269,1276],{"type":35,"value":1213},"在部落格升級的過程中，自己覺得比較困難或要特別注意的就是上述這幾個了。其他像原本代表左右的",{"type":30,"tag":63,"props":1215,"children":1217},{"className":1216},[],[1218],{"type":35,"value":1219},"l",{"type":35,"value":1221},"與",{"type":30,"tag":63,"props":1223,"children":1225},{"className":1224},[],[1226],{"type":35,"value":1227},"r",{"type":35,"value":1229},"要換成",{"type":30,"tag":63,"props":1231,"children":1233},{"className":1232},[],[1234],{"type":35,"value":1235},"start",{"type":35,"value":1221},{"type":30,"tag":63,"props":1238,"children":1240},{"className":1239},[],[1241],{"type":35,"value":1242},"end",{"type":35,"value":1244},"、圓角使用的",{"type":30,"tag":63,"props":1246,"children":1248},{"className":1247},[],[1249],{"type":35,"value":1250},"rounded",{"type":35,"value":1252},"大小不再是使用",{"type":30,"tag":63,"props":1254,"children":1256},{"className":1255},[],[1257],{"type":35,"value":1258},"sm",{"type":35,"value":1260},"/",{"type":30,"tag":63,"props":1262,"children":1264},{"className":1263},[],[1265],{"type":35,"value":1266},"lg",{"type":35,"value":1268},"這種而是轉用數字……之類的小事，直接看",{"type":30,"tag":330,"props":1270,"children":1273},{"href":1271,"rel":1272},"https://getbootstrap.com/docs/5.3/migration/",[334],[1274],{"type":35,"value":1275},"官方的升級指引",{"type":35,"value":1277},"就 OK。",{"type":30,"tag":1279,"props":1280,"children":1281},"style",{},[1282],{"type":35,"value":1283},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":143,"searchDepth":204,"depth":204,"links":1285},[1286,1287,1291,1292],{"id":53,"depth":204,"text":56},{"id":320,"depth":204,"text":323,"children":1288},[1289,1290],{"id":352,"depth":244,"text":337},{"id":747,"depth":244,"text":750},{"id":1098,"depth":204,"text":1098},{"id":1206,"depth":204,"text":1206},"部落格Nuxt 2升級Nuxt 3：前言",[1295,1303,1314],{"title":1293,"description":1296,"img":6,"tags":1297,"readingTime":1298,"createdAt":12,"updatedAt":13,"slug":40},"從去年年初開始建置的這個部落格網站，邊寫文章的同時陸陸續續補上功能後，大概到上個月才終於像是有個部落格的樣子。但由於 Nuxt2 即將在 2024/06/30 停止官方支援，而作為基底的 Vue2 更是在 2023/12/31 已停止官方支援，所以……想說要做的新功能可能先放著，先把部落格從 Nuxt2 升級到 Nuxt3 比較好。",[16,17,18,19,20],{"text":1299,"minutes":1300,"time":1301,"words":1302},"5 min read",4.28,256800,856,{"title":1304,"description":1305,"img":6,"tags":1306,"readingTime":1309,"createdAt":13,"updatedAt":13,"slug":1313},"部落格Nuxt 2升級Nuxt 3（六）：Vuex → Pinia","Nuxt 3 的狀態管理套件從 Nuxt 2 的 Vuex 改成了 Pinia，兩者差異不算大，部落格用到的功能也不多。其中比較要注意的就是 Nuxt 3 不再提供nuxtServerInit方法，若需要在 server 端初始化一些資料的話，就要透過其他作法來完成。",[16,17,18,19,20,1307,1308],"vuex","pinia",{"text":1299,"minutes":1310,"time":1311,"words":1312},4.19,251400,838,"nuxt2_to_nuxt3_blog_6_modules_pinia",{"title":1315,"description":1316,"img":6,"tags":1317,"readingTime":1319,"createdAt":13,"updatedAt":13,"slug":1324},"部落格Nuxt 2升級Nuxt 3（五）：Sitemap模組升級","原本使用的 Sitemap 模組 @nuxtjs/sitemap 有支援 Nuxt 3 的版本，所以升級起來不如前面幾篇困難，主要就是修改一下設定值而已。",[16,17,18,19,20,1318],"sitemap",{"text":1320,"minutes":1321,"time":1322,"words":1323},"2 min read",1.72,103200,344,"nuxt2_to_nuxt3_blog_5_modules_sitemap",1738337289565]