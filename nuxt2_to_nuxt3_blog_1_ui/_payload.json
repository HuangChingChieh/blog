[{"data":1,"prerenderedAt":1345},["ShallowReactive",2],{"nuxt2_to_nuxt3_blog_1_ui":3,"Related_nuxt2_to_nuxt3_blog_1_ui":1313,"title|nuxt2_to_nuxt3_blog_0_intro":1315},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"img":10,"tags":11,"category":21,"readingTime":22,"excerpt":27,"body":47,"_type":1304,"_id":1305,"_source":1306,"_file":1307,"_stem":1308,"_extension":1309,"createdAt":1310,"updatedAt":1311,"slug":1312},"/articles/2024/nuxt2_to_nuxt3_blog_1_ui","2024",false,"","部落格Nuxt 2升級Nuxt 3（一）：bootstrapVue置換成自製的bootrap5元件","如之前規劃，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。","924/Ia2nWi.png",[12,13,14,15,16,17,18,19,20],"blog","nuxt","vue","nuxt2","nuxt3","bootstrapVue","bootstrap 4","bootstrap 5","bootstrap","frontend",{"text":23,"minutes":24,"time":25,"words":26},"4 min read",3.53,211800,706,{"type":28,"children":29},"root",[30],{"type":31,"tag":32,"props":33,"children":34},"element","p",{},[35,38,45],{"type":36,"value":37},"text","如",{"type":31,"tag":39,"props":40,"children":42},"article-inner-link",{"slug":41},"nuxt2_to_nuxt3_blog_0_intro",[43],{"type":36,"value":44},"之前規劃",{"type":36,"value":46},"，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。",{"type":28,"children":48,"toc":1295},[49,58,62,69,144,149,270,313,326,329,335,360,366,371,756,762,808,813,1076,1104,1107,1112,1140,1184,1212,1215,1220,1289],{"type":31,"tag":32,"props":50,"children":51},{},[52,53,57],{"type":36,"value":37},{"type":31,"tag":39,"props":54,"children":55},{"slug":41},[56],{"type":36,"value":44},{"type":36,"value":46},{"type":31,"tag":59,"props":60,"children":61},"hr",{},[],{"type":31,"tag":63,"props":64,"children":66},"h2",{"id":65},"modal",[67],{"type":36,"value":68},"Modal",{"type":31,"tag":32,"props":70,"children":71},{},[72,74,81,83,89,91,97,99,105,107,113,115,121,123,128,130,135,137,142],{"type":36,"value":73},"元件中比較麻煩的是 Modal，原生的 Bootstrap 的 Modal 會在",{"type":31,"tag":75,"props":76,"children":78},"code",{"className":77},[],[79],{"type":36,"value":80},"body",{"type":36,"value":82},"加上一個",{"type":31,"tag":75,"props":84,"children":86},{"className":85},[],[87],{"type":36,"value":88},"div.modal-backdrop",{"type":36,"value":90},"元素作為底層，原本的",{"type":31,"tag":75,"props":92,"children":94},{"className":93},[],[95],{"type":36,"value":96},".modal",{"type":36,"value":98},"元素則保留在原本的位置，如果遇到上層元素有",{"type":31,"tag":75,"props":100,"children":102},{"className":101},[],[103],{"type":36,"value":104},"position: sticky;",{"type":36,"value":106},"或是",{"type":31,"tag":75,"props":108,"children":110},{"className":109},[],[111],{"type":36,"value":112},"position: absolute",{"type":36,"value":114},"等等會用到",{"type":31,"tag":75,"props":116,"children":118},{"className":117},[],[119],{"type":36,"value":120},"z-index",{"type":36,"value":122},"的 css 屬性，會導致",{"type":31,"tag":75,"props":124,"children":126},{"className":125},[],[127],{"type":36,"value":96},{"type":36,"value":129},"元素因為跟著上層元素的",{"type":31,"tag":75,"props":131,"children":133},{"className":132},[],[134],{"type":36,"value":120},{"type":36,"value":136},"計算而被",{"type":31,"tag":75,"props":138,"children":140},{"className":139},[],[141],{"type":36,"value":88},{"type":36,"value":143},"遮住。",{"type":31,"tag":32,"props":145,"children":146},{},[147],{"type":36,"value":148},"例如：",{"type":31,"tag":150,"props":151,"children":155},"pre",{"className":152,"code":153,"language":154,"meta":7,"style":7},"language-html shiki shiki-themes github-dark","\u003Cheader class=\"position-stickty\" style=\"z-index: 10;\">\n  \u003Cdiv class=\"modal\">\u003C/div>\n\u003C/header>\n","html",[156],{"type":31,"tag":75,"props":157,"children":158},{"__ignoreMap":7},[159,213,253],{"type":31,"tag":160,"props":161,"children":164},"span",{"class":162,"line":163},"line",1,[165,171,177,183,188,194,199,203,208],{"type":31,"tag":160,"props":166,"children":168},{"style":167},"--shiki-default:#E1E4E8",[169],{"type":36,"value":170},"\u003C",{"type":31,"tag":160,"props":172,"children":174},{"style":173},"--shiki-default:#85E89D",[175],{"type":36,"value":176},"header",{"type":31,"tag":160,"props":178,"children":180},{"style":179},"--shiki-default:#B392F0",[181],{"type":36,"value":182}," class",{"type":31,"tag":160,"props":184,"children":185},{"style":167},[186],{"type":36,"value":187},"=",{"type":31,"tag":160,"props":189,"children":191},{"style":190},"--shiki-default:#9ECBFF",[192],{"type":36,"value":193},"\"position-stickty\"",{"type":31,"tag":160,"props":195,"children":196},{"style":179},[197],{"type":36,"value":198}," style",{"type":31,"tag":160,"props":200,"children":201},{"style":167},[202],{"type":36,"value":187},{"type":31,"tag":160,"props":204,"children":205},{"style":190},[206],{"type":36,"value":207},"\"z-index: 10;\"",{"type":31,"tag":160,"props":209,"children":210},{"style":167},[211],{"type":36,"value":212},">\n",{"type":31,"tag":160,"props":214,"children":216},{"class":162,"line":215},2,[217,222,227,231,235,240,245,249],{"type":31,"tag":160,"props":218,"children":219},{"style":167},[220],{"type":36,"value":221},"  \u003C",{"type":31,"tag":160,"props":223,"children":224},{"style":173},[225],{"type":36,"value":226},"div",{"type":31,"tag":160,"props":228,"children":229},{"style":179},[230],{"type":36,"value":182},{"type":31,"tag":160,"props":232,"children":233},{"style":167},[234],{"type":36,"value":187},{"type":31,"tag":160,"props":236,"children":237},{"style":190},[238],{"type":36,"value":239},"\"modal\"",{"type":31,"tag":160,"props":241,"children":242},{"style":167},[243],{"type":36,"value":244},">\u003C/",{"type":31,"tag":160,"props":246,"children":247},{"style":173},[248],{"type":36,"value":226},{"type":31,"tag":160,"props":250,"children":251},{"style":167},[252],{"type":36,"value":212},{"type":31,"tag":160,"props":254,"children":256},{"class":162,"line":255},3,[257,262,266],{"type":31,"tag":160,"props":258,"children":259},{"style":167},[260],{"type":36,"value":261},"\u003C/",{"type":31,"tag":160,"props":263,"children":264},{"style":173},[265],{"type":36,"value":176},{"type":31,"tag":160,"props":267,"children":268},{"style":167},[269],{"type":36,"value":212},{"type":31,"tag":32,"props":271,"children":272},{},[273,275,281,283,288,290,295,297,303,305,311],{"type":36,"value":274},"原本 bootstrapVue 的作法，是把",{"type":31,"tag":75,"props":276,"children":278},{"className":277},[],[279],{"type":36,"value":280},".modal-backdrop",{"type":36,"value":282},"元素連同",{"type":31,"tag":75,"props":284,"children":286},{"className":285},[],[287],{"type":36,"value":96},{"type":36,"value":289},"元素一起加到",{"type":31,"tag":75,"props":291,"children":293},{"className":292},[],[294],{"type":36,"value":80},{"type":36,"value":296},"裡面，使其脫離可能受影響的父層，猜想這邊應該是使用",{"type":31,"tag":75,"props":298,"children":300},{"className":299},[],[301],{"type":36,"value":302},"$mount",{"type":36,"value":304},"去做處理。但因為部落格用到的 modal 元件很少而且全部都在 header 裡面（基本上等於全域），所以就乾脆移轉到",{"type":31,"tag":75,"props":306,"children":308},{"className":307},[],[309],{"type":36,"value":310},"layouts/default.vue",{"type":36,"value":312},"元件裡了，開關則從 store 做處理。",{"type":31,"tag":32,"props":314,"children":315},{},[316,318,324],{"type":36,"value":317},"畢竟之後還會再更換 UI 框架，這邊就簡單處理，升上 Nuxt 3 之後再直接使用",{"type":31,"tag":75,"props":319,"children":321},{"className":320},[],[322],{"type":36,"value":323},"\u003CTeleport>",{"type":36,"value":325},"元件。",{"type":31,"tag":59,"props":327,"children":328},{},[],{"type":31,"tag":63,"props":330,"children":332},{"id":331},"directives",[333],{"type":36,"value":334},"Directives",{"type":31,"tag":32,"props":336,"children":337},{},[338,340,349,351,358],{"type":36,"value":339},"第二麻煩的則是 directives，部落格用到的 bootstrapVue directives 有兩個：",{"type":31,"tag":341,"props":342,"children":346},"a",{"href":343,"rel":344},"https://bootstrap-vue.org/docs/directives/visible",[345],"nofollow",[347],{"type":36,"value":348},"Visible",{"type":36,"value":350},"、",{"type":31,"tag":341,"props":352,"children":355},{"href":353,"rel":354},"https://bootstrap-vue.org/docs/directives/scrollspy",[345],[356],{"type":36,"value":357},"Scollspy",{"type":36,"value":359},"。",{"type":31,"tag":361,"props":362,"children":364},"h3",{"id":363},"visible",[365],{"type":36,"value":348},{"type":31,"tag":32,"props":367,"children":368},{},[369],{"type":36,"value":370},"因為之前已經有使用 IntersectionObserver 實做延遲載入的經驗，自己覺得 Visible 不算太難。自己寫起來大概長這樣：",{"type":31,"tag":150,"props":372,"children":377},{"className":373,"code":374,"filename":375,"language":376,"meta":7,"style":7},"language-js shiki shiki-themes github-dark","let intersectionObserver = null\n\nexport default {\n  inserted(el, { value }) {\n    if (typeof value === 'function') {\n      intersectionObserver = new IntersectionObserver((entries) => {\n        value(entries[0].intersectionRatio > 0)\n      })\n\n      intersectionObserver.observe(el)\n    }\n  },\n  unbind() {\n    if (\n      intersectionObserver &&\n      intersectionObserver instanceof IntersectionObserver\n    ) {\n      intersectionObserver.disconnect()\n    }\n  },\n}\n","bVisible.js","js",[378],{"type":31,"tag":75,"props":379,"children":380},{"__ignoreMap":7},[381,405,414,432,467,506,553,592,601,609,628,637,646,660,673,686,704,713,731,739,747],{"type":31,"tag":160,"props":382,"children":383},{"class":162,"line":163},[384,390,395,399],{"type":31,"tag":160,"props":385,"children":387},{"style":386},"--shiki-default:#F97583",[388],{"type":36,"value":389},"let",{"type":31,"tag":160,"props":391,"children":392},{"style":167},[393],{"type":36,"value":394}," intersectionObserver ",{"type":31,"tag":160,"props":396,"children":397},{"style":386},[398],{"type":36,"value":187},{"type":31,"tag":160,"props":400,"children":402},{"style":401},"--shiki-default:#79B8FF",[403],{"type":36,"value":404}," null\n",{"type":31,"tag":160,"props":406,"children":407},{"class":162,"line":215},[408],{"type":31,"tag":160,"props":409,"children":411},{"emptyLinePlaceholder":410},true,[412],{"type":36,"value":413},"\n",{"type":31,"tag":160,"props":415,"children":416},{"class":162,"line":255},[417,422,427],{"type":31,"tag":160,"props":418,"children":419},{"style":386},[420],{"type":36,"value":421},"export",{"type":31,"tag":160,"props":423,"children":424},{"style":386},[425],{"type":36,"value":426}," default",{"type":31,"tag":160,"props":428,"children":429},{"style":167},[430],{"type":36,"value":431}," {\n",{"type":31,"tag":160,"props":433,"children":435},{"class":162,"line":434},4,[436,441,446,452,457,462],{"type":31,"tag":160,"props":437,"children":438},{"style":179},[439],{"type":36,"value":440},"  inserted",{"type":31,"tag":160,"props":442,"children":443},{"style":167},[444],{"type":36,"value":445},"(",{"type":31,"tag":160,"props":447,"children":449},{"style":448},"--shiki-default:#FFAB70",[450],{"type":36,"value":451},"el",{"type":31,"tag":160,"props":453,"children":454},{"style":167},[455],{"type":36,"value":456},", { ",{"type":31,"tag":160,"props":458,"children":459},{"style":448},[460],{"type":36,"value":461},"value",{"type":31,"tag":160,"props":463,"children":464},{"style":167},[465],{"type":36,"value":466}," }) {\n",{"type":31,"tag":160,"props":468,"children":470},{"class":162,"line":469},5,[471,476,481,486,491,496,501],{"type":31,"tag":160,"props":472,"children":473},{"style":386},[474],{"type":36,"value":475},"    if",{"type":31,"tag":160,"props":477,"children":478},{"style":167},[479],{"type":36,"value":480}," (",{"type":31,"tag":160,"props":482,"children":483},{"style":386},[484],{"type":36,"value":485},"typeof",{"type":31,"tag":160,"props":487,"children":488},{"style":167},[489],{"type":36,"value":490}," value ",{"type":31,"tag":160,"props":492,"children":493},{"style":386},[494],{"type":36,"value":495},"===",{"type":31,"tag":160,"props":497,"children":498},{"style":190},[499],{"type":36,"value":500}," 'function'",{"type":31,"tag":160,"props":502,"children":503},{"style":167},[504],{"type":36,"value":505},") {\n",{"type":31,"tag":160,"props":507,"children":509},{"class":162,"line":508},6,[510,515,519,524,529,534,539,544,549],{"type":31,"tag":160,"props":511,"children":512},{"style":167},[513],{"type":36,"value":514},"      intersectionObserver ",{"type":31,"tag":160,"props":516,"children":517},{"style":386},[518],{"type":36,"value":187},{"type":31,"tag":160,"props":520,"children":521},{"style":386},[522],{"type":36,"value":523}," new",{"type":31,"tag":160,"props":525,"children":526},{"style":179},[527],{"type":36,"value":528}," IntersectionObserver",{"type":31,"tag":160,"props":530,"children":531},{"style":167},[532],{"type":36,"value":533},"((",{"type":31,"tag":160,"props":535,"children":536},{"style":448},[537],{"type":36,"value":538},"entries",{"type":31,"tag":160,"props":540,"children":541},{"style":167},[542],{"type":36,"value":543},") ",{"type":31,"tag":160,"props":545,"children":546},{"style":386},[547],{"type":36,"value":548},"=>",{"type":31,"tag":160,"props":550,"children":551},{"style":167},[552],{"type":36,"value":431},{"type":31,"tag":160,"props":554,"children":556},{"class":162,"line":555},7,[557,562,567,572,577,582,587],{"type":31,"tag":160,"props":558,"children":559},{"style":179},[560],{"type":36,"value":561},"        value",{"type":31,"tag":160,"props":563,"children":564},{"style":167},[565],{"type":36,"value":566},"(entries[",{"type":31,"tag":160,"props":568,"children":569},{"style":401},[570],{"type":36,"value":571},"0",{"type":31,"tag":160,"props":573,"children":574},{"style":167},[575],{"type":36,"value":576},"].intersectionRatio ",{"type":31,"tag":160,"props":578,"children":579},{"style":386},[580],{"type":36,"value":581},">",{"type":31,"tag":160,"props":583,"children":584},{"style":401},[585],{"type":36,"value":586}," 0",{"type":31,"tag":160,"props":588,"children":589},{"style":167},[590],{"type":36,"value":591},")\n",{"type":31,"tag":160,"props":593,"children":595},{"class":162,"line":594},8,[596],{"type":31,"tag":160,"props":597,"children":598},{"style":167},[599],{"type":36,"value":600},"      })\n",{"type":31,"tag":160,"props":602,"children":604},{"class":162,"line":603},9,[605],{"type":31,"tag":160,"props":606,"children":607},{"emptyLinePlaceholder":410},[608],{"type":36,"value":413},{"type":31,"tag":160,"props":610,"children":612},{"class":162,"line":611},10,[613,618,623],{"type":31,"tag":160,"props":614,"children":615},{"style":167},[616],{"type":36,"value":617},"      intersectionObserver.",{"type":31,"tag":160,"props":619,"children":620},{"style":179},[621],{"type":36,"value":622},"observe",{"type":31,"tag":160,"props":624,"children":625},{"style":167},[626],{"type":36,"value":627},"(el)\n",{"type":31,"tag":160,"props":629,"children":631},{"class":162,"line":630},11,[632],{"type":31,"tag":160,"props":633,"children":634},{"style":167},[635],{"type":36,"value":636},"    }\n",{"type":31,"tag":160,"props":638,"children":640},{"class":162,"line":639},12,[641],{"type":31,"tag":160,"props":642,"children":643},{"style":167},[644],{"type":36,"value":645},"  },\n",{"type":31,"tag":160,"props":647,"children":649},{"class":162,"line":648},13,[650,655],{"type":31,"tag":160,"props":651,"children":652},{"style":179},[653],{"type":36,"value":654},"  unbind",{"type":31,"tag":160,"props":656,"children":657},{"style":167},[658],{"type":36,"value":659},"() {\n",{"type":31,"tag":160,"props":661,"children":663},{"class":162,"line":662},14,[664,668],{"type":31,"tag":160,"props":665,"children":666},{"style":386},[667],{"type":36,"value":475},{"type":31,"tag":160,"props":669,"children":670},{"style":167},[671],{"type":36,"value":672}," (\n",{"type":31,"tag":160,"props":674,"children":676},{"class":162,"line":675},15,[677,681],{"type":31,"tag":160,"props":678,"children":679},{"style":167},[680],{"type":36,"value":514},{"type":31,"tag":160,"props":682,"children":683},{"style":386},[684],{"type":36,"value":685},"&&\n",{"type":31,"tag":160,"props":687,"children":689},{"class":162,"line":688},16,[690,694,699],{"type":31,"tag":160,"props":691,"children":692},{"style":167},[693],{"type":36,"value":514},{"type":31,"tag":160,"props":695,"children":696},{"style":386},[697],{"type":36,"value":698},"instanceof",{"type":31,"tag":160,"props":700,"children":701},{"style":179},[702],{"type":36,"value":703}," IntersectionObserver\n",{"type":31,"tag":160,"props":705,"children":707},{"class":162,"line":706},17,[708],{"type":31,"tag":160,"props":709,"children":710},{"style":167},[711],{"type":36,"value":712},"    ) {\n",{"type":31,"tag":160,"props":714,"children":716},{"class":162,"line":715},18,[717,721,726],{"type":31,"tag":160,"props":718,"children":719},{"style":167},[720],{"type":36,"value":617},{"type":31,"tag":160,"props":722,"children":723},{"style":179},[724],{"type":36,"value":725},"disconnect",{"type":31,"tag":160,"props":727,"children":728},{"style":167},[729],{"type":36,"value":730},"()\n",{"type":31,"tag":160,"props":732,"children":734},{"class":162,"line":733},19,[735],{"type":31,"tag":160,"props":736,"children":737},{"style":167},[738],{"type":36,"value":636},{"type":31,"tag":160,"props":740,"children":742},{"class":162,"line":741},20,[743],{"type":31,"tag":160,"props":744,"children":745},{"style":167},[746],{"type":36,"value":645},{"type":31,"tag":160,"props":748,"children":750},{"class":162,"line":749},21,[751],{"type":31,"tag":160,"props":752,"children":753},{"style":167},[754],{"type":36,"value":755},"}\n",{"type":31,"tag":361,"props":757,"children":759},{"id":758},"scrollspy",[760],{"type":36,"value":761},"Scrollspy",{"type":31,"tag":32,"props":763,"children":764},{},[765,767,774,776,782,784,790,792,798,800,806],{"type":36,"value":766},"Scrollspy 是 bootstrap ",{"type":31,"tag":341,"props":768,"children":771},{"href":769,"rel":770},"https://getbootstrap.com/docs/5.3/components/scrollspy/",[345],[772],{"type":36,"value":773},"原生內建的功能",{"type":36,"value":775},"，主要目的是用來偵測滾動的元素 ID 若與在",{"type":31,"tag":75,"props":777,"children":779},{"className":778},[],[780],{"type":36,"value":781},".nav .nav-item .nav-link",{"type":36,"value":783},"裡面",{"type":31,"tag":75,"props":785,"children":787},{"className":786},[],[788],{"type":36,"value":789},"href",{"type":36,"value":791},"的",{"type":31,"tag":75,"props":793,"children":795},{"className":794},[],[796],{"type":36,"value":797},"hash",{"type":36,"value":799},"相符的話，就給予",{"type":31,"tag":75,"props":801,"children":803},{"className":802},[],[804],{"type":36,"value":805},"active",{"type":36,"value":807},"的 class。",{"type":31,"tag":32,"props":809,"children":810},{},[811],{"type":36,"value":812},"自己寫出來大概長這樣：",{"type":31,"tag":150,"props":814,"children":817},{"className":373,"code":815,"filename":816,"language":376,"meta":7,"style":7},"let Scrollspy = null\nlet scrollSpy = null\n\nexport default {\n  inserted(target) {\n    if (process.client) {\n      if (!Scrollspy) Scrollspy = require('bootstrap/js/dist/scrollspy')\n      scrollSpy = new Scrollspy(document.body, { target })\n    }\n  },\n  unbind() {\n    scrollSpy.dispose()\n  },\n  componentUpdated() {\n    scrollSpy.refresh()\n  },\n}\n","bScrollspy.js",[818],{"type":31,"tag":75,"props":819,"children":820},{"__ignoreMap":7},[821,841,861,868,883,903,915,959,985,992,999,1010,1027,1034,1046,1062,1069],{"type":31,"tag":160,"props":822,"children":823},{"class":162,"line":163},[824,828,833,837],{"type":31,"tag":160,"props":825,"children":826},{"style":386},[827],{"type":36,"value":389},{"type":31,"tag":160,"props":829,"children":830},{"style":167},[831],{"type":36,"value":832}," Scrollspy ",{"type":31,"tag":160,"props":834,"children":835},{"style":386},[836],{"type":36,"value":187},{"type":31,"tag":160,"props":838,"children":839},{"style":401},[840],{"type":36,"value":404},{"type":31,"tag":160,"props":842,"children":843},{"class":162,"line":215},[844,848,853,857],{"type":31,"tag":160,"props":845,"children":846},{"style":386},[847],{"type":36,"value":389},{"type":31,"tag":160,"props":849,"children":850},{"style":167},[851],{"type":36,"value":852}," scrollSpy ",{"type":31,"tag":160,"props":854,"children":855},{"style":386},[856],{"type":36,"value":187},{"type":31,"tag":160,"props":858,"children":859},{"style":401},[860],{"type":36,"value":404},{"type":31,"tag":160,"props":862,"children":863},{"class":162,"line":255},[864],{"type":31,"tag":160,"props":865,"children":866},{"emptyLinePlaceholder":410},[867],{"type":36,"value":413},{"type":31,"tag":160,"props":869,"children":870},{"class":162,"line":434},[871,875,879],{"type":31,"tag":160,"props":872,"children":873},{"style":386},[874],{"type":36,"value":421},{"type":31,"tag":160,"props":876,"children":877},{"style":386},[878],{"type":36,"value":426},{"type":31,"tag":160,"props":880,"children":881},{"style":167},[882],{"type":36,"value":431},{"type":31,"tag":160,"props":884,"children":885},{"class":162,"line":469},[886,890,894,899],{"type":31,"tag":160,"props":887,"children":888},{"style":179},[889],{"type":36,"value":440},{"type":31,"tag":160,"props":891,"children":892},{"style":167},[893],{"type":36,"value":445},{"type":31,"tag":160,"props":895,"children":896},{"style":448},[897],{"type":36,"value":898},"target",{"type":31,"tag":160,"props":900,"children":901},{"style":167},[902],{"type":36,"value":505},{"type":31,"tag":160,"props":904,"children":905},{"class":162,"line":508},[906,910],{"type":31,"tag":160,"props":907,"children":908},{"style":386},[909],{"type":36,"value":475},{"type":31,"tag":160,"props":911,"children":912},{"style":167},[913],{"type":36,"value":914}," (process.client) {\n",{"type":31,"tag":160,"props":916,"children":917},{"class":162,"line":555},[918,923,927,932,937,941,946,950,955],{"type":31,"tag":160,"props":919,"children":920},{"style":386},[921],{"type":36,"value":922},"      if",{"type":31,"tag":160,"props":924,"children":925},{"style":167},[926],{"type":36,"value":480},{"type":31,"tag":160,"props":928,"children":929},{"style":386},[930],{"type":36,"value":931},"!",{"type":31,"tag":160,"props":933,"children":934},{"style":167},[935],{"type":36,"value":936},"Scrollspy) Scrollspy ",{"type":31,"tag":160,"props":938,"children":939},{"style":386},[940],{"type":36,"value":187},{"type":31,"tag":160,"props":942,"children":943},{"style":179},[944],{"type":36,"value":945}," require",{"type":31,"tag":160,"props":947,"children":948},{"style":167},[949],{"type":36,"value":445},{"type":31,"tag":160,"props":951,"children":952},{"style":190},[953],{"type":36,"value":954},"'bootstrap/js/dist/scrollspy'",{"type":31,"tag":160,"props":956,"children":957},{"style":167},[958],{"type":36,"value":591},{"type":31,"tag":160,"props":960,"children":961},{"class":162,"line":594},[962,967,971,975,980],{"type":31,"tag":160,"props":963,"children":964},{"style":167},[965],{"type":36,"value":966},"      scrollSpy ",{"type":31,"tag":160,"props":968,"children":969},{"style":386},[970],{"type":36,"value":187},{"type":31,"tag":160,"props":972,"children":973},{"style":386},[974],{"type":36,"value":523},{"type":31,"tag":160,"props":976,"children":977},{"style":179},[978],{"type":36,"value":979}," Scrollspy",{"type":31,"tag":160,"props":981,"children":982},{"style":167},[983],{"type":36,"value":984},"(document.body, { target })\n",{"type":31,"tag":160,"props":986,"children":987},{"class":162,"line":603},[988],{"type":31,"tag":160,"props":989,"children":990},{"style":167},[991],{"type":36,"value":636},{"type":31,"tag":160,"props":993,"children":994},{"class":162,"line":611},[995],{"type":31,"tag":160,"props":996,"children":997},{"style":167},[998],{"type":36,"value":645},{"type":31,"tag":160,"props":1000,"children":1001},{"class":162,"line":630},[1002,1006],{"type":31,"tag":160,"props":1003,"children":1004},{"style":179},[1005],{"type":36,"value":654},{"type":31,"tag":160,"props":1007,"children":1008},{"style":167},[1009],{"type":36,"value":659},{"type":31,"tag":160,"props":1011,"children":1012},{"class":162,"line":639},[1013,1018,1023],{"type":31,"tag":160,"props":1014,"children":1015},{"style":167},[1016],{"type":36,"value":1017},"    scrollSpy.",{"type":31,"tag":160,"props":1019,"children":1020},{"style":179},[1021],{"type":36,"value":1022},"dispose",{"type":31,"tag":160,"props":1024,"children":1025},{"style":167},[1026],{"type":36,"value":730},{"type":31,"tag":160,"props":1028,"children":1029},{"class":162,"line":648},[1030],{"type":31,"tag":160,"props":1031,"children":1032},{"style":167},[1033],{"type":36,"value":645},{"type":31,"tag":160,"props":1035,"children":1036},{"class":162,"line":662},[1037,1042],{"type":31,"tag":160,"props":1038,"children":1039},{"style":179},[1040],{"type":36,"value":1041},"  componentUpdated",{"type":31,"tag":160,"props":1043,"children":1044},{"style":167},[1045],{"type":36,"value":659},{"type":31,"tag":160,"props":1047,"children":1048},{"class":162,"line":675},[1049,1053,1058],{"type":31,"tag":160,"props":1050,"children":1051},{"style":167},[1052],{"type":36,"value":1017},{"type":31,"tag":160,"props":1054,"children":1055},{"style":179},[1056],{"type":36,"value":1057},"refresh",{"type":31,"tag":160,"props":1059,"children":1060},{"style":167},[1061],{"type":36,"value":730},{"type":31,"tag":160,"props":1063,"children":1064},{"class":162,"line":688},[1065],{"type":31,"tag":160,"props":1066,"children":1067},{"style":167},[1068],{"type":36,"value":645},{"type":31,"tag":160,"props":1070,"children":1071},{"class":162,"line":706},[1072],{"type":31,"tag":160,"props":1073,"children":1074},{"style":167},[1075],{"type":36,"value":755},{"type":31,"tag":32,"props":1077,"children":1078},{},[1079,1081,1087,1089,1095,1096,1102],{"type":36,"value":1080},"因為 Scrollspy 包含 client 端的程式碼操作，要判斷",{"type":31,"tag":75,"props":1082,"children":1084},{"className":1083},[],[1085],{"type":36,"value":1086},"process.client",{"type":36,"value":1088},"才初始化，否則使用",{"type":31,"tag":75,"props":1090,"children":1092},{"className":1091},[],[1093],{"type":36,"value":1094},"npm run dev",{"type":36,"value":106},{"type":31,"tag":75,"props":1097,"children":1099},{"className":1098},[],[1100],{"type":36,"value":1101},"npm run generate",{"type":36,"value":1103},"時會有錯誤。",{"type":31,"tag":59,"props":1105,"children":1106},{},[],{"type":31,"tag":63,"props":1108,"children":1110},{"id":1109},"暗黑模式",[1111],{"type":36,"value":1109},{"type":31,"tag":32,"props":1113,"children":1114},{},[1115,1117,1123,1125,1130,1132,1138],{"type":36,"value":1116},"最後是暗黑模式，bootstrap5 內建",{"type":31,"tag":341,"props":1118,"children":1121},{"href":1119,"rel":1120},"https://getbootstrap.com/docs/5.3/customize/color-modes/#dark-mode",[345],[1122],{"type":36,"value":1109},{"type":36,"value":1124},"，使用方式也滿簡單的，就是直接在",{"type":31,"tag":75,"props":1126,"children":1128},{"className":1127},[],[1129],{"type":36,"value":154},{"type":36,"value":1131},"標籤上加上",{"type":31,"tag":75,"props":1133,"children":1135},{"className":1134},[],[1136],{"type":36,"value":1137},"data-bs-theme=\"dark\"",{"type":36,"value":1139},"：",{"type":31,"tag":150,"props":1141,"children":1143},{"className":152,"code":1142,"language":154,"meta":7,"style":7},"\u003Chtml data-bs-theme=\"dark\">\u003C/html>\n",[1144],{"type":31,"tag":75,"props":1145,"children":1146},{"__ignoreMap":7},[1147],{"type":31,"tag":160,"props":1148,"children":1149},{"class":162,"line":163},[1150,1154,1158,1163,1167,1172,1176,1180],{"type":31,"tag":160,"props":1151,"children":1152},{"style":167},[1153],{"type":36,"value":170},{"type":31,"tag":160,"props":1155,"children":1156},{"style":173},[1157],{"type":36,"value":154},{"type":31,"tag":160,"props":1159,"children":1160},{"style":179},[1161],{"type":36,"value":1162}," data-bs-theme",{"type":31,"tag":160,"props":1164,"children":1165},{"style":167},[1166],{"type":36,"value":187},{"type":31,"tag":160,"props":1168,"children":1169},{"style":190},[1170],{"type":36,"value":1171},"\"dark\"",{"type":31,"tag":160,"props":1173,"children":1174},{"style":167},[1175],{"type":36,"value":244},{"type":31,"tag":160,"props":1177,"children":1178},{"style":173},[1179],{"type":36,"value":154},{"type":31,"tag":160,"props":1181,"children":1182},{"style":167},[1183],{"type":36,"value":212},{"type":31,"tag":32,"props":1185,"children":1186},{},[1187,1189,1195,1196,1202,1204,1210],{"type":36,"value":1188},"基本的元件若沒有用",{"type":31,"tag":75,"props":1190,"children":1192},{"className":1191},[],[1193],{"type":36,"value":1194},"text-white",{"type":36,"value":106},{"type":31,"tag":75,"props":1197,"children":1199},{"className":1198},[],[1200],{"type":36,"value":1201},"bg-white",{"type":36,"value":1203},"之類的樣式覆寫，就會自動根據暗黑模式而更改了，若有需要特別區分出像這個部落格一樣的前景、背景色之類的，可以參考",{"type":31,"tag":75,"props":1205,"children":1207},{"className":1206},[],[1208],{"type":36,"value":1209},"node_modules/bootstrap/scss/variables-dark\"",{"type":36,"value":1211},"檔案，去使用已經內建的一些變數來簡單做出暗黑模式。",{"type":31,"tag":59,"props":1213,"children":1214},{},[],{"type":31,"tag":63,"props":1216,"children":1218},{"id":1217},"後記",[1219],{"type":36,"value":1217},{"type":31,"tag":32,"props":1221,"children":1222},{},[1223,1225,1231,1233,1239,1241,1247,1248,1254,1256,1262,1264,1270,1272,1278,1280,1287],{"type":36,"value":1224},"在部落格升級的過程中，自己覺得比較困難或要特別注意的就是上述這幾個了。其他像原本代表左右的",{"type":31,"tag":75,"props":1226,"children":1228},{"className":1227},[],[1229],{"type":36,"value":1230},"l",{"type":36,"value":1232},"與",{"type":31,"tag":75,"props":1234,"children":1236},{"className":1235},[],[1237],{"type":36,"value":1238},"r",{"type":36,"value":1240},"要換成",{"type":31,"tag":75,"props":1242,"children":1244},{"className":1243},[],[1245],{"type":36,"value":1246},"start",{"type":36,"value":1232},{"type":31,"tag":75,"props":1249,"children":1251},{"className":1250},[],[1252],{"type":36,"value":1253},"end",{"type":36,"value":1255},"、圓角使用的",{"type":31,"tag":75,"props":1257,"children":1259},{"className":1258},[],[1260],{"type":36,"value":1261},"rounded",{"type":36,"value":1263},"大小不再是使用",{"type":31,"tag":75,"props":1265,"children":1267},{"className":1266},[],[1268],{"type":36,"value":1269},"sm",{"type":36,"value":1271},"/",{"type":31,"tag":75,"props":1273,"children":1275},{"className":1274},[],[1276],{"type":36,"value":1277},"lg",{"type":36,"value":1279},"這種而是轉用數字……之類的小事，直接看",{"type":31,"tag":341,"props":1281,"children":1284},{"href":1282,"rel":1283},"https://getbootstrap.com/docs/5.3/migration/",[345],[1285],{"type":36,"value":1286},"官方的升級指引",{"type":36,"value":1288},"就 OK。",{"type":31,"tag":1290,"props":1291,"children":1292},"style",{},[1293],{"type":36,"value":1294},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":215,"depth":215,"links":1296},[1297,1298,1302,1303],{"id":65,"depth":215,"text":68},{"id":331,"depth":215,"text":334,"children":1299},[1300,1301],{"id":363,"depth":255,"text":348},{"id":758,"depth":255,"text":761},{"id":1109,"depth":215,"text":1109},{"id":1217,"depth":215,"text":1217},"markdown","content:articles:2024:nuxt2_to_nuxt3_blog_1_ui.md","content","articles/2024/nuxt2_to_nuxt3_blog_1_ui.md","articles/2024/nuxt2_to_nuxt3_blog_1_ui","md","2024-01-23T05:33:23.000Z","2024-01-24T07:26:04.000Z","nuxt2_to_nuxt3_blog_1_ui",[1314,1323,1334],{"title":1315,"description":1316,"img":10,"tags":1317,"readingTime":1318,"createdAt":1310,"updatedAt":1311,"slug":41},"部落格Nuxt 2升級Nuxt 3：前言","從去年年初開始建置的這個部落格網站，邊寫文章的同時陸陸續續補上功能後，大概到上個月才終於像是有個部落格的樣子。但由於 Nuxt2 即將在 2024/06/30 停止官方支援，而作為基底的 Vue2 更是在 2023/12/31 已停止官方支援，所以……想說要做的新功能可能先放著，先把部落格從 Nuxt2 升級到 Nuxt3 比較好。",[12,13,14,15,16],{"text":1319,"minutes":1320,"time":1321,"words":1322},"5 min read",4.28,256800,856,{"title":1324,"description":1325,"img":10,"tags":1326,"readingTime":1329,"createdAt":1311,"updatedAt":1311,"slug":1333},"部落格Nuxt 2升級Nuxt 3（六）：Vuex → Pinia","Nuxt 3 的狀態管理套件從 Nuxt 2 的 Vuex 改成了 Pinia，兩者差異不算大，部落格用到的功能也不多。其中比較要注意的就是 Nuxt 3 不再提供nuxtServerInit方法，若需要在 server 端初始化一些資料的話，就要透過其他作法來完成。",[12,13,14,15,16,1327,1328],"vuex","pinia",{"text":1319,"minutes":1330,"time":1331,"words":1332},4.19,251400,838,"nuxt2_to_nuxt3_blog_6_modules_pinia",{"title":1335,"description":1336,"img":10,"tags":1337,"readingTime":1339,"createdAt":1311,"updatedAt":1311,"slug":1344},"部落格Nuxt 2升級Nuxt 3（五）：Sitemap模組升級","原本使用的 Sitemap 模組 @nuxtjs/sitemap 有支援 Nuxt 3 的版本，所以升級起來不如前面幾篇困難，主要就是修改一下設定值而已。",[12,13,14,15,16,1338],"sitemap",{"text":1340,"minutes":1341,"time":1342,"words":1343},"2 min read",1.72,103200,344,"nuxt2_to_nuxt3_blog_5_modules_sitemap",1733112047269]