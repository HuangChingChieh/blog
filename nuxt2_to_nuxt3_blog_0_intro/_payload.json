[{"data":1,"prerenderedAt":249},["ShallowReactive",2],{"nuxt2_to_nuxt3_blog_0_intro":3,"Related_nuxt2_to_nuxt3_blog_0_intro":212},{"title":4,"description":5,"img":6,"readingTime":7,"createdAt":12,"updatedAt":13,"slug":14,"tags":15,"category":21,"body":22},"部落格Nuxt 2升級Nuxt 3：前言","從去年年初開始建置的這個部落格網站，邊寫文章的同時陸陸續續補上功能後，大概到上個月才終於像是有個部落格的樣子。但由於 Nuxt2 即將在 2024/06/30 停止官方支援，而作為基底的 Vue2 更是在 2023/12/31 已停止官方支援，所以……想說要做的新功能可能先放著，先把部落格從 Nuxt2 升級到 Nuxt3 比較好。","924/Ia2nWi.png",{"text":8,"minutes":9,"time":10,"words":11},"5 min read",4.28,256800,856,"2024-01-23T05:33:23.000Z","2024-01-24T07:26:04.000Z","nuxt2_to_nuxt3_blog_0_intro",[16,17,18,19,20],"blog","nuxt","vue","nuxt2","nuxt3","frontend",{"type":23,"children":24,"toc":200},"root",[25,53,58,62,68,73,80,85,117,122,127,132,138,143,149,154,157,162,167,187,192,195],{"type":26,"tag":27,"props":28,"children":29},"element","p",{},[30,33,42,44,51],{"type":31,"value":32},"text","從去年年初開始建置的這個部落格網站，邊寫文章的同時陸陸續續補上功能後，大概到上個月才終於像是有個部落格的樣子。但由於 ",{"type":26,"tag":34,"props":35,"children":39},"a",{"href":36,"rel":37},"https://v2.nuxt.com/lts#expecting-to-stay-on-nuxt-2",[38],"nofollow",[40],{"type":31,"value":41},"Nuxt2 即將在 2024/06/30 停止官方支援",{"type":31,"value":43},"，而作為基底的 ",{"type":26,"tag":34,"props":45,"children":48},{"href":46,"rel":47},"https://v2.vuejs.org/eol/",[38],[49],{"type":31,"value":50},"Vue2 更是在 2023/12/31 已停止官方支援",{"type":31,"value":52},"，所以……想說要做的新功能可能先放著，先把部落格從 Nuxt2 升級到 Nuxt3 比較好。",{"type":26,"tag":27,"props":54,"children":55},{},[56],{"type":31,"value":57},"大概做了一些研究覺得是個浩大工程，所以想說來紀錄一下升級的艱辛（？）過程，希望趕得及在 Nuxt2 結束生命週期之前升級成功。",{"type":26,"tag":59,"props":60,"children":61},"hr",{},[],{"type":26,"tag":63,"props":64,"children":66},"h2",{"id":65},"規劃",[67],{"type":31,"value":65},{"type":26,"tag":27,"props":69,"children":70},{},[71],{"type":31,"value":72},"首先是事前規劃的部份，說是規劃也不算是，就是稍微想一下怎麼做會比較順一點。",{"type":26,"tag":74,"props":75,"children":77},"h3",{"id":76},"ui-框架的解耦處理",[78],{"type":31,"value":79},"UI 框架的解耦處理",{"type":26,"tag":27,"props":81,"children":82},{},[83],{"type":31,"value":84},"首先呢，看一看官方的升級文件後再回來看自己的部落格，覺得升級過程中最麻煩的應該是 UI 框架。",{"type":26,"tag":27,"props":86,"children":87},{},[88,90,97,99,106,108,115],{"type":31,"value":89},"目前使用的 BootstrapVue 並無 Nuxt3 版本，雖然有其他大神嘗試開發的",{"type":26,"tag":34,"props":91,"children":94},{"href":92,"rel":93},"https://github.com/bootstrap-vue-next/bootstrap-vue-next",[38],[95],{"type":31,"value":96},"BoostrapVue Next",{"type":31,"value":98},"，但仍處於早期階段，覺得還無法直接使用於正式環境。若使用其他已支援 Nuxt3 / Vue3 的 UI 框架如",{"type":26,"tag":34,"props":100,"children":103},{"href":101,"rel":102},"https://vuetifyjs.com/en/",[38],[104],{"type":31,"value":105},"Vuetify",{"type":31,"value":107},"、",{"type":26,"tag":34,"props":109,"children":112},{"href":110,"rel":111},"https://ui.vuestic.dev/",[38],[113],{"type":31,"value":114},"Vuestic",{"type":31,"value":116},"，就可能需要連同元件的結構一起大翻修，考慮到元件的使用方式可能不一樣、所制定的 scss 變數也不同，一次要全部汰換還是太花時間。",{"type":26,"tag":27,"props":118,"children":119},{},[120],{"type":31,"value":121},"後來想想，決定先把目前 bootsrapVue 的部份抽換成自己實做的 bootstrap5，藉此解耦 UI 框架與 Vue2 的依賴以降低升級 Nuxt3 的痛苦，並且保留升級後才選擇 UI 框架的機會。",{"type":26,"tag":74,"props":123,"children":125},{"id":124},"架構與模組的升級",[126],{"type":31,"value":124},{"type":26,"tag":27,"props":128,"children":129},{},[130],{"type":31,"value":131},"UI 框架解決之後，下一步就是升級架構，這部份猜想主要的阻力應該會是調整模組以對應 Nuxt3 中的使用方式，但覺得有文件參考的話應該都還好，此階段也會順便把原本的 options api 模式改寫成新的 composition api。",{"type":26,"tag":74,"props":133,"children":135},{"id":134},"改寫為-typescript",[136],{"type":31,"value":137},"改寫為 TypeScript",{"type":26,"tag":27,"props":139,"children":140},{},[141],{"type":31,"value":142},"接著便可以開始把元件改寫為 TypeScript，一方面是單純自己想跟上目前的潮流（？），一方面是之前稍微玩過 TypeScript，覺得 ts 自動完成的完整程度很驚人，對於開發過程助益不小。",{"type":26,"tag":74,"props":144,"children":146},{"id":145},"ui-框架的挑選",[147],{"type":31,"value":148},"UI 框架的挑選？",{"type":26,"tag":27,"props":150,"children":151},{},[152],{"type":31,"value":153},"整個都結束後，最後就可以來挑 UI 框架，私心是希望到時 BoostrapVue Next 已有正式版……這樣過程應該會比較不痛苦些，不過也有考慮嘗試 TailwindCSS 或基於其開發的 UI 框架，不過這應該是很後面而且比較跟升級過程無關的部份了，就到時再看看吧。",{"type":26,"tag":59,"props":155,"children":156},{},[],{"type":26,"tag":63,"props":158,"children":160},{"id":159},"步驟整理",[161],{"type":31,"value":159},{"type":26,"tag":27,"props":163,"children":164},{},[165],{"type":31,"value":166},"那麼來整理一下成條列式，雖然是個人專案沒有 PM 在盯，比較不用在意時程……但還是順便規劃一下。每個階段都是獨立的，結束後測試完都可先上線一版。",{"type":26,"tag":168,"props":169,"children":170},"ol",{},[171,177,182],{"type":26,"tag":172,"props":173,"children":174},"li",{},[175],{"type":31,"value":176},"bootstrapVue 抽換為自己實做的 bootstrap5（預計 1 周）",{"type":26,"tag":172,"props":178,"children":179},{},[180],{"type":31,"value":181},"將專案架構升級為 Nuxt3 並置換模組及使用方式（預計 2~3 周）",{"type":26,"tag":172,"props":183,"children":184},{},[185],{"type":31,"value":186},"將專案的程式部份改寫為 TypeScript 與 composition api（預計 2~3 周）",{"type":26,"tag":27,"props":188,"children":189},{},[190],{"type":31,"value":191},"UI 框架的挑選就先不列入，畢竟還不確定要選哪個，等三個階段結束後再看看。",{"type":26,"tag":59,"props":193,"children":194},{},[],{"type":26,"tag":27,"props":196,"children":197},{},[198],{"type":31,"value":199},"大概就是這樣，希望過程順利了。",{"title":201,"searchDepth":202,"depth":202,"links":203},"",2,[204,211],{"id":65,"depth":202,"text":65,"children":205},[206,208,209,210],{"id":76,"depth":207,"text":79},3,{"id":124,"depth":207,"text":124},{"id":134,"depth":207,"text":137},{"id":145,"depth":207,"text":148},{"id":159,"depth":202,"text":159},[213,227,238],{"title":214,"description":215,"img":6,"tags":216,"readingTime":221,"createdAt":12,"updatedAt":13,"slug":226},"部落格Nuxt 2升級Nuxt 3（一）：bootstrapVue置換成自製的bootrap5元件","如之前規劃，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。",[16,17,18,19,20,217,218,219,220],"bootstrapVue","bootstrap 4","bootstrap 5","bootstrap",{"text":222,"minutes":223,"time":224,"words":225},"4 min read",3.53,211800,706,"nuxt2_to_nuxt3_blog_1_ui",{"title":228,"description":229,"img":6,"tags":230,"readingTime":233,"createdAt":13,"updatedAt":13,"slug":237},"部落格Nuxt 2升級Nuxt 3（六）：Vuex → Pinia","Nuxt 3 的狀態管理套件從 Nuxt 2 的 Vuex 改成了 Pinia，兩者差異不算大，部落格用到的功能也不多。其中比較要注意的就是 Nuxt 3 不再提供nuxtServerInit方法，若需要在 server 端初始化一些資料的話，就要透過其他作法來完成。",[16,17,18,19,20,231,232],"vuex","pinia",{"text":8,"minutes":234,"time":235,"words":236},4.19,251400,838,"nuxt2_to_nuxt3_blog_6_modules_pinia",{"title":239,"description":240,"img":6,"tags":241,"readingTime":243,"createdAt":13,"updatedAt":13,"slug":248},"部落格Nuxt 2升級Nuxt 3（五）：Sitemap模組升級","原本使用的 Sitemap 模組 @nuxtjs/sitemap 有支援 Nuxt 3 的版本，所以升級起來不如前面幾篇困難，主要就是修改一下設定值而已。",[16,17,18,19,20,242],"sitemap",{"text":244,"minutes":245,"time":246,"words":247},"2 min read",1.72,103200,344,"nuxt2_to_nuxt3_blog_5_modules_sitemap",1734160591132]