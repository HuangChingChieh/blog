[{"data":1,"prerenderedAt":276},["ShallowReactive",2],{"nuxt2_to_nuxt3_blog_0_intro":3,"Related_nuxt2_to_nuxt3_blog_0_intro":239},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"img":10,"tags":11,"category":17,"readingTime":18,"excerpt":23,"body":54,"_type":230,"_id":231,"_source":232,"_file":233,"_stem":234,"_extension":235,"createdAt":236,"updatedAt":237,"slug":238},"/articles/2024/nuxt2_to_nuxt3_blog_0_intro","2024",false,"","部落格Nuxt 2升級Nuxt 3：前言","從去年年初開始建置的這個部落格網站，邊寫文章的同時陸陸續續補上功能後，大概到上個月才終於像是有個部落格的樣子。但由於 Nuxt2 即將在 2024/06/30 停止官方支援，而作為基底的 Vue2 更是在 2023/12/31 已停止官方支援，所以……想說要做的新功能可能先放著，先把部落格從 Nuxt2 升級到 Nuxt3 比較好。","924/Ia2nWi.png",[12,13,14,15,16],"blog","nuxt","vue","nuxt2","nuxt3","frontend",{"text":19,"minutes":20,"time":21,"words":22},"5 min read",4.28,256800,856,{"type":24,"children":25},"root",[26],{"type":27,"tag":28,"props":29,"children":30},"element","p",{},[31,34,43,45,52],{"type":32,"value":33},"text","從去年年初開始建置的這個部落格網站，邊寫文章的同時陸陸續續補上功能後，大概到上個月才終於像是有個部落格的樣子。但由於 ",{"type":27,"tag":35,"props":36,"children":40},"a",{"href":37,"rel":38},"https://v2.nuxt.com/lts#expecting-to-stay-on-nuxt-2",[39],"nofollow",[41],{"type":32,"value":42},"Nuxt2 即將在 2024/06/30 停止官方支援",{"type":32,"value":44},"，而作為基底的 ",{"type":27,"tag":35,"props":46,"children":49},{"href":47,"rel":48},"https://v2.vuejs.org/eol/",[39],[50],{"type":32,"value":51},"Vue2 更是在 2023/12/31 已停止官方支援",{"type":32,"value":53},"，所以……想說要做的新功能可能先放著，先把部落格從 Nuxt2 升級到 Nuxt3 比較好。",{"type":24,"children":55,"toc":219},[56,72,77,81,87,92,99,104,136,141,146,151,157,162,168,173,176,181,186,206,211,214],{"type":27,"tag":28,"props":57,"children":58},{},[59,60,65,66,71],{"type":32,"value":33},{"type":27,"tag":35,"props":61,"children":63},{"href":37,"rel":62},[39],[64],{"type":32,"value":42},{"type":32,"value":44},{"type":27,"tag":35,"props":67,"children":69},{"href":47,"rel":68},[39],[70],{"type":32,"value":51},{"type":32,"value":53},{"type":27,"tag":28,"props":73,"children":74},{},[75],{"type":32,"value":76},"大概做了一些研究覺得是個浩大工程，所以想說來紀錄一下升級的艱辛（？）過程，希望趕得及在 Nuxt2 結束生命週期之前升級成功。",{"type":27,"tag":78,"props":79,"children":80},"hr",{},[],{"type":27,"tag":82,"props":83,"children":85},"h2",{"id":84},"規劃",[86],{"type":32,"value":84},{"type":27,"tag":28,"props":88,"children":89},{},[90],{"type":32,"value":91},"首先是事前規劃的部份，說是規劃也不算是，就是稍微想一下怎麼做會比較順一點。",{"type":27,"tag":93,"props":94,"children":96},"h3",{"id":95},"ui-框架的解耦處理",[97],{"type":32,"value":98},"UI 框架的解耦處理",{"type":27,"tag":28,"props":100,"children":101},{},[102],{"type":32,"value":103},"首先呢，看一看官方的升級文件後再回來看自己的部落格，覺得升級過程中最麻煩的應該是 UI 框架。",{"type":27,"tag":28,"props":105,"children":106},{},[107,109,116,118,125,127,134],{"type":32,"value":108},"目前使用的 BootstrapVue 並無 Nuxt3 版本，雖然有其他大神嘗試開發的",{"type":27,"tag":35,"props":110,"children":113},{"href":111,"rel":112},"https://github.com/bootstrap-vue-next/bootstrap-vue-next",[39],[114],{"type":32,"value":115},"BoostrapVue Next",{"type":32,"value":117},"，但仍處於早期階段，覺得還無法直接使用於正式環境。若使用其他已支援 Nuxt3 / Vue3 的 UI 框架如",{"type":27,"tag":35,"props":119,"children":122},{"href":120,"rel":121},"https://vuetifyjs.com/en/",[39],[123],{"type":32,"value":124},"Vuetify",{"type":32,"value":126},"、",{"type":27,"tag":35,"props":128,"children":131},{"href":129,"rel":130},"https://ui.vuestic.dev/",[39],[132],{"type":32,"value":133},"Vuestic",{"type":32,"value":135},"，就可能需要連同元件的結構一起大翻修，考慮到元件的使用方式可能不一樣、所制定的 scss 變數也不同，一次要全部汰換還是太花時間。",{"type":27,"tag":28,"props":137,"children":138},{},[139],{"type":32,"value":140},"後來想想，決定先把目前 bootsrapVue 的部份抽換成自己實做的 bootstrap5，藉此解耦 UI 框架與 Vue2 的依賴以降低升級 Nuxt3 的痛苦，並且保留升級後才選擇 UI 框架的機會。",{"type":27,"tag":93,"props":142,"children":144},{"id":143},"架構與模組的升級",[145],{"type":32,"value":143},{"type":27,"tag":28,"props":147,"children":148},{},[149],{"type":32,"value":150},"UI 框架解決之後，下一步就是升級架構，這部份猜想主要的阻力應該會是調整模組以對應 Nuxt3 中的使用方式，但覺得有文件參考的話應該都還好，此階段也會順便把原本的 options api 模式改寫成新的 composition api。",{"type":27,"tag":93,"props":152,"children":154},{"id":153},"改寫為-typescript",[155],{"type":32,"value":156},"改寫為 TypeScript",{"type":27,"tag":28,"props":158,"children":159},{},[160],{"type":32,"value":161},"接著便可以開始把元件改寫為 TypeScript，一方面是單純自己想跟上目前的潮流（？），一方面是之前稍微玩過 TypeScript，覺得 ts 自動完成的完整程度很驚人，對於開發過程助益不小。",{"type":27,"tag":93,"props":163,"children":165},{"id":164},"ui-框架的挑選",[166],{"type":32,"value":167},"UI 框架的挑選？",{"type":27,"tag":28,"props":169,"children":170},{},[171],{"type":32,"value":172},"整個都結束後，最後就可以來挑 UI 框架，私心是希望到時 BoostrapVue Next 已有正式版……這樣過程應該會比較不痛苦些，不過也有考慮嘗試 TailwindCSS 或基於其開發的 UI 框架，不過這應該是很後面而且比較跟升級過程無關的部份了，就到時再看看吧。",{"type":27,"tag":78,"props":174,"children":175},{},[],{"type":27,"tag":82,"props":177,"children":179},{"id":178},"步驟整理",[180],{"type":32,"value":178},{"type":27,"tag":28,"props":182,"children":183},{},[184],{"type":32,"value":185},"那麼來整理一下成條列式，雖然是個人專案沒有 PM 在盯，比較不用在意時程……但還是順便規劃一下。每個階段都是獨立的，結束後測試完都可先上線一版。",{"type":27,"tag":187,"props":188,"children":189},"ol",{},[190,196,201],{"type":27,"tag":191,"props":192,"children":193},"li",{},[194],{"type":32,"value":195},"bootstrapVue 抽換為自己實做的 bootstrap5（預計 1 周）",{"type":27,"tag":191,"props":197,"children":198},{},[199],{"type":32,"value":200},"將專案架構升級為 Nuxt3 並置換模組及使用方式（預計 2~3 周）",{"type":27,"tag":191,"props":202,"children":203},{},[204],{"type":32,"value":205},"將專案的程式部份改寫為 TypeScript 與 composition api（預計 2~3 周）",{"type":27,"tag":28,"props":207,"children":208},{},[209],{"type":32,"value":210},"UI 框架的挑選就先不列入，畢竟還不確定要選哪個，等三個階段結束後再看看。",{"type":27,"tag":78,"props":212,"children":213},{},[],{"type":27,"tag":28,"props":215,"children":216},{},[217],{"type":32,"value":218},"大概就是這樣，希望過程順利了。",{"title":7,"searchDepth":220,"depth":220,"links":221},2,[222,229],{"id":84,"depth":220,"text":84,"children":223},[224,226,227,228],{"id":95,"depth":225,"text":98},3,{"id":143,"depth":225,"text":143},{"id":153,"depth":225,"text":156},{"id":164,"depth":225,"text":167},{"id":178,"depth":220,"text":178},"markdown","content:articles:2024:nuxt2_to_nuxt3_blog_0_intro.md","content","articles/2024/nuxt2_to_nuxt3_blog_0_intro.md","articles/2024/nuxt2_to_nuxt3_blog_0_intro","md","2024-01-23T05:33:23.000Z","2024-01-24T07:26:04.000Z","nuxt2_to_nuxt3_blog_0_intro",[240,254,265],{"title":241,"description":242,"img":10,"tags":243,"readingTime":248,"createdAt":236,"updatedAt":237,"slug":253},"部落格Nuxt 2升級Nuxt 3（一）：bootstrapVue置換成自製的bootrap5元件","如之前規劃，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。",[12,13,14,15,16,244,245,246,247],"bootstrapVue","bootstrap 4","bootstrap 5","bootstrap",{"text":249,"minutes":250,"time":251,"words":252},"4 min read",3.53,211800,706,"nuxt2_to_nuxt3_blog_1_ui",{"title":255,"description":256,"img":10,"tags":257,"readingTime":260,"createdAt":237,"updatedAt":237,"slug":264},"部落格Nuxt 2升級Nuxt 3（六）：Vuex → Pinia","Nuxt 3 的狀態管理套件從 Nuxt 2 的 Vuex 改成了 Pinia，兩者差異不算大，部落格用到的功能也不多。其中比較要注意的就是 Nuxt 3 不再提供nuxtServerInit方法，若需要在 server 端初始化一些資料的話，就要透過其他作法來完成。",[12,13,14,15,16,258,259],"vuex","pinia",{"text":19,"minutes":261,"time":262,"words":263},4.19,251400,838,"nuxt2_to_nuxt3_blog_6_modules_pinia",{"title":266,"description":267,"img":10,"tags":268,"readingTime":270,"createdAt":237,"updatedAt":237,"slug":275},"部落格Nuxt 2升級Nuxt 3（五）：Sitemap模組升級","原本使用的 Sitemap 模組 @nuxtjs/sitemap 有支援 Nuxt 3 的版本，所以升級起來不如前面幾篇困難，主要就是修改一下設定值而已。",[12,13,14,15,16,269],"sitemap",{"text":271,"minutes":272,"time":273,"words":274},"2 min read",1.72,103200,344,"nuxt2_to_nuxt3_blog_5_modules_sitemap",1733405690901]