[{"data":1,"prerenderedAt":1536},["ShallowReactive",2],{"nuxt3_starter":3,"Related_nuxt3_starter":1491},{"title":4,"description":5,"img":6,"readingTime":7,"createdAt":12,"updatedAt":12,"slug":13,"tags":14,"category":26,"body":27},"Nuxt 3 專案初始設定整理","本系列是紀錄自己平常建立新的 Nuxt 3 專案時會引入的一些設定，覺得之前 Nuxt 2 在建立時有很多選項可以選，選好之後都自動設定好真的是很棒……。","923/DpFVSo.jpg",{"text":8,"minutes":9,"time":10,"words":11},"8 min read",7.46,447600,1492,"2024-12-14T07:15:25.000Z","nuxt3_starter",[15,16,17,18,19,20,21,22,23,24,25],"nuxt","nuxt3","vue","tailwindcss","scss","pinia","eslint","commitlint","lint-staged","husky","prettier","frontend",{"type":28,"children":29,"toc":1469},"root",[30,37,41,48,53,110,113,119,124,131,136,216,221,252,257,284,304,452,458,492,504,554,559,583,586,591,596,628,656,659,665,681,685,697,715,720,749,754,787,792,796,801,830,835,885,888,893,898,921,926,959,964,977,993,1011,1016,1065,1070,1143,1146,1152,1157,1171,1176,1209,1232,1253,1258,1279,1320,1326,1346,1401,1441,1444,1449,1463],{"type":31,"tag":32,"props":33,"children":34},"element","p",{},[35],{"type":36,"value":5},"text",{"type":31,"tag":38,"props":39,"children":40},"hr",{},[],{"type":31,"tag":42,"props":43,"children":45},"h2",{"id":44},"建立-nuxt-3-專案",[46],{"type":36,"value":47},"建立 Nuxt 3 專案",{"type":31,"tag":32,"props":49,"children":50},{},[51],{"type":36,"value":52},"首先就是建立一個新的 Nuxt 3 專案。",{"type":31,"tag":54,"props":55,"children":60},"pre",{"className":56,"code":57,"language":58,"meta":59,"style":59},"language-bash shiki shiki-themes github-dark","npx nuxi@latest init \u003Cproject-name>\n","bash","",[61],{"type":31,"tag":62,"props":63,"children":64},"code",{"__ignoreMap":59},[65],{"type":31,"tag":66,"props":67,"children":70},"span",{"class":68,"line":69},"line",1,[71,77,83,88,94,99,105],{"type":31,"tag":66,"props":72,"children":74},{"style":73},"--shiki-default:#B392F0",[75],{"type":36,"value":76},"npx",{"type":31,"tag":66,"props":78,"children":80},{"style":79},"--shiki-default:#9ECBFF",[81],{"type":36,"value":82}," nuxi@latest",{"type":31,"tag":66,"props":84,"children":85},{"style":79},[86],{"type":36,"value":87}," init",{"type":31,"tag":66,"props":89,"children":91},{"style":90},"--shiki-default:#F97583",[92],{"type":36,"value":93}," \u003C",{"type":31,"tag":66,"props":95,"children":96},{"style":79},[97],{"type":36,"value":98},"project-nam",{"type":31,"tag":66,"props":100,"children":102},{"style":101},"--shiki-default:#E1E4E8",[103],{"type":36,"value":104},"e",{"type":31,"tag":66,"props":106,"children":107},{"style":90},[108],{"type":36,"value":109},">\n",{"type":31,"tag":38,"props":111,"children":112},{},[],{"type":31,"tag":42,"props":114,"children":116},{"id":115},"css-管理",[117],{"type":36,"value":118},"CSS 管理",{"type":31,"tag":32,"props":120,"children":121},{},[122],{"type":36,"value":123},"自己在 CSS 相關處理上，比較常用的是 scss 以及 Tailwind CSS，這邊分別紀錄。",{"type":31,"tag":125,"props":126,"children":128},"h3",{"id":127},"設定-css-獨立編譯",[129],{"type":36,"value":130},"設定 css 獨立編譯",{"type":31,"tag":32,"props":132,"children":133},{},[134],{"type":36,"value":135},"Nuxt 3 預設會將頁面內元件的 css 整個編譯在 HTML 裡面，但這樣會失去重複利用樣式表的優勢，所以自己習慣都是關掉這功能：",{"type":31,"tag":54,"props":137,"children":142},{"className":138,"code":139,"filename":140,"language":141,"meta":59,"style":59},"language-ts shiki shiki-themes github-dark","export default defineNuxtConfig({\n  features: {\n    inlineStyles: false,\n  },\n})\n","nuxt.config.ts","ts",[143],{"type":31,"tag":62,"props":144,"children":145},{"__ignoreMap":59},[146,169,178,198,207],{"type":31,"tag":66,"props":147,"children":148},{"class":68,"line":69},[149,154,159,164],{"type":31,"tag":66,"props":150,"children":151},{"style":90},[152],{"type":36,"value":153},"export",{"type":31,"tag":66,"props":155,"children":156},{"style":90},[157],{"type":36,"value":158}," default",{"type":31,"tag":66,"props":160,"children":161},{"style":73},[162],{"type":36,"value":163}," defineNuxtConfig",{"type":31,"tag":66,"props":165,"children":166},{"style":101},[167],{"type":36,"value":168},"({\n",{"type":31,"tag":66,"props":170,"children":172},{"class":68,"line":171},2,[173],{"type":31,"tag":66,"props":174,"children":175},{"style":101},[176],{"type":36,"value":177},"  features: {\n",{"type":31,"tag":66,"props":179,"children":181},{"class":68,"line":180},3,[182,187,193],{"type":31,"tag":66,"props":183,"children":184},{"style":101},[185],{"type":36,"value":186},"    inlineStyles: ",{"type":31,"tag":66,"props":188,"children":190},{"style":189},"--shiki-default:#79B8FF",[191],{"type":36,"value":192},"false",{"type":31,"tag":66,"props":194,"children":195},{"style":101},[196],{"type":36,"value":197},",\n",{"type":31,"tag":66,"props":199,"children":201},{"class":68,"line":200},4,[202],{"type":31,"tag":66,"props":203,"children":204},{"style":101},[205],{"type":36,"value":206},"  },\n",{"type":31,"tag":66,"props":208,"children":210},{"class":68,"line":209},5,[211],{"type":31,"tag":66,"props":212,"children":213},{"style":101},[214],{"type":36,"value":215},"})\n",{"type":31,"tag":125,"props":217,"children":218},{"id":19},[219],{"type":36,"value":220},"SCSS",{"type":31,"tag":54,"props":222,"children":225},{"className":56,"code":223,"filename":224,"language":58,"meta":59,"style":59},"npm install -D sass\n","首先安裝SCSS支援",[226],{"type":31,"tag":62,"props":227,"children":228},{"__ignoreMap":59},[229],{"type":31,"tag":66,"props":230,"children":231},{"class":68,"line":69},[232,237,242,247],{"type":31,"tag":66,"props":233,"children":234},{"style":73},[235],{"type":36,"value":236},"npm",{"type":31,"tag":66,"props":238,"children":239},{"style":79},[240],{"type":36,"value":241}," install",{"type":31,"tag":66,"props":243,"children":244},{"style":189},[245],{"type":36,"value":246}," -D",{"type":31,"tag":66,"props":248,"children":249},{"style":79},[250],{"type":36,"value":251}," sass\n",{"type":31,"tag":32,"props":253,"children":254},{},[255],{"type":36,"value":256},"這邊我習慣會建立兩個檔案：",{"type":31,"tag":258,"props":259,"children":260},"ul",{},[261,273],{"type":31,"tag":262,"props":263,"children":264},"li",{},[265,271],{"type":31,"tag":62,"props":266,"children":268},{"className":267},[],[269],{"type":36,"value":270},"~/assets/scss/main.scss",{"type":36,"value":272},"：放置總樣式表，也是編譯的進入點，若需要引用 UI 框架的 scss 會寫在這。",{"type":31,"tag":262,"props":274,"children":275},{},[276,282],{"type":31,"tag":62,"props":277,"children":279},{"className":278},[],[280],{"type":36,"value":281},"~/assets/scss/custom.scss",{"type":36,"value":283},"：放置變數或是修改 UI 框架預設變數的檔案",{"type":31,"tag":32,"props":285,"children":286},{},[287,289,295,297,302],{"type":36,"value":288},"官方有兩種方式可以引入",{"type":31,"tag":62,"props":290,"children":292},{"className":291},[],[293],{"type":36,"value":294},"main.scss",{"type":36,"value":296},"檔案，自己習慣是寫在",{"type":31,"tag":62,"props":298,"children":300},{"className":299},[],[301],{"type":36,"value":140},{"type":36,"value":303},"中：",{"type":31,"tag":54,"props":305,"children":307},{"className":138,"code":306,"filename":140,"language":141,"meta":59,"style":59},"export default defineNuxtConfig({\n  css: ['~/assets/scss/main.scss'],\n  vite: {\n    css: {\n      preprocessorOptions: {\n        // 將放置變數的scss檔案全域注入到component中\n        scss: {\n          additionalData: '@use \"~/assets/scss/custom.scss\" as *;',\n        },\n      },\n    },\n  },\n})\n",[308],{"type":31,"tag":62,"props":309,"children":310},{"__ignoreMap":59},[311,330,348,356,364,372,382,391,409,418,427,436,444],{"type":31,"tag":66,"props":312,"children":313},{"class":68,"line":69},[314,318,322,326],{"type":31,"tag":66,"props":315,"children":316},{"style":90},[317],{"type":36,"value":153},{"type":31,"tag":66,"props":319,"children":320},{"style":90},[321],{"type":36,"value":158},{"type":31,"tag":66,"props":323,"children":324},{"style":73},[325],{"type":36,"value":163},{"type":31,"tag":66,"props":327,"children":328},{"style":101},[329],{"type":36,"value":168},{"type":31,"tag":66,"props":331,"children":332},{"class":68,"line":171},[333,338,343],{"type":31,"tag":66,"props":334,"children":335},{"style":101},[336],{"type":36,"value":337},"  css: [",{"type":31,"tag":66,"props":339,"children":340},{"style":79},[341],{"type":36,"value":342},"'~/assets/scss/main.scss'",{"type":31,"tag":66,"props":344,"children":345},{"style":101},[346],{"type":36,"value":347},"],\n",{"type":31,"tag":66,"props":349,"children":350},{"class":68,"line":180},[351],{"type":31,"tag":66,"props":352,"children":353},{"style":101},[354],{"type":36,"value":355},"  vite: {\n",{"type":31,"tag":66,"props":357,"children":358},{"class":68,"line":200},[359],{"type":31,"tag":66,"props":360,"children":361},{"style":101},[362],{"type":36,"value":363},"    css: {\n",{"type":31,"tag":66,"props":365,"children":366},{"class":68,"line":209},[367],{"type":31,"tag":66,"props":368,"children":369},{"style":101},[370],{"type":36,"value":371},"      preprocessorOptions: {\n",{"type":31,"tag":66,"props":373,"children":375},{"class":68,"line":374},6,[376],{"type":31,"tag":66,"props":377,"children":379},{"style":378},"--shiki-default:#6A737D",[380],{"type":36,"value":381},"        // 將放置變數的scss檔案全域注入到component中\n",{"type":31,"tag":66,"props":383,"children":385},{"class":68,"line":384},7,[386],{"type":31,"tag":66,"props":387,"children":388},{"style":101},[389],{"type":36,"value":390},"        scss: {\n",{"type":31,"tag":66,"props":392,"children":394},{"class":68,"line":393},8,[395,400,405],{"type":31,"tag":66,"props":396,"children":397},{"style":101},[398],{"type":36,"value":399},"          additionalData: ",{"type":31,"tag":66,"props":401,"children":402},{"style":79},[403],{"type":36,"value":404},"'@use \"~/assets/scss/custom.scss\" as *;'",{"type":31,"tag":66,"props":406,"children":407},{"style":101},[408],{"type":36,"value":197},{"type":31,"tag":66,"props":410,"children":412},{"class":68,"line":411},9,[413],{"type":31,"tag":66,"props":414,"children":415},{"style":101},[416],{"type":36,"value":417},"        },\n",{"type":31,"tag":66,"props":419,"children":421},{"class":68,"line":420},10,[422],{"type":31,"tag":66,"props":423,"children":424},{"style":101},[425],{"type":36,"value":426},"      },\n",{"type":31,"tag":66,"props":428,"children":430},{"class":68,"line":429},11,[431],{"type":31,"tag":66,"props":432,"children":433},{"style":101},[434],{"type":36,"value":435},"    },\n",{"type":31,"tag":66,"props":437,"children":439},{"class":68,"line":438},12,[440],{"type":31,"tag":66,"props":441,"children":442},{"style":101},[443],{"type":36,"value":206},{"type":31,"tag":66,"props":445,"children":447},{"class":68,"line":446},13,[448],{"type":31,"tag":66,"props":449,"children":450},{"style":101},[451],{"type":36,"value":215},{"type":31,"tag":125,"props":453,"children":455},{"id":454},"tailwind-css",[456],{"type":36,"value":457},"Tailwind CSS",{"type":31,"tag":54,"props":459,"children":462},{"className":56,"code":460,"filename":461,"language":58,"meta":59,"style":59},"npx nuxi@latest module add tailwindcss\n","Tailwind CSS 可以直接使用 Nuxt 模組來引入",[463],{"type":31,"tag":62,"props":464,"children":465},{"__ignoreMap":59},[466],{"type":31,"tag":66,"props":467,"children":468},{"class":68,"line":69},[469,473,477,482,487],{"type":31,"tag":66,"props":470,"children":471},{"style":73},[472],{"type":36,"value":76},{"type":31,"tag":66,"props":474,"children":475},{"style":79},[476],{"type":36,"value":82},{"type":31,"tag":66,"props":478,"children":479},{"style":79},[480],{"type":36,"value":481}," module",{"type":31,"tag":66,"props":483,"children":484},{"style":79},[485],{"type":36,"value":486}," add",{"type":31,"tag":66,"props":488,"children":489},{"style":79},[490],{"type":36,"value":491}," tailwindcss\n",{"type":31,"tag":32,"props":493,"children":494},{},[495,497,502],{"type":36,"value":496},"上面指令執行完，就會自動在",{"type":31,"tag":62,"props":498,"children":500},{"className":499},[],[501],{"type":36,"value":140},{"type":36,"value":503},"中引入模組：",{"type":31,"tag":54,"props":505,"children":507},{"className":138,"code":506,"filename":140,"language":141,"meta":59,"style":59},"export default defineNuxtConfig({\n  modules: ['@nuxtjs/tailwindcss'],\n})\n",[508],{"type":31,"tag":62,"props":509,"children":510},{"__ignoreMap":59},[511,530,547],{"type":31,"tag":66,"props":512,"children":513},{"class":68,"line":69},[514,518,522,526],{"type":31,"tag":66,"props":515,"children":516},{"style":90},[517],{"type":36,"value":153},{"type":31,"tag":66,"props":519,"children":520},{"style":90},[521],{"type":36,"value":158},{"type":31,"tag":66,"props":523,"children":524},{"style":73},[525],{"type":36,"value":163},{"type":31,"tag":66,"props":527,"children":528},{"style":101},[529],{"type":36,"value":168},{"type":31,"tag":66,"props":531,"children":532},{"class":68,"line":171},[533,538,543],{"type":31,"tag":66,"props":534,"children":535},{"style":101},[536],{"type":36,"value":537},"  modules: [",{"type":31,"tag":66,"props":539,"children":540},{"style":79},[541],{"type":36,"value":542},"'@nuxtjs/tailwindcss'",{"type":31,"tag":66,"props":544,"children":545},{"style":101},[546],{"type":36,"value":347},{"type":31,"tag":66,"props":548,"children":549},{"class":68,"line":180},[550],{"type":31,"tag":66,"props":551,"children":552},{"style":101},[553],{"type":36,"value":215},{"type":31,"tag":32,"props":555,"children":556},{},[557],{"type":36,"value":558},"之後利用官方指令建立預設的 config 檔案：",{"type":31,"tag":54,"props":560,"children":562},{"className":56,"code":561,"language":58,"meta":59,"style":59},"npx tailwindcss init\n",[563],{"type":31,"tag":62,"props":564,"children":565},{"__ignoreMap":59},[566],{"type":31,"tag":66,"props":567,"children":568},{"class":68,"line":69},[569,573,578],{"type":31,"tag":66,"props":570,"children":571},{"style":73},[572],{"type":36,"value":76},{"type":31,"tag":66,"props":574,"children":575},{"style":79},[576],{"type":36,"value":577}," tailwindcss",{"type":31,"tag":66,"props":579,"children":580},{"style":79},[581],{"type":36,"value":582}," init\n",{"type":31,"tag":38,"props":584,"children":585},{},[],{"type":31,"tag":42,"props":587,"children":588},{"id":20},[589],{"type":36,"value":590},"Pinia",{"type":31,"tag":32,"props":592,"children":593},{},[594],{"type":36,"value":595},"Pinia 是 Nuxt 3 之後官方建議使用的狀態管理模組，自己上了 Nuxt 3 之後也都是用 Pinia。",{"type":31,"tag":54,"props":597,"children":600},{"className":56,"code":598,"filename":599,"language":58,"meta":59,"style":59},"npx nuxi@latest module add pinia\n","直接使用 Nuxt 模組來引入",[601],{"type":31,"tag":62,"props":602,"children":603},{"__ignoreMap":59},[604],{"type":31,"tag":66,"props":605,"children":606},{"class":68,"line":69},[607,611,615,619,623],{"type":31,"tag":66,"props":608,"children":609},{"style":73},[610],{"type":36,"value":76},{"type":31,"tag":66,"props":612,"children":613},{"style":79},[614],{"type":36,"value":82},{"type":31,"tag":66,"props":616,"children":617},{"style":79},[618],{"type":36,"value":481},{"type":31,"tag":66,"props":620,"children":621},{"style":79},[622],{"type":36,"value":486},{"type":31,"tag":66,"props":624,"children":625},{"style":79},[626],{"type":36,"value":627}," pinia\n",{"type":31,"tag":32,"props":629,"children":630},{},[631,633,639,641,647,649,654],{"type":36,"value":632},"之後只要在資料夾",{"type":31,"tag":62,"props":634,"children":636},{"className":635},[],[637],{"type":36,"value":638},"stores",{"type":36,"value":640},"下的",{"type":31,"tag":62,"props":642,"children":644},{"className":643},[],[645],{"type":36,"value":646},"js",{"type":36,"value":648},"或",{"type":31,"tag":62,"props":650,"children":652},{"className":651},[],[653],{"type":36,"value":141},{"type":36,"value":655},"檔案，都會被預設自動 import。",{"type":31,"tag":38,"props":657,"children":658},{},[],{"type":31,"tag":42,"props":660,"children":662},{"id":661},"linters",[663],{"type":36,"value":664},"Linters",{"type":31,"tag":32,"props":666,"children":667},{},[668,670,679],{"type":36,"value":669},"所謂的 ",{"type":31,"tag":671,"props":672,"children":676},"a",{"href":673,"rel":674},"https://zh.wikipedia.org/zh-tw/Lint",[675],"nofollow",[677],{"type":36,"value":678},"linter",{"type":36,"value":680},"，就是能在既定的規則下檢查程式碼中違反規則的段落（通常是有錯誤或是可能造成效能問題的部份）。在開發過程中，自己常用的 linter 有兩個：eslint 與 commitlint。",{"type":31,"tag":125,"props":682,"children":683},{"id":21},[684],{"type":36,"value":21},{"type":31,"tag":32,"props":686,"children":687},{},[688,690,695],{"type":36,"value":689},"eslint 是一種 js / ts 的 ",{"type":31,"tag":671,"props":691,"children":693},{"href":673,"rel":692},[675],[694],{"type":36,"value":678},{"type":36,"value":696}," 工具，他能檢查程式碼中一些有錯誤或是可能造成效能問題的段落，例如：",{"type":31,"tag":258,"props":698,"children":699},{},[700,705,710],{"type":31,"tag":262,"props":701,"children":702},{},[703],{"type":36,"value":704},"不小心重新賦值 const 變數",{"type":31,"tag":262,"props":706,"children":707},{},[708],{"type":36,"value":709},"在作用域中不更改的變數卻使用了 let 宣告",{"type":31,"tag":262,"props":711,"children":712},{},[713],{"type":36,"value":714},"宣告了變數卻完全沒用到",{"type":31,"tag":32,"props":716,"children":717},{},[718],{"type":36,"value":719},"而 Vue 也針對 eslint 貢獻了自己的 lint 規則，讓 eslint 不僅限於用在 js / ts 上，例如：",{"type":31,"tag":258,"props":721,"children":722},{},[723,728],{"type":31,"tag":262,"props":724,"children":725},{},[726],{"type":36,"value":727},"在元件上重複使用了相同的屬性",{"type":31,"tag":262,"props":729,"children":730},{},[731,733,739,741,747],{"type":36,"value":732},"沒有內容的 CustomComponent 沒有自我關閉（例如：",{"type":31,"tag":62,"props":734,"children":736},{"className":735},[],[737],{"type":36,"value":738},"\u003CCustomComponent>\u003C/CustomComponent>",{"type":36,"value":740},"應該寫成",{"type":31,"tag":62,"props":742,"children":744},{"className":743},[],[745],{"type":36,"value":746},"\u003CCustomComponent />",{"type":36,"value":748},"）",{"type":31,"tag":32,"props":750,"children":751},{},[752],{"type":36,"value":753},"諸如此類。搭配編輯器的套件，更可以在寫程式的時候就先標示出來修改，以免 commit 之後才發現。",{"type":31,"tag":54,"props":755,"children":758},{"className":56,"code":756,"filename":757,"language":58,"meta":59,"style":59},"npx nuxi module add eslint\n","透過Nuxt模組安裝eslint",[759],{"type":31,"tag":62,"props":760,"children":761},{"__ignoreMap":59},[762],{"type":31,"tag":66,"props":763,"children":764},{"class":68,"line":69},[765,769,774,778,782],{"type":31,"tag":66,"props":766,"children":767},{"style":73},[768],{"type":36,"value":76},{"type":31,"tag":66,"props":770,"children":771},{"style":79},[772],{"type":36,"value":773}," nuxi",{"type":31,"tag":66,"props":775,"children":776},{"style":79},[777],{"type":36,"value":481},{"type":31,"tag":66,"props":779,"children":780},{"style":79},[781],{"type":36,"value":486},{"type":31,"tag":66,"props":783,"children":784},{"style":79},[785],{"type":36,"value":786}," eslint\n",{"type":31,"tag":32,"props":788,"children":789},{},[790],{"type":36,"value":791},"這個模組除了協助安裝 eslint 以外，也會自動設定跟 Nuxt 專案相關的各種 eslint 設定，開箱即用也幾乎不需要修改，非常方便。",{"type":31,"tag":125,"props":793,"children":794},{"id":22},[795],{"type":36,"value":22},{"type":31,"tag":32,"props":797,"children":798},{},[799],{"type":36,"value":800},"commitlint 則是規定 git commit 訊息要如何寫的套件，他可以在一定程度上管理專案的 commit 訊息，以免大家各寫各的格式導致很混亂。",{"type":31,"tag":54,"props":802,"children":805},{"className":56,"code":803,"filename":804,"language":58,"meta":59,"style":59},"npm install --save-dev @commitlint/{cli,config-conventional}\n","安裝commitlint",[806],{"type":31,"tag":62,"props":807,"children":808},{"__ignoreMap":59},[809],{"type":31,"tag":66,"props":810,"children":811},{"class":68,"line":69},[812,816,820,825],{"type":31,"tag":66,"props":813,"children":814},{"style":73},[815],{"type":36,"value":236},{"type":31,"tag":66,"props":817,"children":818},{"style":79},[819],{"type":36,"value":241},{"type":31,"tag":66,"props":821,"children":822},{"style":189},[823],{"type":36,"value":824}," --save-dev",{"type":31,"tag":66,"props":826,"children":827},{"style":79},[828],{"type":36,"value":829}," @commitlint/{cli,config-conventional}\n",{"type":31,"tag":32,"props":831,"children":832},{},[833],{"type":36,"value":834},"之後建立 commitlint 的設定檔於專案根目錄下：",{"type":31,"tag":54,"props":836,"children":840},{"className":837,"code":838,"filename":839,"language":646,"meta":59,"style":59},"language-js shiki shiki-themes github-dark","export default {\n  extends: ['@commitlint/config-conventional'],\n}\n","commitlint.config.js",[841],{"type":31,"tag":62,"props":842,"children":843},{"__ignoreMap":59},[844,860,877],{"type":31,"tag":66,"props":845,"children":846},{"class":68,"line":69},[847,851,855],{"type":31,"tag":66,"props":848,"children":849},{"style":90},[850],{"type":36,"value":153},{"type":31,"tag":66,"props":852,"children":853},{"style":90},[854],{"type":36,"value":158},{"type":31,"tag":66,"props":856,"children":857},{"style":101},[858],{"type":36,"value":859}," {\n",{"type":31,"tag":66,"props":861,"children":862},{"class":68,"line":171},[863,868,873],{"type":31,"tag":66,"props":864,"children":865},{"style":101},[866],{"type":36,"value":867},"  extends: [",{"type":31,"tag":66,"props":869,"children":870},{"style":79},[871],{"type":36,"value":872},"'@commitlint/config-conventional'",{"type":31,"tag":66,"props":874,"children":875},{"style":101},[876],{"type":36,"value":347},{"type":31,"tag":66,"props":878,"children":879},{"class":68,"line":180},[880],{"type":31,"tag":66,"props":881,"children":882},{"style":101},[883],{"type":36,"value":884},"}\n",{"type":31,"tag":38,"props":886,"children":887},{},[],{"type":31,"tag":42,"props":889,"children":890},{"id":25},[891],{"type":36,"value":892},"Prettier",{"type":31,"tag":32,"props":894,"children":895},{},[896],{"type":36,"value":897},"相較於 linter，Prettier 則是一種格式化工具，只關心程式碼「格式」的部份，例如：",{"type":31,"tag":258,"props":899,"children":900},{},[901,906,911,916],{"type":31,"tag":262,"props":902,"children":903},{},[904],{"type":36,"value":905},"字串要雙引號或單引號",{"type":31,"tag":262,"props":907,"children":908},{},[909],{"type":36,"value":910},"程式碼後面要不要加分號",{"type":31,"tag":262,"props":912,"children":913},{},[914],{"type":36,"value":915},"匿名方法單個參數要不要加括號",{"type":31,"tag":262,"props":917,"children":918},{},[919],{"type":36,"value":920},"縮排要幾個空格寬",{"type":31,"tag":32,"props":922,"children":923},{},[924],{"type":36,"value":925},"專案若能自帶格式化設定規則，對於開發者彼此之間統一也會很有幫助。",{"type":31,"tag":54,"props":927,"children":930},{"className":56,"code":928,"filename":929,"language":58,"meta":59,"style":59},"npm install --save-dev --save-exact prettier\n","首先安裝Prettier",[931],{"type":31,"tag":62,"props":932,"children":933},{"__ignoreMap":59},[934],{"type":31,"tag":66,"props":935,"children":936},{"class":68,"line":69},[937,941,945,949,954],{"type":31,"tag":66,"props":938,"children":939},{"style":73},[940],{"type":36,"value":236},{"type":31,"tag":66,"props":942,"children":943},{"style":79},[944],{"type":36,"value":241},{"type":31,"tag":66,"props":946,"children":947},{"style":189},[948],{"type":36,"value":824},{"type":31,"tag":66,"props":950,"children":951},{"style":189},[952],{"type":36,"value":953}," --save-exact",{"type":31,"tag":66,"props":955,"children":956},{"style":79},[957],{"type":36,"value":958}," prettier\n",{"type":31,"tag":125,"props":960,"children":962},{"id":961},"設定檔",[963],{"type":36,"value":961},{"type":31,"tag":32,"props":965,"children":966},{},[967,969,975],{"type":36,"value":968},"建立空白設定檔",{"type":31,"tag":62,"props":970,"children":972},{"className":971},[],[973],{"type":36,"value":974},".prettierrc",{"type":36,"value":976},"於專案根目錄下：",{"type":31,"tag":54,"props":978,"children":982},{"className":979,"code":980,"filename":974,"language":981,"meta":59,"style":59},"language-json shiki shiki-themes github-dark","{}\n","json",[983],{"type":31,"tag":62,"props":984,"children":985},{"__ignoreMap":59},[986],{"type":31,"tag":66,"props":987,"children":988},{"class":68,"line":69},[989],{"type":31,"tag":66,"props":990,"children":991},{"style":101},[992],{"type":36,"value":980},{"type":31,"tag":32,"props":994,"children":995},{},[996,998,1003,1005],{"type":36,"value":997},"這可以強迫 Prettier 使用",{"type":31,"tag":62,"props":999,"children":1001},{"className":1000},[],[1002],{"type":36,"value":974},{"type":36,"value":1004},"的設定（在這邊就是使用 Prettier 內建的預設值）而非編輯器內的設定值，",{"type":31,"tag":1006,"props":1007,"children":1008},"strong",{},[1009],{"type":36,"value":1010},"就算沒有要修改設定值，也要建立這個檔案以保證專案在不同開發環境中的一致性。",{"type":31,"tag":125,"props":1012,"children":1014},{"id":1013},"忽略檔案",[1015],{"type":36,"value":1013},{"type":31,"tag":32,"props":1017,"children":1018},{},[1019,1021,1027,1029,1035,1037,1042,1044,1049,1051,1056,1058,1063],{"type":36,"value":1020},"有些檔案我們不需要 prettier 的話，可以透過新增",{"type":31,"tag":62,"props":1022,"children":1024},{"className":1023},[],[1025],{"type":36,"value":1026},".prettierignore",{"type":36,"value":1028},"檔案來處理（類似",{"type":31,"tag":62,"props":1030,"children":1032},{"className":1031},[],[1033],{"type":36,"value":1034},".gitignore",{"type":36,"value":1036},"），Prettier 會抓同目錄中的",{"type":31,"tag":62,"props":1038,"children":1040},{"className":1039},[],[1041],{"type":36,"value":1034},{"type":36,"value":1043},"作為預設易排除的檔案及目錄基底，再加上",{"type":31,"tag":62,"props":1045,"children":1047},{"className":1046},[],[1048],{"type":36,"value":1026},{"type":36,"value":1050},"中標示的檔案及目錄，若是已經寫在",{"type":31,"tag":62,"props":1052,"children":1054},{"className":1053},[],[1055],{"type":36,"value":1034},{"type":36,"value":1057},"裡面的就不需要再寫到",{"type":31,"tag":62,"props":1059,"children":1061},{"className":1060},[],[1062],{"type":36,"value":1026},{"type":36,"value":1064},"。",{"type":31,"tag":32,"props":1066,"children":1067},{},[1068],{"type":36,"value":1069},"這個檔案就會依據專案而有很大差異了，這邊就只寫出本篇紀錄會用到的",{"type":31,"tag":54,"props":1071,"children":1075},{"className":1072,"code":1073,"filename":1026,"language":1074,"meta":59,"style":59},"language-ini shiki shiki-themes github-dark",".gitignore\n.prettierignore\n\n## Nuxt 3 static directory\npublic\n\n## husky\n.husky\n","ini",[1076],{"type":31,"tag":62,"props":1077,"children":1078},{"__ignoreMap":59},[1079,1087,1095,1104,1112,1120,1127,1135],{"type":31,"tag":66,"props":1080,"children":1081},{"class":68,"line":69},[1082],{"type":31,"tag":66,"props":1083,"children":1084},{"style":101},[1085],{"type":36,"value":1086},".gitignore\n",{"type":31,"tag":66,"props":1088,"children":1089},{"class":68,"line":171},[1090],{"type":31,"tag":66,"props":1091,"children":1092},{"style":101},[1093],{"type":36,"value":1094},".prettierignore\n",{"type":31,"tag":66,"props":1096,"children":1097},{"class":68,"line":180},[1098],{"type":31,"tag":66,"props":1099,"children":1101},{"emptyLinePlaceholder":1100},true,[1102],{"type":36,"value":1103},"\n",{"type":31,"tag":66,"props":1105,"children":1106},{"class":68,"line":200},[1107],{"type":31,"tag":66,"props":1108,"children":1109},{"style":378},[1110],{"type":36,"value":1111},"## Nuxt 3 static directory\n",{"type":31,"tag":66,"props":1113,"children":1114},{"class":68,"line":209},[1115],{"type":31,"tag":66,"props":1116,"children":1117},{"style":101},[1118],{"type":36,"value":1119},"public\n",{"type":31,"tag":66,"props":1121,"children":1122},{"class":68,"line":374},[1123],{"type":31,"tag":66,"props":1124,"children":1125},{"emptyLinePlaceholder":1100},[1126],{"type":36,"value":1103},{"type":31,"tag":66,"props":1128,"children":1129},{"class":68,"line":384},[1130],{"type":31,"tag":66,"props":1131,"children":1132},{"style":378},[1133],{"type":36,"value":1134},"## husky\n",{"type":31,"tag":66,"props":1136,"children":1137},{"class":68,"line":393},[1138],{"type":31,"tag":66,"props":1139,"children":1140},{"style":101},[1141],{"type":36,"value":1142},".husky\n",{"type":31,"tag":38,"props":1144,"children":1145},{},[],{"type":31,"tag":42,"props":1147,"children":1149},{"id":1148},"husky-lint-staged",[1150],{"type":36,"value":1151},"husky + lint-staged",{"type":31,"tag":32,"props":1153,"children":1154},{},[1155],{"type":36,"value":1156},"前面使用的 linters 以及 Prettier，只會在修改程式碼時，或是手動執行檢查時才會作用，你硬要 commit 他們其實也是可以的。那如果能在 commit 之前就檢查他們，有問題不給 commit 的話不是更好嗎？因此就要使用像 husky 與 lint-staged 的工具，來在特定的 git hook 時執行指令來自動檢查，若不通過就不准 commit。",{"type":31,"tag":32,"props":1158,"children":1159},{},[1160,1162,1169],{"type":36,"value":1161},"husky 是管理 ",{"type":31,"tag":671,"props":1163,"children":1166},{"href":1164,"rel":1165},"https://git-scm.com/book/zh-tw/v2/Customizing-Git-Git-Hooks",[675],[1167],{"type":36,"value":1168},"git hooks",{"type":36,"value":1170}," 的工具，他能在特定的 git hook 執行程式碼；而 lint-staged，則是可以針對狀態為「staged」的檔案（也就是鎖定了目前變更並準備要提交到分支的檔案）進行 lint。",{"type":31,"tag":32,"props":1172,"children":1173},{},[1174],{"type":36,"value":1175},"結合這兩者，就可以作到剛剛說的效果。",{"type":31,"tag":54,"props":1177,"children":1180},{"className":56,"code":1178,"filename":1179,"language":58,"meta":59,"style":59},"npm install --save-dev husky lint-staged\n","首先安裝husky與lint-staged",[1181],{"type":31,"tag":62,"props":1182,"children":1183},{"__ignoreMap":59},[1184],{"type":31,"tag":66,"props":1185,"children":1186},{"class":68,"line":69},[1187,1191,1195,1199,1204],{"type":31,"tag":66,"props":1188,"children":1189},{"style":73},[1190],{"type":36,"value":236},{"type":31,"tag":66,"props":1192,"children":1193},{"style":79},[1194],{"type":36,"value":241},{"type":31,"tag":66,"props":1196,"children":1197},{"style":189},[1198],{"type":36,"value":824},{"type":31,"tag":66,"props":1200,"children":1201},{"style":79},[1202],{"type":36,"value":1203}," husky",{"type":31,"tag":66,"props":1205,"children":1206},{"style":79},[1207],{"type":36,"value":1208}," lint-staged\n",{"type":31,"tag":54,"props":1210,"children":1213},{"className":56,"code":1211,"filename":1212,"language":58,"meta":59,"style":59},"npx husky init\n","接著初始化husky的設定值",[1214],{"type":31,"tag":62,"props":1215,"children":1216},{"__ignoreMap":59},[1217],{"type":31,"tag":66,"props":1218,"children":1219},{"class":68,"line":69},[1220,1224,1228],{"type":31,"tag":66,"props":1221,"children":1222},{"style":73},[1223],{"type":36,"value":76},{"type":31,"tag":66,"props":1225,"children":1226},{"style":79},[1227],{"type":36,"value":1203},{"type":31,"tag":66,"props":1229,"children":1230},{"style":79},[1231],{"type":36,"value":582},{"type":31,"tag":32,"props":1233,"children":1234},{},[1235,1237,1243,1245,1251],{"type":36,"value":1236},"這邊 husky 會預設建立一個",{"type":31,"tag":62,"props":1238,"children":1240},{"className":1239},[],[1241],{"type":36,"value":1242},".husky/pre-commit",{"type":36,"value":1244},"檔案，裡面預設會執行",{"type":31,"tag":62,"props":1246,"children":1248},{"className":1247},[],[1249],{"type":36,"value":1250},"npm test",{"type":36,"value":1252},"若不需要的話可以移除。",{"type":31,"tag":125,"props":1254,"children":1256},{"id":1255},"commitlint-1",[1257],{"type":36,"value":22},{"type":31,"tag":32,"props":1259,"children":1260},{},[1261,1263,1269,1271,1277],{"type":36,"value":1262},"建立",{"type":31,"tag":62,"props":1264,"children":1266},{"className":1265},[],[1267],{"type":36,"value":1268},"commit-msg",{"type":36,"value":1270}," 的 hook 設定檔於",{"type":31,"tag":62,"props":1272,"children":1274},{"className":1273},[],[1275],{"type":36,"value":1276},".husky",{"type":36,"value":1278},"資料夾下，並放入 commitlint 的指令。",{"type":31,"tag":54,"props":1280,"children":1283},{"className":56,"code":1281,"filename":1282,"language":58,"meta":59,"style":59},"npx --no -- commitlint --edit $1\n",".husky/commit-msg",[1284],{"type":31,"tag":62,"props":1285,"children":1286},{"__ignoreMap":59},[1287],{"type":31,"tag":66,"props":1288,"children":1289},{"class":68,"line":69},[1290,1294,1299,1304,1309,1314],{"type":31,"tag":66,"props":1291,"children":1292},{"style":73},[1293],{"type":36,"value":76},{"type":31,"tag":66,"props":1295,"children":1296},{"style":189},[1297],{"type":36,"value":1298}," --no",{"type":31,"tag":66,"props":1300,"children":1301},{"style":189},[1302],{"type":36,"value":1303}," --",{"type":31,"tag":66,"props":1305,"children":1306},{"style":79},[1307],{"type":36,"value":1308}," commitlint",{"type":31,"tag":66,"props":1310,"children":1311},{"style":189},[1312],{"type":36,"value":1313}," --edit",{"type":31,"tag":66,"props":1315,"children":1317},{"style":1316},"--shiki-default:#FFAB70",[1318],{"type":36,"value":1319}," $1\n",{"type":31,"tag":125,"props":1321,"children":1323},{"id":1322},"eslint-prettier",[1324],{"type":36,"value":1325},"eslint + prettier",{"type":31,"tag":32,"props":1327,"children":1328},{},[1329,1336,1338,1344],{"type":31,"tag":671,"props":1330,"children":1333},{"href":1331,"rel":1332},"https://github.com/lint-staged/lint-staged?tab=readme-ov-file#configuration",[675],[1334],{"type":36,"value":1335},"lint-staged 的設定方式有許多種",{"type":36,"value":1337},"，這邊是建立",{"type":31,"tag":62,"props":1339,"children":1341},{"className":1340},[],[1342],{"type":36,"value":1343},".lintstagedrc",{"type":36,"value":1345},"檔案於專案的根目錄下：",{"type":31,"tag":54,"props":1347,"children":1349},{"className":979,"code":1348,"filename":1343,"language":981,"meta":59,"style":59},"{\n  \"*\": [\"eslint\", \"prettier --write\"]\n}\n",[1350],{"type":31,"tag":62,"props":1351,"children":1352},{"__ignoreMap":59},[1353,1361,1394],{"type":31,"tag":66,"props":1354,"children":1355},{"class":68,"line":69},[1356],{"type":31,"tag":66,"props":1357,"children":1358},{"style":101},[1359],{"type":36,"value":1360},"{\n",{"type":31,"tag":66,"props":1362,"children":1363},{"class":68,"line":171},[1364,1369,1374,1379,1384,1389],{"type":31,"tag":66,"props":1365,"children":1366},{"style":189},[1367],{"type":36,"value":1368},"  \"*\"",{"type":31,"tag":66,"props":1370,"children":1371},{"style":101},[1372],{"type":36,"value":1373},": [",{"type":31,"tag":66,"props":1375,"children":1376},{"style":79},[1377],{"type":36,"value":1378},"\"eslint\"",{"type":31,"tag":66,"props":1380,"children":1381},{"style":101},[1382],{"type":36,"value":1383},", ",{"type":31,"tag":66,"props":1385,"children":1386},{"style":79},[1387],{"type":36,"value":1388},"\"prettier --write\"",{"type":31,"tag":66,"props":1390,"children":1391},{"style":101},[1392],{"type":36,"value":1393},"]\n",{"type":31,"tag":66,"props":1395,"children":1396},{"class":68,"line":180},[1397],{"type":31,"tag":66,"props":1398,"children":1399},{"style":101},[1400],{"type":36,"value":884},{"type":31,"tag":32,"props":1402,"children":1403},{},[1404,1406,1411,1413,1419,1421,1426,1427,1432,1434,1439],{"type":36,"value":1405},"上面是直接設定針對所有檔案，先執行",{"type":31,"tag":62,"props":1407,"children":1409},{"className":1408},[],[1410],{"type":36,"value":21},{"type":36,"value":1412},"再執行",{"type":31,"tag":62,"props":1414,"children":1416},{"className":1415},[],[1417],{"type":36,"value":1418},"prettier --write",{"type":36,"value":1420},"，所有不被",{"type":31,"tag":62,"props":1422,"children":1424},{"className":1423},[],[1425],{"type":36,"value":21},{"type":36,"value":648},{"type":31,"tag":62,"props":1428,"children":1430},{"className":1429},[],[1431],{"type":36,"value":25},{"type":36,"value":1433},"自己的設定值排除的檔案都會被檢查。",{"type":31,"tag":62,"props":1435,"children":1437},{"className":1436},[],[1438],{"type":36,"value":1418},{"type":36,"value":1440},"則是自動格式化後儲存。",{"type":31,"tag":38,"props":1442,"children":1443},{},[],{"type":31,"tag":42,"props":1445,"children":1447},{"id":1446},"後記",[1448],{"type":36,"value":1446},{"type":31,"tag":32,"props":1450,"children":1451},{},[1452,1454,1461],{"type":36,"value":1453},"大概就是這樣，還是覺得 Nuxt 2 那種一開始建立專案就可以讓你各種選好直接設定好的界面，還可以選 UI 框架直接引入……。這邊的設定除了 scss 檔案以外，我有建立一個 ",{"type":31,"tag":671,"props":1455,"children":1458},{"href":1456,"rel":1457},"https://github.com/HuangChingChieh/nuxt3_starter",[675],[1459],{"type":36,"value":1460},"nuxt3_starter repository",{"type":36,"value":1462},"，歡迎大家參考使用。",{"type":31,"tag":1464,"props":1465,"children":1466},"style",{},[1467],{"type":36,"value":1468},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":59,"searchDepth":171,"depth":171,"links":1470},[1471,1472,1477,1478,1482,1486,1490],{"id":44,"depth":171,"text":47},{"id":115,"depth":171,"text":118,"children":1473},[1474,1475,1476],{"id":127,"depth":180,"text":130},{"id":19,"depth":180,"text":220},{"id":454,"depth":180,"text":457},{"id":20,"depth":171,"text":590},{"id":661,"depth":171,"text":664,"children":1479},[1480,1481],{"id":21,"depth":180,"text":21},{"id":22,"depth":180,"text":22},{"id":25,"depth":171,"text":892,"children":1483},[1484,1485],{"id":961,"depth":180,"text":961},{"id":1013,"depth":180,"text":1013},{"id":1148,"depth":171,"text":1151,"children":1487},[1488,1489],{"id":1255,"depth":180,"text":22},{"id":1322,"depth":180,"text":1325},{"id":1446,"depth":171,"text":1446},[1492,1507,1521],{"title":1493,"description":1494,"img":1495,"tags":1496,"readingTime":1500,"createdAt":1505,"updatedAt":1505,"slug":1506},"部落格Nuxt 2升級Nuxt 3（六）：Vuex → Pinia","Nuxt 3 的狀態管理套件從 Nuxt 2 的 Vuex 改成了 Pinia，兩者差異不算大，部落格用到的功能也不多。其中比較要注意的就是 Nuxt 3 不再提供nuxtServerInit方法，若需要在 server 端初始化一些資料的話，就要透過其他作法來完成。","924/Ia2nWi.png",[1497,15,17,1498,16,1499,20],"blog","nuxt2","vuex",{"text":1501,"minutes":1502,"time":1503,"words":1504},"5 min read",4.19,251400,838,"2024-01-24T07:26:04.000Z","nuxt2_to_nuxt3_blog_6_modules_pinia",{"title":1508,"description":1509,"img":1510,"tags":1511,"readingTime":1514,"createdAt":1519,"updatedAt":1519,"slug":1520},"Nuxt3中使用vite-pwa實現pwa功能","之前在 Nuxt2 時可以滿無痛的使用 nuxt/pwa 來為網站新增 PWA 功能，但因為此模組沒有開發 Nuxt3 版本，最近開始接觸 Nuxt3 後得尋找替代品，在官方模組清單頁面中搜尋 pwa 只發現一個模組：vite-pwa-nuxt。","923/XCrOen.png",[15,16,17,1512,1513],"pwa","vite-pwa",{"text":1515,"minutes":1516,"time":1517,"words":1518},"6 min read",5.085,305100,1017,"2024-01-18T05:22:42.000Z","nuxt3_vite_pwa",{"title":1522,"description":1523,"img":1495,"tags":1524,"readingTime":1529,"createdAt":1534,"updatedAt":1505,"slug":1535},"部落格Nuxt 2升級Nuxt 3（一）：bootstrapVue置換成自製的bootrap5元件","如之前規劃，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。",[1497,15,17,1498,16,1525,1526,1527,1528],"bootstrapVue","bootstrap 4","bootstrap 5","bootstrap",{"text":1530,"minutes":1531,"time":1532,"words":1533},"4 min read",3.53,211800,706,"2024-01-23T05:33:23.000Z","nuxt2_to_nuxt3_blog_1_ui",1736666500255]