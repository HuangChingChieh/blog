[{"data":1,"prerenderedAt":246},["ShallowReactive",2],{"mobile_chrome_sticky_bottom":3,"Related_mobile_chrome_sticky_bottom":202},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"img":10,"tags":11,"category":16,"readingTime":17,"excerpt":22,"body":50,"_type":193,"_id":194,"_source":195,"_file":196,"_stem":197,"_extension":198,"createdAt":199,"updatedAt":200,"slug":201},"/articles/2023/mobile_chrome_sticky_bottom","2023",false,"","解決底部Sticky元素在Android Chrome滾動時渲染位置錯誤的問題","如果不是複雜的需求，對於在元素流中有滾動後要固定的元素，像是頂部 header 滾動後要固定或底部 footer 在滾動前要固定，我都會偏好用position: sticky這個方式去處理，簡單粗暴，不像position: fixed那樣要去計算高度來給其他元素 padding 以防遮住主要內容，或是滾動後要用 JS 去偵測來修改，瀏覽器會幫你做好運算。","922/iRFPQu.jpg",[12,13,14,15],"css","html","android","chrome","frontend",{"text":18,"minutes":19,"time":20,"words":21},"2 min read",1.685,101100,337,{"type":23,"children":24},"root",[25],{"type":26,"tag":27,"props":28,"children":29},"element","p",{},[30,33,40,42,48],{"type":31,"value":32},"text","如果不是複雜的需求，對於在元素流中有滾動後要固定的元素，像是頂部 header 滾動後要固定或底部 footer 在滾動前要固定，我都會偏好用",{"type":26,"tag":34,"props":35,"children":37},"code",{"className":36},[],[38],{"type":31,"value":39},"position: sticky",{"type":31,"value":41},"這個方式去處理，簡單粗暴，不像",{"type":26,"tag":34,"props":43,"children":45},{"className":44},[],[46],{"type":31,"value":47},"position: fixed",{"type":31,"value":49},"那樣要去計算高度來給其他元素 padding 以防遮住主要內容，或是滾動後要用 JS 去偵測來修改，瀏覽器會幫你做好運算。",{"type":23,"children":51,"toc":188},[52,68,73,77,83,88,91,96,119,177,182],{"type":26,"tag":27,"props":53,"children":54},{},[55,56,61,62,67],{"type":31,"value":32},{"type":26,"tag":34,"props":57,"children":59},{"className":58},[],[60],{"type":31,"value":39},{"type":31,"value":41},{"type":26,"tag":34,"props":63,"children":65},{"className":64},[],[66],{"type":31,"value":47},{"type":31,"value":49},{"type":26,"tag":27,"props":69,"children":70},{},[71],{"type":31,"value":72},"把元素 sticky 在頂部似乎沒啥問題，但 sticky 到底部時就在 Android 的 Chrome 遇到問題了（Firefox 不會）。",{"type":26,"tag":74,"props":75,"children":76},"hr",{},[],{"type":26,"tag":78,"props":79,"children":81},"h2",{"id":80},"問題",[82],{"type":31,"value":80},{"type":26,"tag":27,"props":84,"children":85},{},[86],{"type":31,"value":87},"Chrome 上面的網址列在往下滾動會隱藏，這時底部的 Sticky 元素會往上跳一個距離；而在往上滾動時，Chrome 網址列又會出現，這時底部的 Sticky 元素又會回到原本正確的位置。",{"type":26,"tag":74,"props":89,"children":90},{},[],{"type":26,"tag":78,"props":92,"children":94},{"id":93},"解決方式",[95],{"type":31,"value":93},{"type":26,"tag":27,"props":97,"children":98},{},[99,101,110,112,117],{"type":31,"value":100},"上網嘗試了一些方式後都沒有解決，後來查到這篇文章",{"type":26,"tag":102,"props":103,"children":107},"a",{"href":104,"rel":105},"https://www.stevefenton.co.uk/blog/2022/12/mobile-position-sticky-issue/",[106],"nofollow",[108],{"type":31,"value":109},"Mobile browser bars being hidden can affect CSS position sticky bottom",{"type":31,"value":111},"，發現他用了一個非常輕巧的方式解決。只要加一條",{"type":26,"tag":34,"props":113,"children":115},{"className":114},[],[116],{"type":31,"value":47},{"type":31,"value":118},"的元素：",{"type":26,"tag":120,"props":121,"children":124},"pre",{"className":122,"code":123,"language":13,"meta":7,"style":7},"language-html shiki shiki-themes github-dark","\u003Cdiv style=\"position: fixed;\">\u003C/div>\n",[125],{"type":26,"tag":34,"props":126,"children":127},{"__ignoreMap":7},[128],{"type":26,"tag":129,"props":130,"children":133},"span",{"class":131,"line":132},"line",1,[134,140,146,152,157,163,168,172],{"type":26,"tag":129,"props":135,"children":137},{"style":136},"--shiki-default:#E1E4E8",[138],{"type":31,"value":139},"\u003C",{"type":26,"tag":129,"props":141,"children":143},{"style":142},"--shiki-default:#85E89D",[144],{"type":31,"value":145},"div",{"type":26,"tag":129,"props":147,"children":149},{"style":148},"--shiki-default:#B392F0",[150],{"type":31,"value":151}," style",{"type":26,"tag":129,"props":153,"children":154},{"style":136},[155],{"type":31,"value":156},"=",{"type":26,"tag":129,"props":158,"children":160},{"style":159},"--shiki-default:#9ECBFF",[161],{"type":31,"value":162},"\"position: fixed;\"",{"type":26,"tag":129,"props":164,"children":165},{"style":136},[166],{"type":31,"value":167},">\u003C/",{"type":26,"tag":129,"props":169,"children":170},{"style":142},[171],{"type":31,"value":145},{"type":26,"tag":129,"props":173,"children":174},{"style":136},[175],{"type":31,"value":176},">\n",{"type":26,"tag":27,"props":178,"children":179},{},[180],{"type":31,"value":181},"沒錯，就是這樣而已，我感到各種驚訝。只是這種 HACK 般的處理，讓我覺得這或許比較像是 BUG，但這問題存在許久，也不知道 Google 那邊是否會修改就是了。",{"type":26,"tag":183,"props":184,"children":185},"style",{},[186],{"type":31,"value":187},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":189,"depth":189,"links":190},2,[191,192],{"id":80,"depth":189,"text":80},{"id":93,"depth":189,"text":93},"markdown","content:articles:2023:mobile_chrome_sticky_bottom.md","content","articles/2023/mobile_chrome_sticky_bottom.md","articles/2023/mobile_chrome_sticky_bottom","md","2023-07-14T07:26:50.000Z","2023-12-11T03:54:57.000Z","mobile_chrome_sticky_bottom",[203,220,232],{"title":204,"description":205,"tags":206,"img":211,"readingTime":212,"createdAt":217,"updatedAt":218,"slug":219},"使用Fedora刷Pixel 3a的LineageOS 過程紀錄","總之呢，官方公佈不保證在 5 月之後還會收到更新，而網路則說 7 月會迎來最後一次更新，因為手機狀況都還滿健康的，最愛保留舊手機舊電腦的我，就想說要來刷機了。",[207,14,208,209,210],"fedora","custom rom","Gooel Pixel 3a","lineageos","924/ioKHUr.jpg",{"text":213,"minutes":214,"time":215,"words":216},"13 min read",12.61,756600,2522,"2023-01-02T11:14:51.000Z","2023-12-11T10:19:13.000Z","pixel3a_custom_rom",{"title":221,"description":222,"img":223,"tags":224,"readingTime":225,"createdAt":230,"updatedAt":218,"slug":231},"在Fedora 38編譯Pixel 3a的LineageOS","本篇文章是試圖移植之前的文章：的過程至 Fedora 上的心得紀錄，畢竟自己平常主要使用的系統為 Fedora，想說都是 Linux 應該是可以移植過來。","924/LsYE8j.jpg",[207,14,208,209,210],{"text":226,"minutes":227,"time":228,"words":229},"3 min read",2.765,165900,553,"2023-04-07T09:03:17.000Z","fedora_lineageos_sargo",{"title":233,"description":234,"tags":235,"img":237,"readingTime":238,"createdAt":243,"updatedAt":244,"slug":245},"在Ubuntu 22.04編譯Pixel 3a的LineageOS 20.0","之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了 XDA 看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。",[236,14,208,209,210],"ubuntu","922/DxakSn.jpg",{"text":239,"minutes":240,"time":241,"words":242},"9 min read",8.785,527100,1757,"2023-04-15T11:38:12.000Z","2024-01-24T07:26:04.000Z","ubuntu_lineageos_sargo",1733124062787]