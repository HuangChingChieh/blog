[{"data":1,"prerenderedAt":1968},["ShallowReactive",2],{"ubuntu_lineageos_sargo":3,"title|ubuntu_swap_resize":1929,"title|ubuntu_lineageos_sargo":4,"Related_ubuntu_lineageos_sargo":1930},{"title":4,"description":5,"img":6,"readingTime":7,"createdAt":12,"updatedAt":13,"slug":14,"tags":15,"category":21,"body":22},"在Ubuntu 22.04編譯Pixel 3a的LineageOS 20.0","之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了 XDA 看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。","922/DxakSn.jpg",{"text":8,"minutes":9,"time":10,"words":11},"9 min read",8.785,527100,1757,"2023-04-15T11:38:12.000Z","2024-12-13T10:01:17.000Z","ubuntu_lineageos_sargo",[16,17,18,19,20],"ubuntu","android","custom rom","Gooel Pixel 3a","lineageos","linux",{"type":23,"children":24,"toc":1904},"root",[25,44,59,63,69,83,86,91,96,116,123,137,160,165,170,173,178,223,450,493,533,565,568,574,580,613,640,668,720,725,752,773,779,807,835,840,865,878,906,909,915,920,951,977,998,1026,1031,1060,1088,1121,1126,1153,1191,1227,1263,1299,1304,1331,1359,1364,1401,1433,1436,1441,1446,1470,1475,1487,1519,1543,1569,1573,1613,1646,1682,1687,1692,1711,1740,1751,1754,1760,1792,1798,1803,1816,1822,1850,1853,1858,1863,1868,1871,1876,1898],{"type":26,"tag":27,"props":28,"children":29},"element","p",{},[30,33,42],{"type":31,"value":32},"text","之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了 ",{"type":26,"tag":34,"props":35,"children":39},"a",{"href":36,"rel":37},"https://forum.xda-developers.com/t/official-lineageos-19-1-for-the-google-pixel-3a.4436933/post-88303289",[38],"nofollow",[40],{"type":31,"value":41},"XDA",{"type":31,"value":43}," 看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。",{"type":26,"tag":45,"props":46,"children":47},"article-note",{},[48,50,57],{"type":31,"value":49},"\n雖然 eSIM 問題仍然存在，但目前官方已將 Pixel 3a 的官方版本升到 LineageOS 20.0 囉！若只是單純要升級的朋友，可直接\n",{"type":26,"tag":34,"props":51,"children":54},{"href":52,"rel":53},"https://download.lineageos.org/devices/sargo/builds",[38],[55],{"type":31,"value":56},"下載官方編譯的 ROM",{"type":31,"value":58},"\n就好。\n",{"type":26,"tag":60,"props":61,"children":62},"hr",{},[],{"type":26,"tag":64,"props":65,"children":67},"h2",{"id":66},"免責聲明",[68],{"type":31,"value":66},{"type":26,"tag":27,"props":70,"children":71},{},[72,74,81],{"type":31,"value":73},"本篇的內容是參考",{"type":26,"tag":34,"props":75,"children":78},{"href":76,"rel":77},"https://wiki.lineageos.org/devices/sargo/build",[38],[79],{"type":31,"value":80},"官方文件",{"type":31,"value":82},"的編譯過程紀錄，內容可能有所出入，請斟酌服用，因本篇文章內容錯誤導致手機損壞，本人不負任何責任。",{"type":26,"tag":60,"props":84,"children":85},{},[],{"type":26,"tag":64,"props":87,"children":89},{"id":88},"硬體需求",[90],{"type":31,"value":88},{"type":26,"tag":27,"props":92,"children":93},{},[94],{"type":31,"value":95},"根據官方文件，要編譯 LineageOS 20.0 的硬體需求如下：",{"type":26,"tag":97,"props":98,"children":99},"ul",{},[100,106,111],{"type":26,"tag":101,"props":102,"children":103},"li",{},[104],{"type":31,"value":105},"CPU：64 位元處理器",{"type":26,"tag":101,"props":107,"children":108},{},[109],{"type":31,"value":110},"RAM：32GB 以上",{"type":26,"tag":101,"props":112,"children":113},{},[114],{"type":31,"value":115},"硬碟：300GB 以上的可用空間，建議至少 SSD。",{"type":26,"tag":117,"props":118,"children":120},"h3",{"id":119},"ram",[121],{"type":31,"value":122},"RAM",{"type":26,"tag":27,"props":124,"children":125},{},[126,128,135],{"type":31,"value":127},"若 RAM 不足 32GB，可以嘗試透過",{"type":26,"tag":129,"props":130,"children":132},"article-inner-link",{"slug":131},"ubuntu_swap_resize",[133],{"type":31,"value":134},"增加 SWAP 大小",{"type":31,"value":136},"彌補主記憶體的不足編譯看看。我在以下兩種情境中嘗試過將 SWAP 直接增加到 32GB，皆可編譯成功，提供參考。",{"type":26,"tag":138,"props":139,"children":140},"ol",{},[141,155],{"type":26,"tag":101,"props":142,"children":143},{},[144,146,153],{"type":31,"value":145},"在",{"type":26,"tag":34,"props":147,"children":150},{"href":148,"rel":149},"https://www.linode.com/",[38],[151],{"type":31,"value":152},"Linode",{"type":31,"value":154},"開 RAM 只有 16GB 的 Ubuntu 22.04 雲端機",{"type":26,"tag":101,"props":156,"children":157},{},[158],{"type":31,"value":159},"在 RAM 有 32GB 的 Windows 上使用 Ubuntu 22.04 WSL2（預設 RAM 只有 Windows 的一半）",{"type":26,"tag":117,"props":161,"children":163},{"id":162},"硬碟",[164],{"type":31,"value":162},{"type":26,"tag":27,"props":166,"children":167},{},[168],{"type":31,"value":169},"我使用同一臺桌機（CPU 爲 AMD R3-3100），SSD 以及 HDD 的編譯時間差異是一倍。所以建議還是乖乖使用 SSD 比較好。",{"type":26,"tag":60,"props":171,"children":172},{},[],{"type":26,"tag":64,"props":174,"children":176},{"id":175},"建立編譯環境",[177],{"type":31,"value":175},{"type":26,"tag":179,"props":180,"children":185},"pre",{"className":181,"code":182,"language":183,"meta":184,"style":184},"language-bash shiki shiki-themes github-dark","# 更新一下套件庫\nsudo apt update\n","bash","",[186],{"type":26,"tag":187,"props":188,"children":189},"code",{"__ignoreMap":184},[190,202],{"type":26,"tag":191,"props":192,"children":195},"span",{"class":193,"line":194},"line",1,[196],{"type":26,"tag":191,"props":197,"children":199},{"style":198},"--shiki-default:#6A737D",[200],{"type":31,"value":201},"# 更新一下套件庫\n",{"type":26,"tag":191,"props":203,"children":205},{"class":193,"line":204},2,[206,212,218],{"type":26,"tag":191,"props":207,"children":209},{"style":208},"--shiki-default:#B392F0",[210],{"type":31,"value":211},"sudo",{"type":26,"tag":191,"props":213,"children":215},{"style":214},"--shiki-default:#9ECBFF",[216],{"type":31,"value":217}," apt",{"type":26,"tag":191,"props":219,"children":220},{"style":214},[221],{"type":31,"value":222}," update\n",{"type":26,"tag":179,"props":224,"children":226},{"className":181,"code":225,"language":183,"meta":184,"style":184},"# 安裝編譯需要的套件\nsudo apt install bc bison build-essential ccache curl flex g++-multilib gcc-multilib git git-lfs gnupg gperf imagemagick lib32ncurses5-dev lib32readline-dev lib32z1-dev libelf-dev liblz4-tool libncurses5 libncurses5-dev libsdl1.2-dev libssl-dev libxml2 libxml2-utils lzop pngcrush rsync schedtool squashfs-tools xsltproc zip zlib1g-dev openjdk-11-jdk python3 repo python-is-python3 wget python3-protobuf -y\n",[227],{"type":26,"tag":187,"props":228,"children":229},{"__ignoreMap":184},[230,238],{"type":26,"tag":191,"props":231,"children":232},{"class":193,"line":194},[233],{"type":26,"tag":191,"props":234,"children":235},{"style":198},[236],{"type":31,"value":237},"# 安裝編譯需要的套件\n",{"type":26,"tag":191,"props":239,"children":240},{"class":193,"line":204},[241,245,249,254,259,264,269,274,279,284,289,294,299,304,309,314,319,324,329,334,339,344,349,354,359,364,369,374,379,384,389,394,399,404,409,414,419,424,429,434,439,444],{"type":26,"tag":191,"props":242,"children":243},{"style":208},[244],{"type":31,"value":211},{"type":26,"tag":191,"props":246,"children":247},{"style":214},[248],{"type":31,"value":217},{"type":26,"tag":191,"props":250,"children":251},{"style":214},[252],{"type":31,"value":253}," install",{"type":26,"tag":191,"props":255,"children":256},{"style":214},[257],{"type":31,"value":258}," bc",{"type":26,"tag":191,"props":260,"children":261},{"style":214},[262],{"type":31,"value":263}," bison",{"type":26,"tag":191,"props":265,"children":266},{"style":214},[267],{"type":31,"value":268}," build-essential",{"type":26,"tag":191,"props":270,"children":271},{"style":214},[272],{"type":31,"value":273}," ccache",{"type":26,"tag":191,"props":275,"children":276},{"style":214},[277],{"type":31,"value":278}," curl",{"type":26,"tag":191,"props":280,"children":281},{"style":214},[282],{"type":31,"value":283}," flex",{"type":26,"tag":191,"props":285,"children":286},{"style":214},[287],{"type":31,"value":288}," g++-multilib",{"type":26,"tag":191,"props":290,"children":291},{"style":214},[292],{"type":31,"value":293}," gcc-multilib",{"type":26,"tag":191,"props":295,"children":296},{"style":214},[297],{"type":31,"value":298}," git",{"type":26,"tag":191,"props":300,"children":301},{"style":214},[302],{"type":31,"value":303}," git-lfs",{"type":26,"tag":191,"props":305,"children":306},{"style":214},[307],{"type":31,"value":308}," gnupg",{"type":26,"tag":191,"props":310,"children":311},{"style":214},[312],{"type":31,"value":313}," gperf",{"type":26,"tag":191,"props":315,"children":316},{"style":214},[317],{"type":31,"value":318}," imagemagick",{"type":26,"tag":191,"props":320,"children":321},{"style":214},[322],{"type":31,"value":323}," lib32ncurses5-dev",{"type":26,"tag":191,"props":325,"children":326},{"style":214},[327],{"type":31,"value":328}," lib32readline-dev",{"type":26,"tag":191,"props":330,"children":331},{"style":214},[332],{"type":31,"value":333}," lib32z1-dev",{"type":26,"tag":191,"props":335,"children":336},{"style":214},[337],{"type":31,"value":338}," libelf-dev",{"type":26,"tag":191,"props":340,"children":341},{"style":214},[342],{"type":31,"value":343}," liblz4-tool",{"type":26,"tag":191,"props":345,"children":346},{"style":214},[347],{"type":31,"value":348}," libncurses5",{"type":26,"tag":191,"props":350,"children":351},{"style":214},[352],{"type":31,"value":353}," libncurses5-dev",{"type":26,"tag":191,"props":355,"children":356},{"style":214},[357],{"type":31,"value":358}," libsdl1.2-dev",{"type":26,"tag":191,"props":360,"children":361},{"style":214},[362],{"type":31,"value":363}," libssl-dev",{"type":26,"tag":191,"props":365,"children":366},{"style":214},[367],{"type":31,"value":368}," libxml2",{"type":26,"tag":191,"props":370,"children":371},{"style":214},[372],{"type":31,"value":373}," libxml2-utils",{"type":26,"tag":191,"props":375,"children":376},{"style":214},[377],{"type":31,"value":378}," lzop",{"type":26,"tag":191,"props":380,"children":381},{"style":214},[382],{"type":31,"value":383}," pngcrush",{"type":26,"tag":191,"props":385,"children":386},{"style":214},[387],{"type":31,"value":388}," rsync",{"type":26,"tag":191,"props":390,"children":391},{"style":214},[392],{"type":31,"value":393}," schedtool",{"type":26,"tag":191,"props":395,"children":396},{"style":214},[397],{"type":31,"value":398}," squashfs-tools",{"type":26,"tag":191,"props":400,"children":401},{"style":214},[402],{"type":31,"value":403}," xsltproc",{"type":26,"tag":191,"props":405,"children":406},{"style":214},[407],{"type":31,"value":408}," zip",{"type":26,"tag":191,"props":410,"children":411},{"style":214},[412],{"type":31,"value":413}," zlib1g-dev",{"type":26,"tag":191,"props":415,"children":416},{"style":214},[417],{"type":31,"value":418}," openjdk-11-jdk",{"type":26,"tag":191,"props":420,"children":421},{"style":214},[422],{"type":31,"value":423}," python3",{"type":26,"tag":191,"props":425,"children":426},{"style":214},[427],{"type":31,"value":428}," repo",{"type":26,"tag":191,"props":430,"children":431},{"style":214},[432],{"type":31,"value":433}," python-is-python3",{"type":26,"tag":191,"props":435,"children":436},{"style":214},[437],{"type":31,"value":438}," wget",{"type":26,"tag":191,"props":440,"children":441},{"style":214},[442],{"type":31,"value":443}," python3-protobuf",{"type":26,"tag":191,"props":445,"children":447},{"style":446},"--shiki-default:#79B8FF",[448],{"type":31,"value":449}," -y\n",{"type":26,"tag":179,"props":451,"children":453},{"className":181,"code":452,"language":183,"meta":184,"style":184},"# 設定git身份(email)\ngit config --global user.email \"you@example.com\"\n",[454],{"type":26,"tag":187,"props":455,"children":456},{"__ignoreMap":184},[457,465],{"type":26,"tag":191,"props":458,"children":459},{"class":193,"line":194},[460],{"type":26,"tag":191,"props":461,"children":462},{"style":198},[463],{"type":31,"value":464},"# 設定git身份(email)\n",{"type":26,"tag":191,"props":466,"children":467},{"class":193,"line":204},[468,473,478,483,488],{"type":26,"tag":191,"props":469,"children":470},{"style":208},[471],{"type":31,"value":472},"git",{"type":26,"tag":191,"props":474,"children":475},{"style":214},[476],{"type":31,"value":477}," config",{"type":26,"tag":191,"props":479,"children":480},{"style":446},[481],{"type":31,"value":482}," --global",{"type":26,"tag":191,"props":484,"children":485},{"style":214},[486],{"type":31,"value":487}," user.email",{"type":26,"tag":191,"props":489,"children":490},{"style":214},[491],{"type":31,"value":492}," \"you@example.com\"\n",{"type":26,"tag":179,"props":494,"children":496},{"className":181,"code":495,"language":183,"meta":184,"style":184},"# 設定git身份(名稱)\ngit config --global user.name \"Your Name\"\n",[497],{"type":26,"tag":187,"props":498,"children":499},{"__ignoreMap":184},[500,508],{"type":26,"tag":191,"props":501,"children":502},{"class":193,"line":194},[503],{"type":26,"tag":191,"props":504,"children":505},{"style":198},[506],{"type":31,"value":507},"# 設定git身份(名稱)\n",{"type":26,"tag":191,"props":509,"children":510},{"class":193,"line":204},[511,515,519,523,528],{"type":26,"tag":191,"props":512,"children":513},{"style":208},[514],{"type":31,"value":472},{"type":26,"tag":191,"props":516,"children":517},{"style":214},[518],{"type":31,"value":477},{"type":26,"tag":191,"props":520,"children":521},{"style":446},[522],{"type":31,"value":482},{"type":26,"tag":191,"props":524,"children":525},{"style":214},[526],{"type":31,"value":527}," user.name",{"type":26,"tag":191,"props":529,"children":530},{"style":214},[531],{"type":31,"value":532}," \"Your Name\"\n",{"type":26,"tag":179,"props":534,"children":536},{"className":181,"code":535,"language":183,"meta":184,"style":184},"# 啟用git的大檔支援\ngit lfs install\n",[537],{"type":26,"tag":187,"props":538,"children":539},{"__ignoreMap":184},[540,548],{"type":26,"tag":191,"props":541,"children":542},{"class":193,"line":194},[543],{"type":26,"tag":191,"props":544,"children":545},{"style":198},[546],{"type":31,"value":547},"# 啟用git的大檔支援\n",{"type":26,"tag":191,"props":549,"children":550},{"class":193,"line":204},[551,555,560],{"type":26,"tag":191,"props":552,"children":553},{"style":208},[554],{"type":31,"value":472},{"type":26,"tag":191,"props":556,"children":557},{"style":214},[558],{"type":31,"value":559}," lfs",{"type":26,"tag":191,"props":561,"children":562},{"style":214},[563],{"type":31,"value":564}," install\n",{"type":26,"tag":60,"props":566,"children":567},{},[],{"type":26,"tag":64,"props":569,"children":571},{"id":570},"取得-lineageos-原始碼",[572],{"type":31,"value":573},"取得 LineageOS 原始碼",{"type":26,"tag":117,"props":575,"children":577},{"id":576},"同步-lineageos-的原始碼",[578],{"type":31,"value":579},"同步 LineageOS 的原始碼",{"type":26,"tag":179,"props":581,"children":583},{"className":181,"code":582,"language":183,"meta":184,"style":184},"# 建立資料夾以儲存原始碼\nmkdir -p ~/android/lineage\n",[584],{"type":26,"tag":187,"props":585,"children":586},{"__ignoreMap":184},[587,595],{"type":26,"tag":191,"props":588,"children":589},{"class":193,"line":194},[590],{"type":26,"tag":191,"props":591,"children":592},{"style":198},[593],{"type":31,"value":594},"# 建立資料夾以儲存原始碼\n",{"type":26,"tag":191,"props":596,"children":597},{"class":193,"line":204},[598,603,608],{"type":26,"tag":191,"props":599,"children":600},{"style":208},[601],{"type":31,"value":602},"mkdir",{"type":26,"tag":191,"props":604,"children":605},{"style":446},[606],{"type":31,"value":607}," -p",{"type":26,"tag":191,"props":609,"children":610},{"style":214},[611],{"type":31,"value":612}," ~/android/lineage\n",{"type":26,"tag":179,"props":614,"children":616},{"className":181,"code":615,"language":183,"meta":184,"style":184},"# 移到原始碼資料夾\ncd ~/android/lineage\n",[617],{"type":26,"tag":187,"props":618,"children":619},{"__ignoreMap":184},[620,628],{"type":26,"tag":191,"props":621,"children":622},{"class":193,"line":194},[623],{"type":26,"tag":191,"props":624,"children":625},{"style":198},[626],{"type":31,"value":627},"# 移到原始碼資料夾\n",{"type":26,"tag":191,"props":629,"children":630},{"class":193,"line":204},[631,636],{"type":26,"tag":191,"props":632,"children":633},{"style":446},[634],{"type":31,"value":635},"cd",{"type":26,"tag":191,"props":637,"children":638},{"style":214},[639],{"type":31,"value":612},{"type":26,"tag":179,"props":641,"children":643},{"className":181,"code":642,"language":183,"meta":184,"style":184},"# 初始化 repo\nrepo init\n",[644],{"type":26,"tag":187,"props":645,"children":646},{"__ignoreMap":184},[647,655],{"type":26,"tag":191,"props":648,"children":649},{"class":193,"line":194},[650],{"type":26,"tag":191,"props":651,"children":652},{"style":198},[653],{"type":31,"value":654},"# 初始化 repo\n",{"type":26,"tag":191,"props":656,"children":657},{"class":193,"line":204},[658,663],{"type":26,"tag":191,"props":659,"children":660},{"style":208},[661],{"type":31,"value":662},"repo",{"type":26,"tag":191,"props":664,"children":665},{"style":214},[666],{"type":31,"value":667}," init\n",{"type":26,"tag":179,"props":669,"children":671},{"className":181,"code":670,"language":183,"meta":184,"style":184},"# 設定要同步的套件庫與分支\nrepo init -u https://github.com/LineageOS/android.git -b lineage-20.0 --git-lfs\n",[672],{"type":26,"tag":187,"props":673,"children":674},{"__ignoreMap":184},[675,683],{"type":26,"tag":191,"props":676,"children":677},{"class":193,"line":194},[678],{"type":26,"tag":191,"props":679,"children":680},{"style":198},[681],{"type":31,"value":682},"# 設定要同步的套件庫與分支\n",{"type":26,"tag":191,"props":684,"children":685},{"class":193,"line":204},[686,690,695,700,705,710,715],{"type":26,"tag":191,"props":687,"children":688},{"style":208},[689],{"type":31,"value":662},{"type":26,"tag":191,"props":691,"children":692},{"style":214},[693],{"type":31,"value":694}," init",{"type":26,"tag":191,"props":696,"children":697},{"style":446},[698],{"type":31,"value":699}," -u",{"type":26,"tag":191,"props":701,"children":702},{"style":214},[703],{"type":31,"value":704}," https://github.com/LineageOS/android.git",{"type":26,"tag":191,"props":706,"children":707},{"style":446},[708],{"type":31,"value":709}," -b",{"type":26,"tag":191,"props":711,"children":712},{"style":214},[713],{"type":31,"value":714}," lineage-20.0",{"type":26,"tag":191,"props":716,"children":717},{"style":446},[718],{"type":31,"value":719}," --git-lfs\n",{"type":26,"tag":27,"props":721,"children":722},{},[723],{"type":31,"value":724},"接下來要開始取得原始碼了，這個步驟需要一段時間，會下載滿多的檔案（大概 100 多 GB）。",{"type":26,"tag":179,"props":726,"children":728},{"className":181,"code":727,"language":183,"meta":184,"style":184},"# 開始同步\nrepo sync\n",[729],{"type":26,"tag":187,"props":730,"children":731},{"__ignoreMap":184},[732,740],{"type":26,"tag":191,"props":733,"children":734},{"class":193,"line":194},[735],{"type":26,"tag":191,"props":736,"children":737},{"style":198},[738],{"type":31,"value":739},"# 開始同步\n",{"type":26,"tag":191,"props":741,"children":742},{"class":193,"line":204},[743,747],{"type":26,"tag":191,"props":744,"children":745},{"style":208},[746],{"type":31,"value":662},{"type":26,"tag":191,"props":748,"children":749},{"style":214},[750],{"type":31,"value":751}," sync\n",{"type":26,"tag":27,"props":753,"children":754},{},[755,757,763,765,771],{"type":31,"value":756},"若中間因為有問題而中斷同步，只要進到資料夾",{"type":26,"tag":187,"props":758,"children":760},{"className":759},[],[761],{"type":31,"value":762},"~/android/lineage",{"type":31,"value":764},"再次執行",{"type":26,"tag":187,"props":766,"children":768},{"className":767},[],[769],{"type":31,"value":770},"repo sync",{"type":31,"value":772},"即可。",{"type":26,"tag":117,"props":774,"children":776},{"id":775},"同步-pixel-3a-的原始碼",[777],{"type":31,"value":778},"同步 Pixel 3a 的原始碼",{"type":26,"tag":179,"props":780,"children":782},{"className":181,"code":781,"language":183,"meta":184,"style":184},"# 設定編譯的環境變數\nsource build/envsetup.sh\n",[783],{"type":26,"tag":187,"props":784,"children":785},{"__ignoreMap":184},[786,794],{"type":26,"tag":191,"props":787,"children":788},{"class":193,"line":194},[789],{"type":26,"tag":191,"props":790,"children":791},{"style":198},[792],{"type":31,"value":793},"# 設定編譯的環境變數\n",{"type":26,"tag":191,"props":795,"children":796},{"class":193,"line":204},[797,802],{"type":26,"tag":191,"props":798,"children":799},{"style":446},[800],{"type":31,"value":801},"source",{"type":26,"tag":191,"props":803,"children":804},{"style":214},[805],{"type":31,"value":806}," build/envsetup.sh\n",{"type":26,"tag":179,"props":808,"children":810},{"className":181,"code":809,"language":183,"meta":184,"style":184},"# 同步Pixel 3a原始碼\nbreakfast sargo\n",[811],{"type":26,"tag":187,"props":812,"children":813},{"__ignoreMap":184},[814,822],{"type":26,"tag":191,"props":815,"children":816},{"class":193,"line":194},[817],{"type":26,"tag":191,"props":818,"children":819},{"style":198},[820],{"type":31,"value":821},"# 同步Pixel 3a原始碼\n",{"type":26,"tag":191,"props":823,"children":824},{"class":193,"line":204},[825,830],{"type":26,"tag":191,"props":826,"children":827},{"style":208},[828],{"type":31,"value":829},"breakfast",{"type":26,"tag":191,"props":831,"children":832},{"style":214},[833],{"type":31,"value":834}," sargo\n",{"type":26,"tag":27,"props":836,"children":837},{},[838],{"type":31,"value":839},"執行指令後，會開始取得 LineageOS 原始碼庫中有關 Pixel 3a 的部份，最後應該會收到錯誤訊息：",{"type":26,"tag":179,"props":841,"children":845},{"className":842,"code":843,"language":844,"meta":184,"style":184},"language-console shiki shiki-themes github-dark","** Don't have a product spec for: 'lineage_sargo'\n** Do you have the right repo manifest?\n","console",[846],{"type":26,"tag":187,"props":847,"children":848},{"__ignoreMap":184},[849,857],{"type":26,"tag":191,"props":850,"children":851},{"class":193,"line":194},[852],{"type":26,"tag":191,"props":853,"children":854},{"style":446},[855],{"type":31,"value":856},"** Don't have a product spec for: 'lineage_sargo'\n",{"type":26,"tag":191,"props":858,"children":859},{"class":193,"line":204},[860],{"type":26,"tag":191,"props":861,"children":862},{"style":446},[863],{"type":31,"value":864},"** Do you have the right repo manifest?\n",{"type":26,"tag":27,"props":866,"children":867},{},[868,870,876],{"type":31,"value":869},"可先忽略，只要確定",{"type":26,"tag":187,"props":871,"children":873},{"className":872},[],[874],{"type":31,"value":875},"~/android/lineage/device/google/sargo/extract-files.sh",{"type":31,"value":877},"這個檔案有存在就好。",{"type":26,"tag":179,"props":879,"children":881},{"className":181,"code":880,"language":183,"meta":184,"style":184},"# 確認檔案\nls ~/android/lineage/device/google/sargo/extract-files.sh\n",[882],{"type":26,"tag":187,"props":883,"children":884},{"__ignoreMap":184},[885,893],{"type":26,"tag":191,"props":886,"children":887},{"class":193,"line":194},[888],{"type":26,"tag":191,"props":889,"children":890},{"style":198},[891],{"type":31,"value":892},"# 確認檔案\n",{"type":26,"tag":191,"props":894,"children":895},{"class":193,"line":204},[896,901],{"type":26,"tag":191,"props":897,"children":898},{"style":208},[899],{"type":31,"value":900},"ls",{"type":26,"tag":191,"props":902,"children":903},{"style":214},[904],{"type":31,"value":905}," ~/android/lineage/device/google/sargo/extract-files.sh\n",{"type":26,"tag":60,"props":907,"children":908},{},[],{"type":26,"tag":64,"props":910,"children":912},{"id":911},"提取-pixel-3a-的專有驅動程式",[913],{"type":31,"value":914},"提取 Pixel 3a 的專有驅動程式",{"type":26,"tag":27,"props":916,"children":917},{},[918],{"type":31,"value":919},"接下來要開始提取 Pixel 3a 的驅動程式，步驟稍微複雜一些。",{"type":26,"tag":179,"props":921,"children":923},{"className":181,"code":922,"language":183,"meta":184,"style":184},"# 建立暫存資料以儲存抽出來的驅動程式\nmkdir -p ~/android/system_dump\n",[924],{"type":26,"tag":187,"props":925,"children":926},{"__ignoreMap":184},[927,935],{"type":26,"tag":191,"props":928,"children":929},{"class":193,"line":194},[930],{"type":26,"tag":191,"props":931,"children":932},{"style":198},[933],{"type":31,"value":934},"# 建立暫存資料以儲存抽出來的驅動程式\n",{"type":26,"tag":191,"props":936,"children":937},{"class":193,"line":204},[938,942,946],{"type":26,"tag":191,"props":939,"children":940},{"style":208},[941],{"type":31,"value":602},{"type":26,"tag":191,"props":943,"children":944},{"style":446},[945],{"type":31,"value":607},{"type":26,"tag":191,"props":947,"children":948},{"style":214},[949],{"type":31,"value":950}," ~/android/system_dump\n",{"type":26,"tag":179,"props":952,"children":954},{"className":181,"code":953,"language":183,"meta":184,"style":184},"# 移到資料夾\ncd ~/android/system_dump\n",[955],{"type":26,"tag":187,"props":956,"children":957},{"__ignoreMap":184},[958,966],{"type":26,"tag":191,"props":959,"children":960},{"class":193,"line":194},[961],{"type":26,"tag":191,"props":962,"children":963},{"style":198},[964],{"type":31,"value":965},"# 移到資料夾\n",{"type":26,"tag":191,"props":967,"children":968},{"class":193,"line":204},[969,973],{"type":26,"tag":191,"props":970,"children":971},{"style":446},[972],{"type":31,"value":635},{"type":26,"tag":191,"props":974,"children":975},{"style":214},[976],{"type":31,"value":950},{"type":26,"tag":27,"props":978,"children":979},{},[980,982,988,990,996],{"type":31,"value":981},"從",{"type":26,"tag":34,"props":983,"children":985},{"href":52,"rel":984},[38],[986],{"type":31,"value":987},"官網下載最新的安裝檔",{"type":31,"value":989},"（",{"type":26,"tag":187,"props":991,"children":993},{"className":992},[],[994],{"type":31,"value":995},".zip",{"type":31,"value":997},"），下面指令中的連結可能已過期，要自行更新。",{"type":26,"tag":179,"props":999,"children":1001},{"className":181,"code":1000,"language":183,"meta":184,"style":184},"# 下載安裝檔\nwget https://mirrorbits.lineageos.org/full/sargo/20230919/lineage-19.1-20230919-nightly-sargo-signed.zip\n",[1002],{"type":26,"tag":187,"props":1003,"children":1004},{"__ignoreMap":184},[1005,1013],{"type":26,"tag":191,"props":1006,"children":1007},{"class":193,"line":194},[1008],{"type":26,"tag":191,"props":1009,"children":1010},{"style":198},[1011],{"type":31,"value":1012},"# 下載安裝檔\n",{"type":26,"tag":191,"props":1014,"children":1015},{"class":193,"line":204},[1016,1021],{"type":26,"tag":191,"props":1017,"children":1018},{"style":208},[1019],{"type":31,"value":1020},"wget",{"type":26,"tag":191,"props":1022,"children":1023},{"style":214},[1024],{"type":31,"value":1025}," https://mirrorbits.lineageos.org/full/sargo/20230919/lineage-19.1-20230919-nightly-sargo-signed.zip\n",{"type":26,"tag":27,"props":1027,"children":1028},{},[1029],{"type":31,"value":1030},"接下來要取得可以提取映像檔的程式，並從檔案中提取映像檔。",{"type":26,"tag":179,"props":1032,"children":1034},{"className":181,"code":1033,"language":183,"meta":184,"style":184},"git clone https://github.com/LineageOS/android_tools_extract-utils android/tools/extract-utils\n",[1035],{"type":26,"tag":187,"props":1036,"children":1037},{"__ignoreMap":184},[1038],{"type":26,"tag":191,"props":1039,"children":1040},{"class":193,"line":194},[1041,1045,1050,1055],{"type":26,"tag":191,"props":1042,"children":1043},{"style":208},[1044],{"type":31,"value":472},{"type":26,"tag":191,"props":1046,"children":1047},{"style":214},[1048],{"type":31,"value":1049}," clone",{"type":26,"tag":191,"props":1051,"children":1052},{"style":214},[1053],{"type":31,"value":1054}," https://github.com/LineageOS/android_tools_extract-utils",{"type":26,"tag":191,"props":1056,"children":1057},{"style":214},[1058],{"type":31,"value":1059}," android/tools/extract-utils\n",{"type":26,"tag":179,"props":1061,"children":1063},{"className":181,"code":1062,"language":183,"meta":184,"style":184},"git clone https://github.com/LineageOS/android_system_update_engine android/system/update_engine\n",[1064],{"type":26,"tag":187,"props":1065,"children":1066},{"__ignoreMap":184},[1067],{"type":26,"tag":191,"props":1068,"children":1069},{"class":193,"line":194},[1070,1074,1078,1083],{"type":26,"tag":191,"props":1071,"children":1072},{"style":208},[1073],{"type":31,"value":472},{"type":26,"tag":191,"props":1075,"children":1076},{"style":214},[1077],{"type":31,"value":1049},{"type":26,"tag":191,"props":1079,"children":1080},{"style":214},[1081],{"type":31,"value":1082}," https://github.com/LineageOS/android_system_update_engine",{"type":26,"tag":191,"props":1084,"children":1085},{"style":214},[1086],{"type":31,"value":1087}," android/system/update_engine\n",{"type":26,"tag":179,"props":1089,"children":1091},{"className":181,"code":1090,"language":183,"meta":184,"style":184},"# 從檔案中提取映像檔\npython android/tools/extract-utils/extract_ota.py lineage-19.1-20230919-nightly-sargo-signed.zip\n",[1092],{"type":26,"tag":187,"props":1093,"children":1094},{"__ignoreMap":184},[1095,1103],{"type":26,"tag":191,"props":1096,"children":1097},{"class":193,"line":194},[1098],{"type":26,"tag":191,"props":1099,"children":1100},{"style":198},[1101],{"type":31,"value":1102},"# 從檔案中提取映像檔\n",{"type":26,"tag":191,"props":1104,"children":1105},{"class":193,"line":204},[1106,1111,1116],{"type":26,"tag":191,"props":1107,"children":1108},{"style":208},[1109],{"type":31,"value":1110},"python",{"type":26,"tag":191,"props":1112,"children":1113},{"style":214},[1114],{"type":31,"value":1115}," android/tools/extract-utils/extract_ota.py",{"type":26,"tag":191,"props":1117,"children":1118},{"style":214},[1119],{"type":31,"value":1120}," lineage-19.1-20230919-nightly-sargo-signed.zip\n",{"type":26,"tag":27,"props":1122,"children":1123},{},[1124],{"type":31,"value":1125},"這裡執行可能需要一段時間，期間沒有文字提示要耐心等候，等到完成之後，再執行下面指令來掛載取得的映像檔。",{"type":26,"tag":179,"props":1127,"children":1129},{"className":181,"code":1128,"language":183,"meta":184,"style":184},"# 建立資料夾來提供掛載點\nmkdir system/\n",[1130],{"type":26,"tag":187,"props":1131,"children":1132},{"__ignoreMap":184},[1133,1141],{"type":26,"tag":191,"props":1134,"children":1135},{"class":193,"line":194},[1136],{"type":26,"tag":191,"props":1137,"children":1138},{"style":198},[1139],{"type":31,"value":1140},"# 建立資料夾來提供掛載點\n",{"type":26,"tag":191,"props":1142,"children":1143},{"class":193,"line":204},[1144,1148],{"type":26,"tag":191,"props":1145,"children":1146},{"style":208},[1147],{"type":31,"value":602},{"type":26,"tag":191,"props":1149,"children":1150},{"style":214},[1151],{"type":31,"value":1152}," system/\n",{"type":26,"tag":179,"props":1154,"children":1156},{"className":181,"code":1155,"language":183,"meta":184,"style":184},"sudo mount -o ro system.img system/\n",[1157],{"type":26,"tag":187,"props":1158,"children":1159},{"__ignoreMap":184},[1160],{"type":26,"tag":191,"props":1161,"children":1162},{"class":193,"line":194},[1163,1167,1172,1177,1182,1187],{"type":26,"tag":191,"props":1164,"children":1165},{"style":208},[1166],{"type":31,"value":211},{"type":26,"tag":191,"props":1168,"children":1169},{"style":214},[1170],{"type":31,"value":1171}," mount",{"type":26,"tag":191,"props":1173,"children":1174},{"style":446},[1175],{"type":31,"value":1176}," -o",{"type":26,"tag":191,"props":1178,"children":1179},{"style":214},[1180],{"type":31,"value":1181}," ro",{"type":26,"tag":191,"props":1183,"children":1184},{"style":214},[1185],{"type":31,"value":1186}," system.img",{"type":26,"tag":191,"props":1188,"children":1189},{"style":214},[1190],{"type":31,"value":1152},{"type":26,"tag":179,"props":1192,"children":1194},{"className":181,"code":1193,"language":183,"meta":184,"style":184},"sudo mount -o ro vendor.img system/vendor/\n",[1195],{"type":26,"tag":187,"props":1196,"children":1197},{"__ignoreMap":184},[1198],{"type":26,"tag":191,"props":1199,"children":1200},{"class":193,"line":194},[1201,1205,1209,1213,1217,1222],{"type":26,"tag":191,"props":1202,"children":1203},{"style":208},[1204],{"type":31,"value":211},{"type":26,"tag":191,"props":1206,"children":1207},{"style":214},[1208],{"type":31,"value":1171},{"type":26,"tag":191,"props":1210,"children":1211},{"style":446},[1212],{"type":31,"value":1176},{"type":26,"tag":191,"props":1214,"children":1215},{"style":214},[1216],{"type":31,"value":1181},{"type":26,"tag":191,"props":1218,"children":1219},{"style":214},[1220],{"type":31,"value":1221}," vendor.img",{"type":26,"tag":191,"props":1223,"children":1224},{"style":214},[1225],{"type":31,"value":1226}," system/vendor/\n",{"type":26,"tag":179,"props":1228,"children":1230},{"className":181,"code":1229,"language":183,"meta":184,"style":184},"sudo mount -o ro product.img system/product/\n",[1231],{"type":26,"tag":187,"props":1232,"children":1233},{"__ignoreMap":184},[1234],{"type":26,"tag":191,"props":1235,"children":1236},{"class":193,"line":194},[1237,1241,1245,1249,1253,1258],{"type":26,"tag":191,"props":1238,"children":1239},{"style":208},[1240],{"type":31,"value":211},{"type":26,"tag":191,"props":1242,"children":1243},{"style":214},[1244],{"type":31,"value":1171},{"type":26,"tag":191,"props":1246,"children":1247},{"style":446},[1248],{"type":31,"value":1176},{"type":26,"tag":191,"props":1250,"children":1251},{"style":214},[1252],{"type":31,"value":1181},{"type":26,"tag":191,"props":1254,"children":1255},{"style":214},[1256],{"type":31,"value":1257}," product.img",{"type":26,"tag":191,"props":1259,"children":1260},{"style":214},[1261],{"type":31,"value":1262}," system/product/\n",{"type":26,"tag":179,"props":1264,"children":1266},{"className":181,"code":1265,"language":183,"meta":184,"style":184},"sudo mount -o ro system_ext.img system/system_ext/\n",[1267],{"type":26,"tag":187,"props":1268,"children":1269},{"__ignoreMap":184},[1270],{"type":26,"tag":191,"props":1271,"children":1272},{"class":193,"line":194},[1273,1277,1281,1285,1289,1294],{"type":26,"tag":191,"props":1274,"children":1275},{"style":208},[1276],{"type":31,"value":211},{"type":26,"tag":191,"props":1278,"children":1279},{"style":214},[1280],{"type":31,"value":1171},{"type":26,"tag":191,"props":1282,"children":1283},{"style":446},[1284],{"type":31,"value":1176},{"type":26,"tag":191,"props":1286,"children":1287},{"style":214},[1288],{"type":31,"value":1181},{"type":26,"tag":191,"props":1290,"children":1291},{"style":214},[1292],{"type":31,"value":1293}," system_ext.img",{"type":26,"tag":191,"props":1295,"children":1296},{"style":214},[1297],{"type":31,"value":1298}," system/system_ext/\n",{"type":26,"tag":27,"props":1300,"children":1301},{},[1302],{"type":31,"value":1303},"都掛載完成後，最後就可以從映像檔中提取驅動程式了。提取驅動程式會執行一小段時間，看電腦規格而定，我自己的是大概幾分鐘。",{"type":26,"tag":179,"props":1305,"children":1307},{"className":181,"code":1306,"language":183,"meta":184,"style":184},"# 移到Pixel 3a的原始碼資料夾\ncd ~/android/lineage/device/google/sargo\n",[1308],{"type":26,"tag":187,"props":1309,"children":1310},{"__ignoreMap":184},[1311,1319],{"type":26,"tag":191,"props":1312,"children":1313},{"class":193,"line":194},[1314],{"type":26,"tag":191,"props":1315,"children":1316},{"style":198},[1317],{"type":31,"value":1318},"# 移到Pixel 3a的原始碼資料夾\n",{"type":26,"tag":191,"props":1320,"children":1321},{"class":193,"line":204},[1322,1326],{"type":26,"tag":191,"props":1323,"children":1324},{"style":446},[1325],{"type":31,"value":635},{"type":26,"tag":191,"props":1327,"children":1328},{"style":214},[1329],{"type":31,"value":1330}," ~/android/lineage/device/google/sargo\n",{"type":26,"tag":179,"props":1332,"children":1334},{"className":181,"code":1333,"language":183,"meta":184,"style":184},"# 執行提取驅動程式的指令\n./extract-files.sh ~/android/system_dump/\n",[1335],{"type":26,"tag":187,"props":1336,"children":1337},{"__ignoreMap":184},[1338,1346],{"type":26,"tag":191,"props":1339,"children":1340},{"class":193,"line":194},[1341],{"type":26,"tag":191,"props":1342,"children":1343},{"style":198},[1344],{"type":31,"value":1345},"# 執行提取驅動程式的指令\n",{"type":26,"tag":191,"props":1347,"children":1348},{"class":193,"line":204},[1349,1354],{"type":26,"tag":191,"props":1350,"children":1351},{"style":208},[1352],{"type":31,"value":1353},"./extract-files.sh",{"type":26,"tag":191,"props":1355,"children":1356},{"style":214},[1357],{"type":31,"value":1358}," ~/android/system_dump/\n",{"type":26,"tag":27,"props":1360,"children":1361},{},[1362],{"type":31,"value":1363},"提取完成後，作一些收尾工作：",{"type":26,"tag":179,"props":1365,"children":1367},{"className":181,"code":1366,"language":183,"meta":184,"style":184},"# 卸載剛剛掛載的映像檔\nsudo umount -R ~/android/system_dump/system/\n",[1368],{"type":26,"tag":187,"props":1369,"children":1370},{"__ignoreMap":184},[1371,1379],{"type":26,"tag":191,"props":1372,"children":1373},{"class":193,"line":194},[1374],{"type":26,"tag":191,"props":1375,"children":1376},{"style":198},[1377],{"type":31,"value":1378},"# 卸載剛剛掛載的映像檔\n",{"type":26,"tag":191,"props":1380,"children":1381},{"class":193,"line":204},[1382,1386,1391,1396],{"type":26,"tag":191,"props":1383,"children":1384},{"style":208},[1385],{"type":31,"value":211},{"type":26,"tag":191,"props":1387,"children":1388},{"style":214},[1389],{"type":31,"value":1390}," umount",{"type":26,"tag":191,"props":1392,"children":1393},{"style":446},[1394],{"type":31,"value":1395}," -R",{"type":26,"tag":191,"props":1397,"children":1398},{"style":214},[1399],{"type":31,"value":1400}," ~/android/system_dump/system/\n",{"type":26,"tag":179,"props":1402,"children":1404},{"className":181,"code":1403,"language":183,"meta":184,"style":184},"# 移除用來暫存的資料夾\nrm -rf ~/android/system_dump/\n",[1405],{"type":26,"tag":187,"props":1406,"children":1407},{"__ignoreMap":184},[1408,1416],{"type":26,"tag":191,"props":1409,"children":1410},{"class":193,"line":194},[1411],{"type":26,"tag":191,"props":1412,"children":1413},{"style":198},[1414],{"type":31,"value":1415},"# 移除用來暫存的資料夾\n",{"type":26,"tag":191,"props":1417,"children":1418},{"class":193,"line":204},[1419,1424,1429],{"type":26,"tag":191,"props":1420,"children":1421},{"style":208},[1422],{"type":31,"value":1423},"rm",{"type":26,"tag":191,"props":1425,"children":1426},{"style":446},[1427],{"type":31,"value":1428}," -rf",{"type":26,"tag":191,"props":1430,"children":1431},{"style":214},[1432],{"type":31,"value":1358},{"type":26,"tag":60,"props":1434,"children":1435},{},[],{"type":26,"tag":64,"props":1437,"children":1439},{"id":1438},"編譯",[1440],{"type":31,"value":1438},{"type":26,"tag":27,"props":1442,"children":1443},{},[1444],{"type":31,"value":1445},"首先，確定自己身在 LineageOS 的原始碼資料夾中：",{"type":26,"tag":179,"props":1447,"children":1448},{"className":181,"code":615,"language":183,"meta":184,"style":184},[1449],{"type":26,"tag":187,"props":1450,"children":1451},{"__ignoreMap":184},[1452,1459],{"type":26,"tag":191,"props":1453,"children":1454},{"class":193,"line":194},[1455],{"type":26,"tag":191,"props":1456,"children":1457},{"style":198},[1458],{"type":31,"value":627},{"type":26,"tag":191,"props":1460,"children":1461},{"class":193,"line":204},[1462,1466],{"type":26,"tag":191,"props":1463,"children":1464},{"style":446},[1465],{"type":31,"value":635},{"type":26,"tag":191,"props":1467,"children":1468},{"style":214},[1469],{"type":31,"value":612},{"type":26,"tag":117,"props":1471,"children":1473},{"id":1472},"同步原始碼為最新",[1474],{"type":31,"value":1472},{"type":26,"tag":27,"props":1476,"children":1477},{},[1478,1480,1485],{"type":31,"value":1479},"若是第一次編譯已經沿著上面做過指令，可跳過這個部份直接從「",{"type":26,"tag":129,"props":1481,"children":1483},{"slug":14,"hash":1482},"編譯前的一些設定",[1484],{"type":31,"value":1482},{"type":31,"value":1486},"」開始。",{"type":26,"tag":179,"props":1488,"children":1490},{"className":181,"code":1489,"language":183,"meta":184,"style":184},"# 強制同步原始碼為最新\nrepo sync --force-sync\n",[1491],{"type":26,"tag":187,"props":1492,"children":1493},{"__ignoreMap":184},[1494,1502],{"type":26,"tag":191,"props":1495,"children":1496},{"class":193,"line":194},[1497],{"type":26,"tag":191,"props":1498,"children":1499},{"style":198},[1500],{"type":31,"value":1501},"# 強制同步原始碼為最新\n",{"type":26,"tag":191,"props":1503,"children":1504},{"class":193,"line":204},[1505,1509,1514],{"type":26,"tag":191,"props":1506,"children":1507},{"style":208},[1508],{"type":31,"value":662},{"type":26,"tag":191,"props":1510,"children":1511},{"style":214},[1512],{"type":31,"value":1513}," sync",{"type":26,"tag":191,"props":1515,"children":1516},{"style":446},[1517],{"type":31,"value":1518}," --force-sync\n",{"type":26,"tag":179,"props":1520,"children":1521},{"className":181,"code":781,"language":183,"meta":184,"style":184},[1522],{"type":26,"tag":187,"props":1523,"children":1524},{"__ignoreMap":184},[1525,1532],{"type":26,"tag":191,"props":1526,"children":1527},{"class":193,"line":194},[1528],{"type":26,"tag":191,"props":1529,"children":1530},{"style":198},[1531],{"type":31,"value":793},{"type":26,"tag":191,"props":1533,"children":1534},{"class":193,"line":204},[1535,1539],{"type":26,"tag":191,"props":1536,"children":1537},{"style":446},[1538],{"type":31,"value":801},{"type":26,"tag":191,"props":1540,"children":1541},{"style":214},[1542],{"type":31,"value":806},{"type":26,"tag":179,"props":1544,"children":1546},{"className":181,"code":1545,"language":183,"meta":184,"style":184},"# 再次同步Pixel 3a原始碼為最新\nbreakfast sargo\n",[1547],{"type":26,"tag":187,"props":1548,"children":1549},{"__ignoreMap":184},[1550,1558],{"type":26,"tag":191,"props":1551,"children":1552},{"class":193,"line":194},[1553],{"type":26,"tag":191,"props":1554,"children":1555},{"style":198},[1556],{"type":31,"value":1557},"# 再次同步Pixel 3a原始碼為最新\n",{"type":26,"tag":191,"props":1559,"children":1560},{"class":193,"line":204},[1561,1565],{"type":26,"tag":191,"props":1562,"children":1563},{"style":208},[1564],{"type":31,"value":829},{"type":26,"tag":191,"props":1566,"children":1567},{"style":214},[1568],{"type":31,"value":834},{"type":26,"tag":117,"props":1570,"children":1571},{"id":1482},[1572],{"type":31,"value":1482},{"type":26,"tag":179,"props":1574,"children":1576},{"className":181,"code":1575,"language":183,"meta":184,"style":184},"# 啟用CCACHE\nexport USE_CCACHE=1\n",[1577],{"type":26,"tag":187,"props":1578,"children":1579},{"__ignoreMap":184},[1580,1588],{"type":26,"tag":191,"props":1581,"children":1582},{"class":193,"line":194},[1583],{"type":26,"tag":191,"props":1584,"children":1585},{"style":198},[1586],{"type":31,"value":1587},"# 啟用CCACHE\n",{"type":26,"tag":191,"props":1589,"children":1590},{"class":193,"line":204},[1591,1597,1603,1608],{"type":26,"tag":191,"props":1592,"children":1594},{"style":1593},"--shiki-default:#F97583",[1595],{"type":31,"value":1596},"export",{"type":26,"tag":191,"props":1598,"children":1600},{"style":1599},"--shiki-default:#E1E4E8",[1601],{"type":31,"value":1602}," USE_CCACHE",{"type":26,"tag":191,"props":1604,"children":1605},{"style":1593},[1606],{"type":31,"value":1607},"=",{"type":26,"tag":191,"props":1609,"children":1610},{"style":446},[1611],{"type":31,"value":1612},"1\n",{"type":26,"tag":179,"props":1614,"children":1616},{"className":181,"code":1615,"language":183,"meta":184,"style":184},"# 設定CCACHE\nccache -M 50G\n",[1617],{"type":26,"tag":187,"props":1618,"children":1619},{"__ignoreMap":184},[1620,1628],{"type":26,"tag":191,"props":1621,"children":1622},{"class":193,"line":194},[1623],{"type":26,"tag":191,"props":1624,"children":1625},{"style":198},[1626],{"type":31,"value":1627},"# 設定CCACHE\n",{"type":26,"tag":191,"props":1629,"children":1630},{"class":193,"line":204},[1631,1636,1641],{"type":26,"tag":191,"props":1632,"children":1633},{"style":208},[1634],{"type":31,"value":1635},"ccache",{"type":26,"tag":191,"props":1637,"children":1638},{"style":446},[1639],{"type":31,"value":1640}," -M",{"type":26,"tag":191,"props":1642,"children":1643},{"style":214},[1644],{"type":31,"value":1645}," 50G\n",{"type":26,"tag":179,"props":1647,"children":1649},{"className":181,"code":1648,"language":183,"meta":184,"style":184},"# 設定CCACHE壓縮\nccache -o compression=true\n",[1650],{"type":26,"tag":187,"props":1651,"children":1652},{"__ignoreMap":184},[1653,1661],{"type":26,"tag":191,"props":1654,"children":1655},{"class":193,"line":194},[1656],{"type":26,"tag":191,"props":1657,"children":1658},{"style":198},[1659],{"type":31,"value":1660},"# 設定CCACHE壓縮\n",{"type":26,"tag":191,"props":1662,"children":1663},{"class":193,"line":204},[1664,1668,1672,1677],{"type":26,"tag":191,"props":1665,"children":1666},{"style":208},[1667],{"type":31,"value":1635},{"type":26,"tag":191,"props":1669,"children":1670},{"style":446},[1671],{"type":31,"value":1176},{"type":26,"tag":191,"props":1673,"children":1674},{"style":214},[1675],{"type":31,"value":1676}," compression=",{"type":26,"tag":191,"props":1678,"children":1679},{"style":446},[1680],{"type":31,"value":1681},"true\n",{"type":26,"tag":117,"props":1683,"children":1685},{"id":1684},"開始編譯",[1686],{"type":31,"value":1684},{"type":26,"tag":27,"props":1688,"children":1689},{},[1690],{"type":31,"value":1691},"接下來就是重頭戲——編譯了，這個指令執行下去之後就會開始編譯，期間會大量消耗系統資源，除非你的電腦是頂級硬體否則至少也要跑個幾小時，建議就把他放著，人去做其他事情吧，不要同時使用電腦。",{"type":26,"tag":179,"props":1693,"children":1695},{"className":181,"code":1694,"language":183,"meta":184,"style":184},"brunch sargo\n",[1696],{"type":26,"tag":187,"props":1697,"children":1698},{"__ignoreMap":184},[1699],{"type":26,"tag":191,"props":1700,"children":1701},{"class":193,"line":194},[1702,1707],{"type":26,"tag":191,"props":1703,"children":1704},{"style":208},[1705],{"type":31,"value":1706},"brunch",{"type":26,"tag":191,"props":1708,"children":1709},{"style":214},[1710],{"type":31,"value":834},{"type":26,"tag":27,"props":1712,"children":1713},{},[1714,1716,1722,1724,1730,1732,1738],{"type":31,"value":1715},"在大功告成之後，編譯好的安裝檔會放在",{"type":26,"tag":187,"props":1717,"children":1719},{"className":1718},[],[1720],{"type":31,"value":1721},"~/android/lineage/out/target/product/sargo",{"type":31,"value":1723},"裡面，名稱會長得像這樣：",{"type":26,"tag":187,"props":1725,"children":1727},{"className":1726},[],[1728],{"type":31,"value":1729},"lineage-20.0-20230415-UNOFFICIAL-sargo.zip ",{"type":31,"value":1731},"，日期會根據編譯日期而不同。而 recovery 檔案會是",{"type":26,"tag":187,"props":1733,"children":1735},{"className":1734},[],[1736],{"type":31,"value":1737},"boot.img",{"type":31,"value":1739},"。",{"type":26,"tag":27,"props":1741,"children":1742},{},[1743,1745,1749],{"type":31,"value":1744},"若隔了一段時間要再重新編譯，直接從",{"type":26,"tag":129,"props":1746,"children":1747},{"slug":14,"hash":1438},[1748],{"type":31,"value":1438},{"type":31,"value":1750},"再執行一次就好了。",{"type":26,"tag":60,"props":1752,"children":1753},{},[],{"type":26,"tag":64,"props":1755,"children":1757},{"id":1756},"全新安裝升級或更新",[1758],{"type":31,"value":1759},"全新安裝、升級或更新",{"type":26,"tag":27,"props":1761,"children":1762},{},[1763,1765,1772,1774,1781,1783,1790],{"type":31,"value":1764},"根據不同狀況，Lineageos 官方 WIKI 的操作說明也不同，可以分成",{"type":26,"tag":34,"props":1766,"children":1769},{"href":1767,"rel":1768},"https://wiki.lineageos.org/devices/sargo/install",[38],[1770],{"type":31,"value":1771},"全新安裝",{"type":31,"value":1773},"、",{"type":26,"tag":34,"props":1775,"children":1778},{"href":1776,"rel":1777},"https://wiki.lineageos.org/devices/sargo/upgrade",[38],[1779],{"type":31,"value":1780},"升級",{"type":31,"value":1782},"或",{"type":26,"tag":34,"props":1784,"children":1787},{"href":1785,"rel":1786},"https://wiki.lineageos.org/devices/sargo/update",[38],[1788],{"type":31,"value":1789},"更新",{"type":31,"value":1791},"三種。",{"type":26,"tag":117,"props":1793,"children":1795},{"id":1794},"從-191-升級",[1796],{"type":31,"value":1797},"從 19.1 升級",{"type":26,"tag":27,"props":1799,"children":1800},{},[1801],{"type":31,"value":1802},"升級的部分成功的話是可以保留應用程式跟資料的（就跟我們升級沒有刷 ROM 的手機一樣），這裏自己覺得要特別注意的部分，就是 Gapps 以及任何你有額外裝的東西（例如前面說的 ih8sn），要在升級後再刷入一次，Gapps 要下載對應 20.0 的版本。而且要跟在全新安裝時一樣，升級完 Lineageos 之後先直接重新啟動到 Recovery 一次。",{"type":26,"tag":27,"props":1804,"children":1805},{},[1806,1808,1814],{"type":31,"value":1807},"沒有試過直接從 18.1 更新，建議先安裝目前",{"type":26,"tag":34,"props":1809,"children":1811},{"href":52,"rel":1810},[38],[1812],{"type":31,"value":1813},"Lineageos 官方最新的 19.1 版本",{"type":31,"value":1815},"，再進行更新。",{"type":26,"tag":117,"props":1817,"children":1819},{"id":1818},"從-200-更新",[1820],{"type":31,"value":1821},"從 20.0 更新",{"type":26,"tag":27,"props":1823,"children":1824},{},[1825,1827,1833,1835,1841,1843,1849],{"type":31,"value":1826},"如果本來就是 20.0，要更新到較新的版本，要注意的是因為現在 Pixel 3a 尚未有官方 20.0 的版本，在官方操作說明中的指令",{"type":26,"tag":187,"props":1828,"children":1830},{"className":1829},[],[1831],{"type":31,"value":1832},"wget https://raw.githubusercontent.com/LineageOS/android_packages_apps_Updater/lineage-19.1/push-update.sh",{"type":31,"value":1834},"的",{"type":26,"tag":187,"props":1836,"children":1838},{"className":1837},[],[1839],{"type":31,"value":1840},"lineage-19.1",{"type":31,"value":1842},"要改成",{"type":26,"tag":187,"props":1844,"children":1846},{"className":1845},[],[1847],{"type":31,"value":1848},"lineage-20.0",{"type":31,"value":1739},{"type":26,"tag":60,"props":1851,"children":1852},{},[],{"type":26,"tag":64,"props":1854,"children":1856},{"id":1855},"後記",[1857],{"type":31,"value":1855},{"type":26,"tag":27,"props":1859,"children":1860},{},[1861],{"type":31,"value":1862},"這一路風風雨雨（？）真的是折騰滿久，尤其是最後編譯的時候，因為時間很長，中途突然給你出錯又要整個重來，除錯了好一陣子。雖然更新不像直接使用官方發布版本方便，要先打開開發人員模式，但使用最新版本的感覺就是爽（？）。",{"type":26,"tag":27,"props":1864,"children":1865},{},[1866],{"type":31,"value":1867},"不過……誠心建議如果不是特別想要追求最新版本，真的還是乖乖等官方發佈就好。",{"type":26,"tag":60,"props":1869,"children":1870},{},[],{"type":26,"tag":64,"props":1872,"children":1874},{"id":1873},"參考文獻",[1875],{"type":31,"value":1873},{"type":26,"tag":138,"props":1877,"children":1878},{},[1879,1888],{"type":26,"tag":101,"props":1880,"children":1881},{},[1882],{"type":26,"tag":34,"props":1883,"children":1885},{"href":76,"rel":1884},[38],[1886],{"type":31,"value":1887},"Build for sargo",{"type":26,"tag":101,"props":1889,"children":1890},{},[1891],{"type":26,"tag":34,"props":1892,"children":1895},{"href":1893,"rel":1894},"https://wiki.lineageos.org/extracting_blobs_from_zips#extracting-proprietary-blobs-from-payload-based-otas",[38],[1896],{"type":31,"value":1897},"Extracting proprietary blobs from LineageOS zip files",{"type":26,"tag":1899,"props":1900,"children":1901},"style",{},[1902],{"type":31,"value":1903},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":184,"searchDepth":204,"depth":204,"links":1905},[1906,1907,1912,1913,1917,1918,1923,1927,1928],{"id":66,"depth":204,"text":66},{"id":88,"depth":204,"text":88,"children":1908},[1909,1911],{"id":119,"depth":1910,"text":122},3,{"id":162,"depth":1910,"text":162},{"id":175,"depth":204,"text":175},{"id":570,"depth":204,"text":573,"children":1914},[1915,1916],{"id":576,"depth":1910,"text":579},{"id":775,"depth":1910,"text":778},{"id":911,"depth":204,"text":914},{"id":1438,"depth":204,"text":1438,"children":1919},[1920,1921,1922],{"id":1472,"depth":1910,"text":1472},{"id":1482,"depth":1910,"text":1482},{"id":1684,"depth":1910,"text":1684},{"id":1756,"depth":204,"text":1759,"children":1924},[1925,1926],{"id":1794,"depth":1910,"text":1797},{"id":1818,"depth":1910,"text":1821},{"id":1855,"depth":204,"text":1855},{"id":1873,"depth":204,"text":1873},"調整Ubuntu中的SWAP大小",[1931,1945,1957],{"title":1932,"description":1933,"tags":1934,"img":1936,"readingTime":1937,"createdAt":1942,"updatedAt":1943,"slug":1944},"使用Fedora刷Pixel 3a的LineageOS 過程紀錄","總之呢，官方公佈不保證在 5 月之後還會收到更新，而網路則說 7 月會迎來最後一次更新，因為手機狀況都還滿健康的，最愛保留舊手機舊電腦的我，就想說要來刷機了。",[1935,17,18,19,20],"fedora","924/ioKHUr.jpg",{"text":1938,"minutes":1939,"time":1940,"words":1941},"13 min read",12.61,756600,2522,"2023-01-02T11:14:51.000Z","2023-12-11T10:19:13.000Z","pixel3a_custom_rom",{"title":1946,"description":1947,"img":1948,"tags":1949,"readingTime":1950,"createdAt":1955,"updatedAt":1943,"slug":1956},"在Fedora 38編譯Pixel 3a的LineageOS","本篇文章是試圖移植之前的文章：的過程至 Fedora 上的心得紀錄，畢竟自己平常主要使用的系統為 Fedora，想說都是 Linux 應該是可以移植過來。","924/LsYE8j.jpg",[1935,17,18,19,20],{"text":1951,"minutes":1952,"time":1953,"words":1954},"3 min read",2.765,165900,553,"2023-04-07T09:03:17.000Z","fedora_lineageos_sargo",{"title":1929,"description":1958,"img":1959,"tags":1960,"readingTime":1962,"createdAt":12,"updatedAt":1967,"slug":131},"在Ubuntu 中嘗試編譯 LineageOS時，因為實體記憶體不足的關係，上網查了一下資料發現或許能透過增加虛擬記憶體 SWAP 來解決，所以就紀錄了下來。","924/Ld14Ra.jpg",[16,1961],"swap",{"text":1963,"minutes":1964,"time":1965,"words":1966},"1 min read",0.89,53400,178,"2023-12-11T03:54:57.000Z",1742196635847]