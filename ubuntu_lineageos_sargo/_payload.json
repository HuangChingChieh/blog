[{"data":1,"prerenderedAt":1989},["ShallowReactive",2],{"ubuntu_lineageos_sargo":3,"Related_ubuntu_lineageos_sargo":1950,"title|ubuntu_swap_resize":1978,"title|ubuntu_lineageos_sargo":8},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"tags":10,"img":16,"category":17,"readingTime":18,"excerpt":23,"body":45,"_type":1942,"_id":1943,"_source":1944,"_file":1945,"_stem":1946,"_extension":1947,"createdAt":1948,"updatedAt":1949,"slug":1494},"/articles/2023/ubuntu_lineageos_sargo","2023",false,"","在Ubuntu 22.04編譯Pixel 3a的LineageOS 20.0","之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了 XDA 看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。",[11,12,13,14,15],"ubuntu","android","custom rom","Gooel Pixel 3a","lineageos","922/DxakSn.jpg","linux",{"text":19,"minutes":20,"time":21,"words":22},"9 min read",8.785,527100,1757,{"type":24,"children":25},"root",[26],{"type":27,"tag":28,"props":29,"children":30},"element","p",{},[31,34,43],{"type":32,"value":33},"text","之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了 ",{"type":27,"tag":35,"props":36,"children":40},"a",{"href":37,"rel":38},"https://forum.xda-developers.com/t/official-lineageos-19-1-for-the-google-pixel-3a.4436933/post-88303289",[39],"nofollow",[41],{"type":32,"value":42},"XDA",{"type":32,"value":44}," 看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。",{"type":24,"children":46,"toc":1917},[47,57,72,76,82,96,99,104,109,129,136,150,173,178,183,186,191,235,462,505,545,577,580,586,592,625,652,680,732,737,764,785,791,819,847,852,877,890,918,921,927,932,963,989,1010,1038,1043,1072,1100,1133,1138,1165,1203,1239,1275,1311,1316,1343,1371,1376,1413,1445,1448,1453,1458,1482,1487,1500,1532,1556,1582,1586,1626,1659,1695,1700,1705,1724,1753,1764,1767,1773,1805,1811,1816,1829,1835,1863,1866,1871,1876,1881,1884,1889,1911],{"type":27,"tag":28,"props":48,"children":49},{},[50,51,56],{"type":32,"value":33},{"type":27,"tag":35,"props":52,"children":54},{"href":37,"rel":53},[39],[55],{"type":32,"value":42},{"type":32,"value":44},{"type":27,"tag":58,"props":59,"children":60},"article-note",{},[61,63,70],{"type":32,"value":62},"\n雖然 eSIM 問題仍然存在，但目前官方已將 Pixel 3a 的官方版本升到 LineageOS 20.0 囉！若只是單純要升級的朋友，可直接\n",{"type":27,"tag":35,"props":64,"children":67},{"href":65,"rel":66},"https://download.lineageos.org/devices/sargo/builds",[39],[68],{"type":32,"value":69},"下載官方編譯的 ROM",{"type":32,"value":71},"\n就好。\n",{"type":27,"tag":73,"props":74,"children":75},"hr",{},[],{"type":27,"tag":77,"props":78,"children":80},"h2",{"id":79},"免責聲明",[81],{"type":32,"value":79},{"type":27,"tag":28,"props":83,"children":84},{},[85,87,94],{"type":32,"value":86},"本篇的內容是參考",{"type":27,"tag":35,"props":88,"children":91},{"href":89,"rel":90},"https://wiki.lineageos.org/devices/sargo/build",[39],[92],{"type":32,"value":93},"官方文件",{"type":32,"value":95},"的編譯過程紀錄，內容可能有所出入，請斟酌服用，因本篇文章內容錯誤導致手機損壞，本人不負任何責任。",{"type":27,"tag":73,"props":97,"children":98},{},[],{"type":27,"tag":77,"props":100,"children":102},{"id":101},"硬體需求",[103],{"type":32,"value":101},{"type":27,"tag":28,"props":105,"children":106},{},[107],{"type":32,"value":108},"根據官方文件，要編譯 LineageOS 20.0 的硬體需求如下：",{"type":27,"tag":110,"props":111,"children":112},"ul",{},[113,119,124],{"type":27,"tag":114,"props":115,"children":116},"li",{},[117],{"type":32,"value":118},"CPU：64 位元處理器",{"type":27,"tag":114,"props":120,"children":121},{},[122],{"type":32,"value":123},"RAM：32GB 以上",{"type":27,"tag":114,"props":125,"children":126},{},[127],{"type":32,"value":128},"硬碟：300GB 以上的可用空間，建議至少 SSD。",{"type":27,"tag":130,"props":131,"children":133},"h3",{"id":132},"ram",[134],{"type":32,"value":135},"RAM",{"type":27,"tag":28,"props":137,"children":138},{},[139,141,148],{"type":32,"value":140},"若 RAM 不足 32GB，可以嘗試透過",{"type":27,"tag":142,"props":143,"children":145},"article-inner-link",{"slug":144},"ubuntu_swap_resize",[146],{"type":32,"value":147},"增加 SWAP 大小",{"type":32,"value":149},"彌補主記憶體的不足編譯看看。我在以下兩種情境中嘗試過將 SWAP 直接增加到 32GB，皆可編譯成功，提供參考。",{"type":27,"tag":151,"props":152,"children":153},"ol",{},[154,168],{"type":27,"tag":114,"props":155,"children":156},{},[157,159,166],{"type":32,"value":158},"在",{"type":27,"tag":35,"props":160,"children":163},{"href":161,"rel":162},"https://www.linode.com/",[39],[164],{"type":32,"value":165},"Linode",{"type":32,"value":167},"開 RAM 只有 16GB 的 Ubuntu 22.04 雲端機",{"type":27,"tag":114,"props":169,"children":170},{},[171],{"type":32,"value":172},"在 RAM 有 32GB 的 Windows 上使用 Ubuntu 22.04 WSL2（預設 RAM 只有 Windows 的一半）",{"type":27,"tag":130,"props":174,"children":176},{"id":175},"硬碟",[177],{"type":32,"value":175},{"type":27,"tag":28,"props":179,"children":180},{},[181],{"type":32,"value":182},"我使用同一臺桌機（CPU 爲 AMD R3-3100），SSD 以及 HDD 的編譯時間差異是一倍。所以建議還是乖乖使用 SSD 比較好。",{"type":27,"tag":73,"props":184,"children":185},{},[],{"type":27,"tag":77,"props":187,"children":189},{"id":188},"建立編譯環境",[190],{"type":32,"value":188},{"type":27,"tag":192,"props":193,"children":197},"pre",{"className":194,"code":195,"language":196,"meta":7,"style":7},"language-bash shiki shiki-themes github-dark","# 更新一下套件庫\nsudo apt update\n","bash",[198],{"type":27,"tag":199,"props":200,"children":201},"code",{"__ignoreMap":7},[202,214],{"type":27,"tag":203,"props":204,"children":207},"span",{"class":205,"line":206},"line",1,[208],{"type":27,"tag":203,"props":209,"children":211},{"style":210},"--shiki-default:#6A737D",[212],{"type":32,"value":213},"# 更新一下套件庫\n",{"type":27,"tag":203,"props":215,"children":217},{"class":205,"line":216},2,[218,224,230],{"type":27,"tag":203,"props":219,"children":221},{"style":220},"--shiki-default:#B392F0",[222],{"type":32,"value":223},"sudo",{"type":27,"tag":203,"props":225,"children":227},{"style":226},"--shiki-default:#9ECBFF",[228],{"type":32,"value":229}," apt",{"type":27,"tag":203,"props":231,"children":232},{"style":226},[233],{"type":32,"value":234}," update\n",{"type":27,"tag":192,"props":236,"children":238},{"className":194,"code":237,"language":196,"meta":7,"style":7},"# 安裝編譯需要的套件\nsudo apt install bc bison build-essential ccache curl flex g++-multilib gcc-multilib git git-lfs gnupg gperf imagemagick lib32ncurses5-dev lib32readline-dev lib32z1-dev libelf-dev liblz4-tool libncurses5 libncurses5-dev libsdl1.2-dev libssl-dev libxml2 libxml2-utils lzop pngcrush rsync schedtool squashfs-tools xsltproc zip zlib1g-dev openjdk-11-jdk python3 repo python-is-python3 wget python3-protobuf -y\n",[239],{"type":27,"tag":199,"props":240,"children":241},{"__ignoreMap":7},[242,250],{"type":27,"tag":203,"props":243,"children":244},{"class":205,"line":206},[245],{"type":27,"tag":203,"props":246,"children":247},{"style":210},[248],{"type":32,"value":249},"# 安裝編譯需要的套件\n",{"type":27,"tag":203,"props":251,"children":252},{"class":205,"line":216},[253,257,261,266,271,276,281,286,291,296,301,306,311,316,321,326,331,336,341,346,351,356,361,366,371,376,381,386,391,396,401,406,411,416,421,426,431,436,441,446,451,456],{"type":27,"tag":203,"props":254,"children":255},{"style":220},[256],{"type":32,"value":223},{"type":27,"tag":203,"props":258,"children":259},{"style":226},[260],{"type":32,"value":229},{"type":27,"tag":203,"props":262,"children":263},{"style":226},[264],{"type":32,"value":265}," install",{"type":27,"tag":203,"props":267,"children":268},{"style":226},[269],{"type":32,"value":270}," bc",{"type":27,"tag":203,"props":272,"children":273},{"style":226},[274],{"type":32,"value":275}," bison",{"type":27,"tag":203,"props":277,"children":278},{"style":226},[279],{"type":32,"value":280}," build-essential",{"type":27,"tag":203,"props":282,"children":283},{"style":226},[284],{"type":32,"value":285}," ccache",{"type":27,"tag":203,"props":287,"children":288},{"style":226},[289],{"type":32,"value":290}," curl",{"type":27,"tag":203,"props":292,"children":293},{"style":226},[294],{"type":32,"value":295}," flex",{"type":27,"tag":203,"props":297,"children":298},{"style":226},[299],{"type":32,"value":300}," g++-multilib",{"type":27,"tag":203,"props":302,"children":303},{"style":226},[304],{"type":32,"value":305}," gcc-multilib",{"type":27,"tag":203,"props":307,"children":308},{"style":226},[309],{"type":32,"value":310}," git",{"type":27,"tag":203,"props":312,"children":313},{"style":226},[314],{"type":32,"value":315}," git-lfs",{"type":27,"tag":203,"props":317,"children":318},{"style":226},[319],{"type":32,"value":320}," gnupg",{"type":27,"tag":203,"props":322,"children":323},{"style":226},[324],{"type":32,"value":325}," gperf",{"type":27,"tag":203,"props":327,"children":328},{"style":226},[329],{"type":32,"value":330}," imagemagick",{"type":27,"tag":203,"props":332,"children":333},{"style":226},[334],{"type":32,"value":335}," lib32ncurses5-dev",{"type":27,"tag":203,"props":337,"children":338},{"style":226},[339],{"type":32,"value":340}," lib32readline-dev",{"type":27,"tag":203,"props":342,"children":343},{"style":226},[344],{"type":32,"value":345}," lib32z1-dev",{"type":27,"tag":203,"props":347,"children":348},{"style":226},[349],{"type":32,"value":350}," libelf-dev",{"type":27,"tag":203,"props":352,"children":353},{"style":226},[354],{"type":32,"value":355}," liblz4-tool",{"type":27,"tag":203,"props":357,"children":358},{"style":226},[359],{"type":32,"value":360}," libncurses5",{"type":27,"tag":203,"props":362,"children":363},{"style":226},[364],{"type":32,"value":365}," libncurses5-dev",{"type":27,"tag":203,"props":367,"children":368},{"style":226},[369],{"type":32,"value":370}," libsdl1.2-dev",{"type":27,"tag":203,"props":372,"children":373},{"style":226},[374],{"type":32,"value":375}," libssl-dev",{"type":27,"tag":203,"props":377,"children":378},{"style":226},[379],{"type":32,"value":380}," libxml2",{"type":27,"tag":203,"props":382,"children":383},{"style":226},[384],{"type":32,"value":385}," libxml2-utils",{"type":27,"tag":203,"props":387,"children":388},{"style":226},[389],{"type":32,"value":390}," lzop",{"type":27,"tag":203,"props":392,"children":393},{"style":226},[394],{"type":32,"value":395}," pngcrush",{"type":27,"tag":203,"props":397,"children":398},{"style":226},[399],{"type":32,"value":400}," rsync",{"type":27,"tag":203,"props":402,"children":403},{"style":226},[404],{"type":32,"value":405}," schedtool",{"type":27,"tag":203,"props":407,"children":408},{"style":226},[409],{"type":32,"value":410}," squashfs-tools",{"type":27,"tag":203,"props":412,"children":413},{"style":226},[414],{"type":32,"value":415}," xsltproc",{"type":27,"tag":203,"props":417,"children":418},{"style":226},[419],{"type":32,"value":420}," zip",{"type":27,"tag":203,"props":422,"children":423},{"style":226},[424],{"type":32,"value":425}," zlib1g-dev",{"type":27,"tag":203,"props":427,"children":428},{"style":226},[429],{"type":32,"value":430}," openjdk-11-jdk",{"type":27,"tag":203,"props":432,"children":433},{"style":226},[434],{"type":32,"value":435}," python3",{"type":27,"tag":203,"props":437,"children":438},{"style":226},[439],{"type":32,"value":440}," repo",{"type":27,"tag":203,"props":442,"children":443},{"style":226},[444],{"type":32,"value":445}," python-is-python3",{"type":27,"tag":203,"props":447,"children":448},{"style":226},[449],{"type":32,"value":450}," wget",{"type":27,"tag":203,"props":452,"children":453},{"style":226},[454],{"type":32,"value":455}," python3-protobuf",{"type":27,"tag":203,"props":457,"children":459},{"style":458},"--shiki-default:#79B8FF",[460],{"type":32,"value":461}," -y\n",{"type":27,"tag":192,"props":463,"children":465},{"className":194,"code":464,"language":196,"meta":7,"style":7},"# 設定git身份(email)\ngit config --global user.email \"you@example.com\"\n",[466],{"type":27,"tag":199,"props":467,"children":468},{"__ignoreMap":7},[469,477],{"type":27,"tag":203,"props":470,"children":471},{"class":205,"line":206},[472],{"type":27,"tag":203,"props":473,"children":474},{"style":210},[475],{"type":32,"value":476},"# 設定git身份(email)\n",{"type":27,"tag":203,"props":478,"children":479},{"class":205,"line":216},[480,485,490,495,500],{"type":27,"tag":203,"props":481,"children":482},{"style":220},[483],{"type":32,"value":484},"git",{"type":27,"tag":203,"props":486,"children":487},{"style":226},[488],{"type":32,"value":489}," config",{"type":27,"tag":203,"props":491,"children":492},{"style":458},[493],{"type":32,"value":494}," --global",{"type":27,"tag":203,"props":496,"children":497},{"style":226},[498],{"type":32,"value":499}," user.email",{"type":27,"tag":203,"props":501,"children":502},{"style":226},[503],{"type":32,"value":504}," \"you@example.com\"\n",{"type":27,"tag":192,"props":506,"children":508},{"className":194,"code":507,"language":196,"meta":7,"style":7},"# 設定git身份(名稱)\ngit config --global user.name \"Your Name\"\n",[509],{"type":27,"tag":199,"props":510,"children":511},{"__ignoreMap":7},[512,520],{"type":27,"tag":203,"props":513,"children":514},{"class":205,"line":206},[515],{"type":27,"tag":203,"props":516,"children":517},{"style":210},[518],{"type":32,"value":519},"# 設定git身份(名稱)\n",{"type":27,"tag":203,"props":521,"children":522},{"class":205,"line":216},[523,527,531,535,540],{"type":27,"tag":203,"props":524,"children":525},{"style":220},[526],{"type":32,"value":484},{"type":27,"tag":203,"props":528,"children":529},{"style":226},[530],{"type":32,"value":489},{"type":27,"tag":203,"props":532,"children":533},{"style":458},[534],{"type":32,"value":494},{"type":27,"tag":203,"props":536,"children":537},{"style":226},[538],{"type":32,"value":539}," user.name",{"type":27,"tag":203,"props":541,"children":542},{"style":226},[543],{"type":32,"value":544}," \"Your Name\"\n",{"type":27,"tag":192,"props":546,"children":548},{"className":194,"code":547,"language":196,"meta":7,"style":7},"# 啟用git的大檔支援\ngit lfs install\n",[549],{"type":27,"tag":199,"props":550,"children":551},{"__ignoreMap":7},[552,560],{"type":27,"tag":203,"props":553,"children":554},{"class":205,"line":206},[555],{"type":27,"tag":203,"props":556,"children":557},{"style":210},[558],{"type":32,"value":559},"# 啟用git的大檔支援\n",{"type":27,"tag":203,"props":561,"children":562},{"class":205,"line":216},[563,567,572],{"type":27,"tag":203,"props":564,"children":565},{"style":220},[566],{"type":32,"value":484},{"type":27,"tag":203,"props":568,"children":569},{"style":226},[570],{"type":32,"value":571}," lfs",{"type":27,"tag":203,"props":573,"children":574},{"style":226},[575],{"type":32,"value":576}," install\n",{"type":27,"tag":73,"props":578,"children":579},{},[],{"type":27,"tag":77,"props":581,"children":583},{"id":582},"取得-lineageos-原始碼",[584],{"type":32,"value":585},"取得 LineageOS 原始碼",{"type":27,"tag":130,"props":587,"children":589},{"id":588},"同步-lineageos-的原始碼",[590],{"type":32,"value":591},"同步 LineageOS 的原始碼",{"type":27,"tag":192,"props":593,"children":595},{"className":194,"code":594,"language":196,"meta":7,"style":7},"# 建立資料夾以儲存原始碼\nmkdir -p ~/android/lineage\n",[596],{"type":27,"tag":199,"props":597,"children":598},{"__ignoreMap":7},[599,607],{"type":27,"tag":203,"props":600,"children":601},{"class":205,"line":206},[602],{"type":27,"tag":203,"props":603,"children":604},{"style":210},[605],{"type":32,"value":606},"# 建立資料夾以儲存原始碼\n",{"type":27,"tag":203,"props":608,"children":609},{"class":205,"line":216},[610,615,620],{"type":27,"tag":203,"props":611,"children":612},{"style":220},[613],{"type":32,"value":614},"mkdir",{"type":27,"tag":203,"props":616,"children":617},{"style":458},[618],{"type":32,"value":619}," -p",{"type":27,"tag":203,"props":621,"children":622},{"style":226},[623],{"type":32,"value":624}," ~/android/lineage\n",{"type":27,"tag":192,"props":626,"children":628},{"className":194,"code":627,"language":196,"meta":7,"style":7},"# 移到原始碼資料夾\ncd ~/android/lineage\n",[629],{"type":27,"tag":199,"props":630,"children":631},{"__ignoreMap":7},[632,640],{"type":27,"tag":203,"props":633,"children":634},{"class":205,"line":206},[635],{"type":27,"tag":203,"props":636,"children":637},{"style":210},[638],{"type":32,"value":639},"# 移到原始碼資料夾\n",{"type":27,"tag":203,"props":641,"children":642},{"class":205,"line":216},[643,648],{"type":27,"tag":203,"props":644,"children":645},{"style":458},[646],{"type":32,"value":647},"cd",{"type":27,"tag":203,"props":649,"children":650},{"style":226},[651],{"type":32,"value":624},{"type":27,"tag":192,"props":653,"children":655},{"className":194,"code":654,"language":196,"meta":7,"style":7},"# 初始化 repo\nrepo init\n",[656],{"type":27,"tag":199,"props":657,"children":658},{"__ignoreMap":7},[659,667],{"type":27,"tag":203,"props":660,"children":661},{"class":205,"line":206},[662],{"type":27,"tag":203,"props":663,"children":664},{"style":210},[665],{"type":32,"value":666},"# 初始化 repo\n",{"type":27,"tag":203,"props":668,"children":669},{"class":205,"line":216},[670,675],{"type":27,"tag":203,"props":671,"children":672},{"style":220},[673],{"type":32,"value":674},"repo",{"type":27,"tag":203,"props":676,"children":677},{"style":226},[678],{"type":32,"value":679}," init\n",{"type":27,"tag":192,"props":681,"children":683},{"className":194,"code":682,"language":196,"meta":7,"style":7},"# 設定要同步的套件庫與分支\nrepo init -u https://github.com/LineageOS/android.git -b lineage-20.0 --git-lfs\n",[684],{"type":27,"tag":199,"props":685,"children":686},{"__ignoreMap":7},[687,695],{"type":27,"tag":203,"props":688,"children":689},{"class":205,"line":206},[690],{"type":27,"tag":203,"props":691,"children":692},{"style":210},[693],{"type":32,"value":694},"# 設定要同步的套件庫與分支\n",{"type":27,"tag":203,"props":696,"children":697},{"class":205,"line":216},[698,702,707,712,717,722,727],{"type":27,"tag":203,"props":699,"children":700},{"style":220},[701],{"type":32,"value":674},{"type":27,"tag":203,"props":703,"children":704},{"style":226},[705],{"type":32,"value":706}," init",{"type":27,"tag":203,"props":708,"children":709},{"style":458},[710],{"type":32,"value":711}," -u",{"type":27,"tag":203,"props":713,"children":714},{"style":226},[715],{"type":32,"value":716}," https://github.com/LineageOS/android.git",{"type":27,"tag":203,"props":718,"children":719},{"style":458},[720],{"type":32,"value":721}," -b",{"type":27,"tag":203,"props":723,"children":724},{"style":226},[725],{"type":32,"value":726}," lineage-20.0",{"type":27,"tag":203,"props":728,"children":729},{"style":458},[730],{"type":32,"value":731}," --git-lfs\n",{"type":27,"tag":28,"props":733,"children":734},{},[735],{"type":32,"value":736},"接下來要開始取得原始碼了，這個步驟需要一段時間，會下載滿多的檔案（大概 100 多 GB）。",{"type":27,"tag":192,"props":738,"children":740},{"className":194,"code":739,"language":196,"meta":7,"style":7},"# 開始同步\nrepo sync\n",[741],{"type":27,"tag":199,"props":742,"children":743},{"__ignoreMap":7},[744,752],{"type":27,"tag":203,"props":745,"children":746},{"class":205,"line":206},[747],{"type":27,"tag":203,"props":748,"children":749},{"style":210},[750],{"type":32,"value":751},"# 開始同步\n",{"type":27,"tag":203,"props":753,"children":754},{"class":205,"line":216},[755,759],{"type":27,"tag":203,"props":756,"children":757},{"style":220},[758],{"type":32,"value":674},{"type":27,"tag":203,"props":760,"children":761},{"style":226},[762],{"type":32,"value":763}," sync\n",{"type":27,"tag":28,"props":765,"children":766},{},[767,769,775,777,783],{"type":32,"value":768},"若中間因為有問題而中斷同步，只要進到資料夾",{"type":27,"tag":199,"props":770,"children":772},{"className":771},[],[773],{"type":32,"value":774},"~/android/lineage",{"type":32,"value":776},"再次執行",{"type":27,"tag":199,"props":778,"children":780},{"className":779},[],[781],{"type":32,"value":782},"repo sync",{"type":32,"value":784},"即可。",{"type":27,"tag":130,"props":786,"children":788},{"id":787},"同步-pixel-3a-的原始碼",[789],{"type":32,"value":790},"同步 Pixel 3a 的原始碼",{"type":27,"tag":192,"props":792,"children":794},{"className":194,"code":793,"language":196,"meta":7,"style":7},"# 設定編譯的環境變數\nsource build/envsetup.sh\n",[795],{"type":27,"tag":199,"props":796,"children":797},{"__ignoreMap":7},[798,806],{"type":27,"tag":203,"props":799,"children":800},{"class":205,"line":206},[801],{"type":27,"tag":203,"props":802,"children":803},{"style":210},[804],{"type":32,"value":805},"# 設定編譯的環境變數\n",{"type":27,"tag":203,"props":807,"children":808},{"class":205,"line":216},[809,814],{"type":27,"tag":203,"props":810,"children":811},{"style":458},[812],{"type":32,"value":813},"source",{"type":27,"tag":203,"props":815,"children":816},{"style":226},[817],{"type":32,"value":818}," build/envsetup.sh\n",{"type":27,"tag":192,"props":820,"children":822},{"className":194,"code":821,"language":196,"meta":7,"style":7},"# 同步Pixel 3a原始碼\nbreakfast sargo\n",[823],{"type":27,"tag":199,"props":824,"children":825},{"__ignoreMap":7},[826,834],{"type":27,"tag":203,"props":827,"children":828},{"class":205,"line":206},[829],{"type":27,"tag":203,"props":830,"children":831},{"style":210},[832],{"type":32,"value":833},"# 同步Pixel 3a原始碼\n",{"type":27,"tag":203,"props":835,"children":836},{"class":205,"line":216},[837,842],{"type":27,"tag":203,"props":838,"children":839},{"style":220},[840],{"type":32,"value":841},"breakfast",{"type":27,"tag":203,"props":843,"children":844},{"style":226},[845],{"type":32,"value":846}," sargo\n",{"type":27,"tag":28,"props":848,"children":849},{},[850],{"type":32,"value":851},"執行指令後，會開始取得 LineageOS 原始碼庫中有關 Pixel 3a 的部份，最後應該會收到錯誤訊息：",{"type":27,"tag":192,"props":853,"children":857},{"className":854,"code":855,"language":856,"meta":7,"style":7},"language-plaintext shiki shiki-themes github-dark","** Don't have a product spec for: 'lineage_sargo'\n** Do you have the right repo manifest?\n","plaintext",[858],{"type":27,"tag":199,"props":859,"children":860},{"__ignoreMap":7},[861,869],{"type":27,"tag":203,"props":862,"children":863},{"class":205,"line":206},[864],{"type":27,"tag":203,"props":865,"children":866},{},[867],{"type":32,"value":868},"** Don't have a product spec for: 'lineage_sargo'\n",{"type":27,"tag":203,"props":870,"children":871},{"class":205,"line":216},[872],{"type":27,"tag":203,"props":873,"children":874},{},[875],{"type":32,"value":876},"** Do you have the right repo manifest?\n",{"type":27,"tag":28,"props":878,"children":879},{},[880,882,888],{"type":32,"value":881},"可先忽略，只要確定",{"type":27,"tag":199,"props":883,"children":885},{"className":884},[],[886],{"type":32,"value":887},"~/android/lineage/device/google/sargo/extract-files.sh",{"type":32,"value":889},"這個檔案有存在就好。",{"type":27,"tag":192,"props":891,"children":893},{"className":194,"code":892,"language":196,"meta":7,"style":7},"# 確認檔案\nls ~/android/lineage/device/google/sargo/extract-files.sh\n",[894],{"type":27,"tag":199,"props":895,"children":896},{"__ignoreMap":7},[897,905],{"type":27,"tag":203,"props":898,"children":899},{"class":205,"line":206},[900],{"type":27,"tag":203,"props":901,"children":902},{"style":210},[903],{"type":32,"value":904},"# 確認檔案\n",{"type":27,"tag":203,"props":906,"children":907},{"class":205,"line":216},[908,913],{"type":27,"tag":203,"props":909,"children":910},{"style":220},[911],{"type":32,"value":912},"ls",{"type":27,"tag":203,"props":914,"children":915},{"style":226},[916],{"type":32,"value":917}," ~/android/lineage/device/google/sargo/extract-files.sh\n",{"type":27,"tag":73,"props":919,"children":920},{},[],{"type":27,"tag":77,"props":922,"children":924},{"id":923},"提取-pixel-3a-的專有驅動程式",[925],{"type":32,"value":926},"提取 Pixel 3a 的專有驅動程式",{"type":27,"tag":28,"props":928,"children":929},{},[930],{"type":32,"value":931},"接下來要開始提取 Pixel 3a 的驅動程式，步驟稍微複雜一些。",{"type":27,"tag":192,"props":933,"children":935},{"className":194,"code":934,"language":196,"meta":7,"style":7},"# 建立暫存資料以儲存抽出來的驅動程式\nmkdir -p ~/android/system_dump\n",[936],{"type":27,"tag":199,"props":937,"children":938},{"__ignoreMap":7},[939,947],{"type":27,"tag":203,"props":940,"children":941},{"class":205,"line":206},[942],{"type":27,"tag":203,"props":943,"children":944},{"style":210},[945],{"type":32,"value":946},"# 建立暫存資料以儲存抽出來的驅動程式\n",{"type":27,"tag":203,"props":948,"children":949},{"class":205,"line":216},[950,954,958],{"type":27,"tag":203,"props":951,"children":952},{"style":220},[953],{"type":32,"value":614},{"type":27,"tag":203,"props":955,"children":956},{"style":458},[957],{"type":32,"value":619},{"type":27,"tag":203,"props":959,"children":960},{"style":226},[961],{"type":32,"value":962}," ~/android/system_dump\n",{"type":27,"tag":192,"props":964,"children":966},{"className":194,"code":965,"language":196,"meta":7,"style":7},"# 移到資料夾\ncd ~/android/system_dump\n",[967],{"type":27,"tag":199,"props":968,"children":969},{"__ignoreMap":7},[970,978],{"type":27,"tag":203,"props":971,"children":972},{"class":205,"line":206},[973],{"type":27,"tag":203,"props":974,"children":975},{"style":210},[976],{"type":32,"value":977},"# 移到資料夾\n",{"type":27,"tag":203,"props":979,"children":980},{"class":205,"line":216},[981,985],{"type":27,"tag":203,"props":982,"children":983},{"style":458},[984],{"type":32,"value":647},{"type":27,"tag":203,"props":986,"children":987},{"style":226},[988],{"type":32,"value":962},{"type":27,"tag":28,"props":990,"children":991},{},[992,994,1000,1002,1008],{"type":32,"value":993},"從",{"type":27,"tag":35,"props":995,"children":997},{"href":65,"rel":996},[39],[998],{"type":32,"value":999},"官網下載最新的安裝檔",{"type":32,"value":1001},"（",{"type":27,"tag":199,"props":1003,"children":1005},{"className":1004},[],[1006],{"type":32,"value":1007},".zip",{"type":32,"value":1009},"），下面指令中的連結可能已過期，要自行更新。",{"type":27,"tag":192,"props":1011,"children":1013},{"className":194,"code":1012,"language":196,"meta":7,"style":7},"# 下載安裝檔\nwget https://mirrorbits.lineageos.org/full/sargo/20230919/lineage-19.1-20230919-nightly-sargo-signed.zip\n",[1014],{"type":27,"tag":199,"props":1015,"children":1016},{"__ignoreMap":7},[1017,1025],{"type":27,"tag":203,"props":1018,"children":1019},{"class":205,"line":206},[1020],{"type":27,"tag":203,"props":1021,"children":1022},{"style":210},[1023],{"type":32,"value":1024},"# 下載安裝檔\n",{"type":27,"tag":203,"props":1026,"children":1027},{"class":205,"line":216},[1028,1033],{"type":27,"tag":203,"props":1029,"children":1030},{"style":220},[1031],{"type":32,"value":1032},"wget",{"type":27,"tag":203,"props":1034,"children":1035},{"style":226},[1036],{"type":32,"value":1037}," https://mirrorbits.lineageos.org/full/sargo/20230919/lineage-19.1-20230919-nightly-sargo-signed.zip\n",{"type":27,"tag":28,"props":1039,"children":1040},{},[1041],{"type":32,"value":1042},"接下來要取得可以提取映像檔的程式，並從檔案中提取映像檔。",{"type":27,"tag":192,"props":1044,"children":1046},{"className":194,"code":1045,"language":196,"meta":7,"style":7},"git clone https://github.com/LineageOS/android_tools_extract-utils android/tools/extract-utils\n",[1047],{"type":27,"tag":199,"props":1048,"children":1049},{"__ignoreMap":7},[1050],{"type":27,"tag":203,"props":1051,"children":1052},{"class":205,"line":206},[1053,1057,1062,1067],{"type":27,"tag":203,"props":1054,"children":1055},{"style":220},[1056],{"type":32,"value":484},{"type":27,"tag":203,"props":1058,"children":1059},{"style":226},[1060],{"type":32,"value":1061}," clone",{"type":27,"tag":203,"props":1063,"children":1064},{"style":226},[1065],{"type":32,"value":1066}," https://github.com/LineageOS/android_tools_extract-utils",{"type":27,"tag":203,"props":1068,"children":1069},{"style":226},[1070],{"type":32,"value":1071}," android/tools/extract-utils\n",{"type":27,"tag":192,"props":1073,"children":1075},{"className":194,"code":1074,"language":196,"meta":7,"style":7},"git clone https://github.com/LineageOS/android_system_update_engine android/system/update_engine\n",[1076],{"type":27,"tag":199,"props":1077,"children":1078},{"__ignoreMap":7},[1079],{"type":27,"tag":203,"props":1080,"children":1081},{"class":205,"line":206},[1082,1086,1090,1095],{"type":27,"tag":203,"props":1083,"children":1084},{"style":220},[1085],{"type":32,"value":484},{"type":27,"tag":203,"props":1087,"children":1088},{"style":226},[1089],{"type":32,"value":1061},{"type":27,"tag":203,"props":1091,"children":1092},{"style":226},[1093],{"type":32,"value":1094}," https://github.com/LineageOS/android_system_update_engine",{"type":27,"tag":203,"props":1096,"children":1097},{"style":226},[1098],{"type":32,"value":1099}," android/system/update_engine\n",{"type":27,"tag":192,"props":1101,"children":1103},{"className":194,"code":1102,"language":196,"meta":7,"style":7},"# 從檔案中提取映像檔\npython android/tools/extract-utils/extract_ota.py lineage-19.1-20230919-nightly-sargo-signed.zip\n",[1104],{"type":27,"tag":199,"props":1105,"children":1106},{"__ignoreMap":7},[1107,1115],{"type":27,"tag":203,"props":1108,"children":1109},{"class":205,"line":206},[1110],{"type":27,"tag":203,"props":1111,"children":1112},{"style":210},[1113],{"type":32,"value":1114},"# 從檔案中提取映像檔\n",{"type":27,"tag":203,"props":1116,"children":1117},{"class":205,"line":216},[1118,1123,1128],{"type":27,"tag":203,"props":1119,"children":1120},{"style":220},[1121],{"type":32,"value":1122},"python",{"type":27,"tag":203,"props":1124,"children":1125},{"style":226},[1126],{"type":32,"value":1127}," android/tools/extract-utils/extract_ota.py",{"type":27,"tag":203,"props":1129,"children":1130},{"style":226},[1131],{"type":32,"value":1132}," lineage-19.1-20230919-nightly-sargo-signed.zip\n",{"type":27,"tag":28,"props":1134,"children":1135},{},[1136],{"type":32,"value":1137},"這裡執行可能需要一段時間，期間沒有文字提示要耐心等候，等到完成之後，再執行下面指令來掛載取得的映像檔。",{"type":27,"tag":192,"props":1139,"children":1141},{"className":194,"code":1140,"language":196,"meta":7,"style":7},"# 建立資料夾來提供掛載點\nmkdir system/\n",[1142],{"type":27,"tag":199,"props":1143,"children":1144},{"__ignoreMap":7},[1145,1153],{"type":27,"tag":203,"props":1146,"children":1147},{"class":205,"line":206},[1148],{"type":27,"tag":203,"props":1149,"children":1150},{"style":210},[1151],{"type":32,"value":1152},"# 建立資料夾來提供掛載點\n",{"type":27,"tag":203,"props":1154,"children":1155},{"class":205,"line":216},[1156,1160],{"type":27,"tag":203,"props":1157,"children":1158},{"style":220},[1159],{"type":32,"value":614},{"type":27,"tag":203,"props":1161,"children":1162},{"style":226},[1163],{"type":32,"value":1164}," system/\n",{"type":27,"tag":192,"props":1166,"children":1168},{"className":194,"code":1167,"language":196,"meta":7,"style":7},"sudo mount -o ro system.img system/\n",[1169],{"type":27,"tag":199,"props":1170,"children":1171},{"__ignoreMap":7},[1172],{"type":27,"tag":203,"props":1173,"children":1174},{"class":205,"line":206},[1175,1179,1184,1189,1194,1199],{"type":27,"tag":203,"props":1176,"children":1177},{"style":220},[1178],{"type":32,"value":223},{"type":27,"tag":203,"props":1180,"children":1181},{"style":226},[1182],{"type":32,"value":1183}," mount",{"type":27,"tag":203,"props":1185,"children":1186},{"style":458},[1187],{"type":32,"value":1188}," -o",{"type":27,"tag":203,"props":1190,"children":1191},{"style":226},[1192],{"type":32,"value":1193}," ro",{"type":27,"tag":203,"props":1195,"children":1196},{"style":226},[1197],{"type":32,"value":1198}," system.img",{"type":27,"tag":203,"props":1200,"children":1201},{"style":226},[1202],{"type":32,"value":1164},{"type":27,"tag":192,"props":1204,"children":1206},{"className":194,"code":1205,"language":196,"meta":7,"style":7},"sudo mount -o ro vendor.img system/vendor/\n",[1207],{"type":27,"tag":199,"props":1208,"children":1209},{"__ignoreMap":7},[1210],{"type":27,"tag":203,"props":1211,"children":1212},{"class":205,"line":206},[1213,1217,1221,1225,1229,1234],{"type":27,"tag":203,"props":1214,"children":1215},{"style":220},[1216],{"type":32,"value":223},{"type":27,"tag":203,"props":1218,"children":1219},{"style":226},[1220],{"type":32,"value":1183},{"type":27,"tag":203,"props":1222,"children":1223},{"style":458},[1224],{"type":32,"value":1188},{"type":27,"tag":203,"props":1226,"children":1227},{"style":226},[1228],{"type":32,"value":1193},{"type":27,"tag":203,"props":1230,"children":1231},{"style":226},[1232],{"type":32,"value":1233}," vendor.img",{"type":27,"tag":203,"props":1235,"children":1236},{"style":226},[1237],{"type":32,"value":1238}," system/vendor/\n",{"type":27,"tag":192,"props":1240,"children":1242},{"className":194,"code":1241,"language":196,"meta":7,"style":7},"sudo mount -o ro product.img system/product/\n",[1243],{"type":27,"tag":199,"props":1244,"children":1245},{"__ignoreMap":7},[1246],{"type":27,"tag":203,"props":1247,"children":1248},{"class":205,"line":206},[1249,1253,1257,1261,1265,1270],{"type":27,"tag":203,"props":1250,"children":1251},{"style":220},[1252],{"type":32,"value":223},{"type":27,"tag":203,"props":1254,"children":1255},{"style":226},[1256],{"type":32,"value":1183},{"type":27,"tag":203,"props":1258,"children":1259},{"style":458},[1260],{"type":32,"value":1188},{"type":27,"tag":203,"props":1262,"children":1263},{"style":226},[1264],{"type":32,"value":1193},{"type":27,"tag":203,"props":1266,"children":1267},{"style":226},[1268],{"type":32,"value":1269}," product.img",{"type":27,"tag":203,"props":1271,"children":1272},{"style":226},[1273],{"type":32,"value":1274}," system/product/\n",{"type":27,"tag":192,"props":1276,"children":1278},{"className":194,"code":1277,"language":196,"meta":7,"style":7},"sudo mount -o ro system_ext.img system/system_ext/\n",[1279],{"type":27,"tag":199,"props":1280,"children":1281},{"__ignoreMap":7},[1282],{"type":27,"tag":203,"props":1283,"children":1284},{"class":205,"line":206},[1285,1289,1293,1297,1301,1306],{"type":27,"tag":203,"props":1286,"children":1287},{"style":220},[1288],{"type":32,"value":223},{"type":27,"tag":203,"props":1290,"children":1291},{"style":226},[1292],{"type":32,"value":1183},{"type":27,"tag":203,"props":1294,"children":1295},{"style":458},[1296],{"type":32,"value":1188},{"type":27,"tag":203,"props":1298,"children":1299},{"style":226},[1300],{"type":32,"value":1193},{"type":27,"tag":203,"props":1302,"children":1303},{"style":226},[1304],{"type":32,"value":1305}," system_ext.img",{"type":27,"tag":203,"props":1307,"children":1308},{"style":226},[1309],{"type":32,"value":1310}," system/system_ext/\n",{"type":27,"tag":28,"props":1312,"children":1313},{},[1314],{"type":32,"value":1315},"都掛載完成後，最後就可以從映像檔中提取驅動程式了。提取驅動程式會執行一小段時間，看電腦規格而定，我自己的是大概幾分鐘。",{"type":27,"tag":192,"props":1317,"children":1319},{"className":194,"code":1318,"language":196,"meta":7,"style":7},"# 移到Pixel 3a的原始碼資料夾\ncd ~/android/lineage/device/google/sargo\n",[1320],{"type":27,"tag":199,"props":1321,"children":1322},{"__ignoreMap":7},[1323,1331],{"type":27,"tag":203,"props":1324,"children":1325},{"class":205,"line":206},[1326],{"type":27,"tag":203,"props":1327,"children":1328},{"style":210},[1329],{"type":32,"value":1330},"# 移到Pixel 3a的原始碼資料夾\n",{"type":27,"tag":203,"props":1332,"children":1333},{"class":205,"line":216},[1334,1338],{"type":27,"tag":203,"props":1335,"children":1336},{"style":458},[1337],{"type":32,"value":647},{"type":27,"tag":203,"props":1339,"children":1340},{"style":226},[1341],{"type":32,"value":1342}," ~/android/lineage/device/google/sargo\n",{"type":27,"tag":192,"props":1344,"children":1346},{"className":194,"code":1345,"language":196,"meta":7,"style":7},"# 執行提取驅動程式的指令\n./extract-files.sh ~/android/system_dump/\n",[1347],{"type":27,"tag":199,"props":1348,"children":1349},{"__ignoreMap":7},[1350,1358],{"type":27,"tag":203,"props":1351,"children":1352},{"class":205,"line":206},[1353],{"type":27,"tag":203,"props":1354,"children":1355},{"style":210},[1356],{"type":32,"value":1357},"# 執行提取驅動程式的指令\n",{"type":27,"tag":203,"props":1359,"children":1360},{"class":205,"line":216},[1361,1366],{"type":27,"tag":203,"props":1362,"children":1363},{"style":220},[1364],{"type":32,"value":1365},"./extract-files.sh",{"type":27,"tag":203,"props":1367,"children":1368},{"style":226},[1369],{"type":32,"value":1370}," ~/android/system_dump/\n",{"type":27,"tag":28,"props":1372,"children":1373},{},[1374],{"type":32,"value":1375},"提取完成後，作一些收尾工作：",{"type":27,"tag":192,"props":1377,"children":1379},{"className":194,"code":1378,"language":196,"meta":7,"style":7},"# 卸載剛剛掛載的映像檔\nsudo umount -R ~/android/system_dump/system/\n",[1380],{"type":27,"tag":199,"props":1381,"children":1382},{"__ignoreMap":7},[1383,1391],{"type":27,"tag":203,"props":1384,"children":1385},{"class":205,"line":206},[1386],{"type":27,"tag":203,"props":1387,"children":1388},{"style":210},[1389],{"type":32,"value":1390},"# 卸載剛剛掛載的映像檔\n",{"type":27,"tag":203,"props":1392,"children":1393},{"class":205,"line":216},[1394,1398,1403,1408],{"type":27,"tag":203,"props":1395,"children":1396},{"style":220},[1397],{"type":32,"value":223},{"type":27,"tag":203,"props":1399,"children":1400},{"style":226},[1401],{"type":32,"value":1402}," umount",{"type":27,"tag":203,"props":1404,"children":1405},{"style":458},[1406],{"type":32,"value":1407}," -R",{"type":27,"tag":203,"props":1409,"children":1410},{"style":226},[1411],{"type":32,"value":1412}," ~/android/system_dump/system/\n",{"type":27,"tag":192,"props":1414,"children":1416},{"className":194,"code":1415,"language":196,"meta":7,"style":7},"# 移除用來暫存的資料夾\nrm -rf ~/android/system_dump/\n",[1417],{"type":27,"tag":199,"props":1418,"children":1419},{"__ignoreMap":7},[1420,1428],{"type":27,"tag":203,"props":1421,"children":1422},{"class":205,"line":206},[1423],{"type":27,"tag":203,"props":1424,"children":1425},{"style":210},[1426],{"type":32,"value":1427},"# 移除用來暫存的資料夾\n",{"type":27,"tag":203,"props":1429,"children":1430},{"class":205,"line":216},[1431,1436,1441],{"type":27,"tag":203,"props":1432,"children":1433},{"style":220},[1434],{"type":32,"value":1435},"rm",{"type":27,"tag":203,"props":1437,"children":1438},{"style":458},[1439],{"type":32,"value":1440}," -rf",{"type":27,"tag":203,"props":1442,"children":1443},{"style":226},[1444],{"type":32,"value":1370},{"type":27,"tag":73,"props":1446,"children":1447},{},[],{"type":27,"tag":77,"props":1449,"children":1451},{"id":1450},"編譯",[1452],{"type":32,"value":1450},{"type":27,"tag":28,"props":1454,"children":1455},{},[1456],{"type":32,"value":1457},"首先，確定自己身在 LineageOS 的原始碼資料夾中：",{"type":27,"tag":192,"props":1459,"children":1460},{"className":194,"code":627,"language":196,"meta":7,"style":7},[1461],{"type":27,"tag":199,"props":1462,"children":1463},{"__ignoreMap":7},[1464,1471],{"type":27,"tag":203,"props":1465,"children":1466},{"class":205,"line":206},[1467],{"type":27,"tag":203,"props":1468,"children":1469},{"style":210},[1470],{"type":32,"value":639},{"type":27,"tag":203,"props":1472,"children":1473},{"class":205,"line":216},[1474,1478],{"type":27,"tag":203,"props":1475,"children":1476},{"style":458},[1477],{"type":32,"value":647},{"type":27,"tag":203,"props":1479,"children":1480},{"style":226},[1481],{"type":32,"value":624},{"type":27,"tag":130,"props":1483,"children":1485},{"id":1484},"同步原始碼為最新",[1486],{"type":32,"value":1484},{"type":27,"tag":28,"props":1488,"children":1489},{},[1490,1492,1498],{"type":32,"value":1491},"若是第一次編譯已經沿著上面做過指令，可跳過這個部份直接從「",{"type":27,"tag":142,"props":1493,"children":1496},{"slug":1494,"hash":1495},"ubuntu_lineageos_sargo","編譯前的一些設定",[1497],{"type":32,"value":1495},{"type":32,"value":1499},"」開始。",{"type":27,"tag":192,"props":1501,"children":1503},{"className":194,"code":1502,"language":196,"meta":7,"style":7},"# 強制同步原始碼為最新\nrepo sync --force-sync\n",[1504],{"type":27,"tag":199,"props":1505,"children":1506},{"__ignoreMap":7},[1507,1515],{"type":27,"tag":203,"props":1508,"children":1509},{"class":205,"line":206},[1510],{"type":27,"tag":203,"props":1511,"children":1512},{"style":210},[1513],{"type":32,"value":1514},"# 強制同步原始碼為最新\n",{"type":27,"tag":203,"props":1516,"children":1517},{"class":205,"line":216},[1518,1522,1527],{"type":27,"tag":203,"props":1519,"children":1520},{"style":220},[1521],{"type":32,"value":674},{"type":27,"tag":203,"props":1523,"children":1524},{"style":226},[1525],{"type":32,"value":1526}," sync",{"type":27,"tag":203,"props":1528,"children":1529},{"style":458},[1530],{"type":32,"value":1531}," --force-sync\n",{"type":27,"tag":192,"props":1533,"children":1534},{"className":194,"code":793,"language":196,"meta":7,"style":7},[1535],{"type":27,"tag":199,"props":1536,"children":1537},{"__ignoreMap":7},[1538,1545],{"type":27,"tag":203,"props":1539,"children":1540},{"class":205,"line":206},[1541],{"type":27,"tag":203,"props":1542,"children":1543},{"style":210},[1544],{"type":32,"value":805},{"type":27,"tag":203,"props":1546,"children":1547},{"class":205,"line":216},[1548,1552],{"type":27,"tag":203,"props":1549,"children":1550},{"style":458},[1551],{"type":32,"value":813},{"type":27,"tag":203,"props":1553,"children":1554},{"style":226},[1555],{"type":32,"value":818},{"type":27,"tag":192,"props":1557,"children":1559},{"className":194,"code":1558,"language":196,"meta":7,"style":7},"# 再次同步Pixel 3a原始碼為最新\nbreakfast sargo\n",[1560],{"type":27,"tag":199,"props":1561,"children":1562},{"__ignoreMap":7},[1563,1571],{"type":27,"tag":203,"props":1564,"children":1565},{"class":205,"line":206},[1566],{"type":27,"tag":203,"props":1567,"children":1568},{"style":210},[1569],{"type":32,"value":1570},"# 再次同步Pixel 3a原始碼為最新\n",{"type":27,"tag":203,"props":1572,"children":1573},{"class":205,"line":216},[1574,1578],{"type":27,"tag":203,"props":1575,"children":1576},{"style":220},[1577],{"type":32,"value":841},{"type":27,"tag":203,"props":1579,"children":1580},{"style":226},[1581],{"type":32,"value":846},{"type":27,"tag":130,"props":1583,"children":1584},{"id":1495},[1585],{"type":32,"value":1495},{"type":27,"tag":192,"props":1587,"children":1589},{"className":194,"code":1588,"language":196,"meta":7,"style":7},"# 啟用CCACHE\nexport USE_CCACHE=1\n",[1590],{"type":27,"tag":199,"props":1591,"children":1592},{"__ignoreMap":7},[1593,1601],{"type":27,"tag":203,"props":1594,"children":1595},{"class":205,"line":206},[1596],{"type":27,"tag":203,"props":1597,"children":1598},{"style":210},[1599],{"type":32,"value":1600},"# 啟用CCACHE\n",{"type":27,"tag":203,"props":1602,"children":1603},{"class":205,"line":216},[1604,1610,1616,1621],{"type":27,"tag":203,"props":1605,"children":1607},{"style":1606},"--shiki-default:#F97583",[1608],{"type":32,"value":1609},"export",{"type":27,"tag":203,"props":1611,"children":1613},{"style":1612},"--shiki-default:#E1E4E8",[1614],{"type":32,"value":1615}," USE_CCACHE",{"type":27,"tag":203,"props":1617,"children":1618},{"style":1606},[1619],{"type":32,"value":1620},"=",{"type":27,"tag":203,"props":1622,"children":1623},{"style":458},[1624],{"type":32,"value":1625},"1\n",{"type":27,"tag":192,"props":1627,"children":1629},{"className":194,"code":1628,"language":196,"meta":7,"style":7},"# 設定CCACHE\nccache -M 50G\n",[1630],{"type":27,"tag":199,"props":1631,"children":1632},{"__ignoreMap":7},[1633,1641],{"type":27,"tag":203,"props":1634,"children":1635},{"class":205,"line":206},[1636],{"type":27,"tag":203,"props":1637,"children":1638},{"style":210},[1639],{"type":32,"value":1640},"# 設定CCACHE\n",{"type":27,"tag":203,"props":1642,"children":1643},{"class":205,"line":216},[1644,1649,1654],{"type":27,"tag":203,"props":1645,"children":1646},{"style":220},[1647],{"type":32,"value":1648},"ccache",{"type":27,"tag":203,"props":1650,"children":1651},{"style":458},[1652],{"type":32,"value":1653}," -M",{"type":27,"tag":203,"props":1655,"children":1656},{"style":226},[1657],{"type":32,"value":1658}," 50G\n",{"type":27,"tag":192,"props":1660,"children":1662},{"className":194,"code":1661,"language":196,"meta":7,"style":7},"# 設定CCACHE壓縮\nccache -o compression=true\n",[1663],{"type":27,"tag":199,"props":1664,"children":1665},{"__ignoreMap":7},[1666,1674],{"type":27,"tag":203,"props":1667,"children":1668},{"class":205,"line":206},[1669],{"type":27,"tag":203,"props":1670,"children":1671},{"style":210},[1672],{"type":32,"value":1673},"# 設定CCACHE壓縮\n",{"type":27,"tag":203,"props":1675,"children":1676},{"class":205,"line":216},[1677,1681,1685,1690],{"type":27,"tag":203,"props":1678,"children":1679},{"style":220},[1680],{"type":32,"value":1648},{"type":27,"tag":203,"props":1682,"children":1683},{"style":458},[1684],{"type":32,"value":1188},{"type":27,"tag":203,"props":1686,"children":1687},{"style":226},[1688],{"type":32,"value":1689}," compression=",{"type":27,"tag":203,"props":1691,"children":1692},{"style":458},[1693],{"type":32,"value":1694},"true\n",{"type":27,"tag":130,"props":1696,"children":1698},{"id":1697},"開始編譯",[1699],{"type":32,"value":1697},{"type":27,"tag":28,"props":1701,"children":1702},{},[1703],{"type":32,"value":1704},"接下來就是重頭戲——編譯了，這個指令執行下去之後就會開始編譯，期間會大量消耗系統資源，除非你的電腦是頂級硬體否則至少也要跑個幾小時，建議就把他放著，人去做其他事情吧，不要同時使用電腦。",{"type":27,"tag":192,"props":1706,"children":1708},{"className":194,"code":1707,"language":196,"meta":7,"style":7},"brunch sargo\n",[1709],{"type":27,"tag":199,"props":1710,"children":1711},{"__ignoreMap":7},[1712],{"type":27,"tag":203,"props":1713,"children":1714},{"class":205,"line":206},[1715,1720],{"type":27,"tag":203,"props":1716,"children":1717},{"style":220},[1718],{"type":32,"value":1719},"brunch",{"type":27,"tag":203,"props":1721,"children":1722},{"style":226},[1723],{"type":32,"value":846},{"type":27,"tag":28,"props":1725,"children":1726},{},[1727,1729,1735,1737,1743,1745,1751],{"type":32,"value":1728},"在大功告成之後，編譯好的安裝檔會放在",{"type":27,"tag":199,"props":1730,"children":1732},{"className":1731},[],[1733],{"type":32,"value":1734},"~/android/lineage/out/target/product/sargo",{"type":32,"value":1736},"裡面，名稱會長得像這樣：",{"type":27,"tag":199,"props":1738,"children":1740},{"className":1739},[],[1741],{"type":32,"value":1742},"lineage-20.0-20230415-UNOFFICIAL-sargo.zip ",{"type":32,"value":1744},"，日期會根據編譯日期而不同。而 recovery 檔案會是",{"type":27,"tag":199,"props":1746,"children":1748},{"className":1747},[],[1749],{"type":32,"value":1750},"boot.img",{"type":32,"value":1752},"。",{"type":27,"tag":28,"props":1754,"children":1755},{},[1756,1758,1762],{"type":32,"value":1757},"若隔了一段時間要再重新編譯，直接從",{"type":27,"tag":142,"props":1759,"children":1760},{"slug":1494,"hash":1450},[1761],{"type":32,"value":1450},{"type":32,"value":1763},"再執行一次就好了。",{"type":27,"tag":73,"props":1765,"children":1766},{},[],{"type":27,"tag":77,"props":1768,"children":1770},{"id":1769},"全新安裝升級或更新",[1771],{"type":32,"value":1772},"全新安裝、升級或更新",{"type":27,"tag":28,"props":1774,"children":1775},{},[1776,1778,1785,1787,1794,1796,1803],{"type":32,"value":1777},"根據不同狀況，Lineageos 官方 WIKI 的操作說明也不同，可以分成",{"type":27,"tag":35,"props":1779,"children":1782},{"href":1780,"rel":1781},"https://wiki.lineageos.org/devices/sargo/install",[39],[1783],{"type":32,"value":1784},"全新安裝",{"type":32,"value":1786},"、",{"type":27,"tag":35,"props":1788,"children":1791},{"href":1789,"rel":1790},"https://wiki.lineageos.org/devices/sargo/upgrade",[39],[1792],{"type":32,"value":1793},"升級",{"type":32,"value":1795},"或",{"type":27,"tag":35,"props":1797,"children":1800},{"href":1798,"rel":1799},"https://wiki.lineageos.org/devices/sargo/update",[39],[1801],{"type":32,"value":1802},"更新",{"type":32,"value":1804},"三種。",{"type":27,"tag":130,"props":1806,"children":1808},{"id":1807},"從-191-升級",[1809],{"type":32,"value":1810},"從 19.1 升級",{"type":27,"tag":28,"props":1812,"children":1813},{},[1814],{"type":32,"value":1815},"升級的部分成功的話是可以保留應用程式跟資料的（就跟我們升級沒有刷 ROM 的手機一樣），這裏自己覺得要特別注意的部分，就是 Gapps 以及任何你有額外裝的東西（例如前面說的 ih8sn），要在升級後再刷入一次，Gapps 要下載對應 20.0 的版本。而且要跟在全新安裝時一樣，升級完 Lineageos 之後先直接重新啟動到 Recovery 一次。",{"type":27,"tag":28,"props":1817,"children":1818},{},[1819,1821,1827],{"type":32,"value":1820},"沒有試過直接從 18.1 更新，建議先安裝目前",{"type":27,"tag":35,"props":1822,"children":1824},{"href":65,"rel":1823},[39],[1825],{"type":32,"value":1826},"Lineageos 官方最新的 19.1 版本",{"type":32,"value":1828},"，再進行更新。",{"type":27,"tag":130,"props":1830,"children":1832},{"id":1831},"從-200-更新",[1833],{"type":32,"value":1834},"從 20.0 更新",{"type":27,"tag":28,"props":1836,"children":1837},{},[1838,1840,1846,1848,1854,1856,1862],{"type":32,"value":1839},"如果本來就是 20.0，要更新到較新的版本，要注意的是因為現在 Pixel 3a 尚未有官方 20.0 的版本，在官方操作說明中的指令",{"type":27,"tag":199,"props":1841,"children":1843},{"className":1842},[],[1844],{"type":32,"value":1845},"wget https://raw.githubusercontent.com/LineageOS/android_packages_apps_Updater/lineage-19.1/push-update.sh",{"type":32,"value":1847},"的",{"type":27,"tag":199,"props":1849,"children":1851},{"className":1850},[],[1852],{"type":32,"value":1853},"lineage-19.1",{"type":32,"value":1855},"要改成",{"type":27,"tag":199,"props":1857,"children":1859},{"className":1858},[],[1860],{"type":32,"value":1861},"lineage-20.0",{"type":32,"value":1752},{"type":27,"tag":73,"props":1864,"children":1865},{},[],{"type":27,"tag":77,"props":1867,"children":1869},{"id":1868},"後記",[1870],{"type":32,"value":1868},{"type":27,"tag":28,"props":1872,"children":1873},{},[1874],{"type":32,"value":1875},"這一路風風雨雨（？）真的是折騰滿久，尤其是最後編譯的時候，因為時間很長，中途突然給你出錯又要整個重來，除錯了好一陣子。雖然更新不像直接使用官方發布版本方便，要先打開開發人員模式，但使用最新版本的感覺就是爽（？）。",{"type":27,"tag":28,"props":1877,"children":1878},{},[1879],{"type":32,"value":1880},"不過……誠心建議如果不是特別想要追求最新版本，真的還是乖乖等官方發佈就好。",{"type":27,"tag":73,"props":1882,"children":1883},{},[],{"type":27,"tag":77,"props":1885,"children":1887},{"id":1886},"參考文獻",[1888],{"type":32,"value":1886},{"type":27,"tag":151,"props":1890,"children":1891},{},[1892,1901],{"type":27,"tag":114,"props":1893,"children":1894},{},[1895],{"type":27,"tag":35,"props":1896,"children":1898},{"href":89,"rel":1897},[39],[1899],{"type":32,"value":1900},"Build for sargo",{"type":27,"tag":114,"props":1902,"children":1903},{},[1904],{"type":27,"tag":35,"props":1905,"children":1908},{"href":1906,"rel":1907},"https://wiki.lineageos.org/extracting_blobs_from_zips#extracting-proprietary-blobs-from-payload-based-otas",[39],[1909],{"type":32,"value":1910},"Extracting proprietary blobs from LineageOS zip files",{"type":27,"tag":1912,"props":1913,"children":1914},"style",{},[1915],{"type":32,"value":1916},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":216,"depth":216,"links":1918},[1919,1920,1925,1926,1930,1931,1936,1940,1941],{"id":79,"depth":216,"text":79},{"id":101,"depth":216,"text":101,"children":1921},[1922,1924],{"id":132,"depth":1923,"text":135},3,{"id":175,"depth":1923,"text":175},{"id":188,"depth":216,"text":188},{"id":582,"depth":216,"text":585,"children":1927},[1928,1929],{"id":588,"depth":1923,"text":591},{"id":787,"depth":1923,"text":790},{"id":923,"depth":216,"text":926},{"id":1450,"depth":216,"text":1450,"children":1932},[1933,1934,1935],{"id":1484,"depth":1923,"text":1484},{"id":1495,"depth":1923,"text":1495},{"id":1697,"depth":1923,"text":1697},{"id":1769,"depth":216,"text":1772,"children":1937},[1938,1939],{"id":1807,"depth":1923,"text":1810},{"id":1831,"depth":1923,"text":1834},{"id":1868,"depth":216,"text":1868},{"id":1886,"depth":216,"text":1886},"markdown","content:articles:2023:ubuntu_lineageos_sargo.md","content","articles/2023/ubuntu_lineageos_sargo.md","articles/2023/ubuntu_lineageos_sargo","md","2023-04-15T11:38:12.000Z","2024-01-24T07:26:04.000Z",[1951,1965,1977],{"title":1952,"description":1953,"tags":1954,"img":1956,"readingTime":1957,"createdAt":1962,"updatedAt":1963,"slug":1964},"使用Fedora刷Pixel 3a的LineageOS 過程紀錄","總之呢，官方公佈不保證在 5 月之後還會收到更新，而網路則說 7 月會迎來最後一次更新，因為手機狀況都還滿健康的，最愛保留舊手機舊電腦的我，就想說要來刷機了。",[1955,12,13,14,15],"fedora","924/ioKHUr.jpg",{"text":1958,"minutes":1959,"time":1960,"words":1961},"13 min read",12.61,756600,2522,"2023-01-02T11:14:51.000Z","2023-12-11T10:19:13.000Z","pixel3a_custom_rom",{"title":1966,"description":1967,"img":1968,"tags":1969,"readingTime":1970,"createdAt":1975,"updatedAt":1963,"slug":1976},"在Fedora 38編譯Pixel 3a的LineageOS","本篇文章是試圖移植之前的文章：的過程至 Fedora 上的心得紀錄，畢竟自己平常主要使用的系統為 Fedora，想說都是 Linux 應該是可以移植過來。","924/LsYE8j.jpg",[1955,12,13,14,15],{"text":1971,"minutes":1972,"time":1973,"words":1974},"3 min read",2.765,165900,553,"2023-04-07T09:03:17.000Z","fedora_lineageos_sargo",{"title":1978,"description":1979,"img":1980,"tags":1981,"readingTime":1983,"createdAt":1948,"updatedAt":1988,"slug":144},"調整Ubuntu中的SWAP大小","在Ubuntu 中嘗試編譯 LineageOS時，因為實體記憶體不足的關係，上網查了一下資料發現或許能透過增加虛擬記憶體 SWAP 來解決，所以就紀錄了下來。","924/Ld14Ra.jpg",[11,1982],"swap",{"text":1984,"minutes":1985,"time":1986,"words":1987},"1 min read",0.89,53400,178,"2023-12-11T03:54:57.000Z",1733405691055]