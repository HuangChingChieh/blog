[{"data":1,"prerenderedAt":490},["ShallowReactive",2],{"fedora_zram_resize":3,"Related_fedora_zram_resize":442,"title|fedora_lineageos_sargo":489},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"img":10,"tags":11,"category":14,"readingTime":15,"excerpt":20,"body":40,"_type":433,"_id":434,"_source":435,"_file":436,"_stem":437,"_extension":438,"createdAt":439,"updatedAt":440,"slug":441},"/articles/2023/fedora_zram_resize","2023",false,"","調整Fedora中的ZRAM大小","這篇是在 Fedora 環境中編譯 LineageOS時，嘗試複製在 Ubuntu 中可透過增加 SWAP 來補足記憶體不足的作法。後來發現即便把 ZRAM 增大也會編譯失敗，就很乾脆擴充實體 RAM，本篇就當個紀錄這樣。","924/Rj6CAF.jpg",[12,13],"fedora","zram","linux",{"text":16,"minutes":17,"time":18,"words":19},"2 min read",1.23,73800,246,{"type":21,"children":22},"root",[23],{"type":24,"tag":25,"props":26,"children":27},"element","p",{},[28,31,38],{"type":29,"value":30},"text","這篇是",{"type":24,"tag":32,"props":33,"children":35},"article-inner-link",{"slug":34},"fedora_lineageos_sargo",[36],{"type":29,"value":37},"在 Fedora 環境中編譯 LineageOS",{"type":29,"value":39},"時，嘗試複製在 Ubuntu 中可透過增加 SWAP 來補足記憶體不足的作法。後來發現即便把 ZRAM 增大也會編譯失敗，就很乾脆擴充實體 RAM，本篇就當個紀錄這樣。",{"type":21,"children":41,"toc":430},[42,51,55,88,162,195,200,279,292,314,378,381,387,424],{"type":24,"tag":25,"props":43,"children":44},{},[45,46,50],{"type":29,"value":30},{"type":24,"tag":32,"props":47,"children":48},{"slug":34},[49],{"type":29,"value":37},{"type":29,"value":39},{"type":24,"tag":52,"props":53,"children":54},"hr",{},[],{"type":24,"tag":56,"props":57,"children":61},"pre",{"className":58,"code":59,"language":60,"meta":7,"style":7},"language-bash shiki shiki-themes github-dark","# 首先檢查一下目前的ZRAM大小\nswapon\n","bash",[62],{"type":24,"tag":63,"props":64,"children":65},"code",{"__ignoreMap":7},[66,78],{"type":24,"tag":67,"props":68,"children":71},"span",{"class":69,"line":70},"line",1,[72],{"type":24,"tag":67,"props":73,"children":75},{"style":74},"--shiki-default:#6A737D",[76],{"type":29,"value":77},"# 首先檢查一下目前的ZRAM大小\n",{"type":24,"tag":67,"props":79,"children":81},{"class":69,"line":80},2,[82],{"type":24,"tag":67,"props":83,"children":85},{"style":84},"--shiki-default:#B392F0",[86],{"type":29,"value":87},"swapon\n",{"type":24,"tag":56,"props":89,"children":91},{"className":58,"code":90,"language":60,"meta":7,"style":7},"# 會看到這樣子的輸出，可以看到SIZE是8GB。\nNAME       TYPE      SIZE  USED PRIO\n/dev/zram0 partition   8G 15.8M  100\n",[92],{"type":24,"tag":63,"props":93,"children":94},{"__ignoreMap":7},[95,103,132],{"type":24,"tag":67,"props":96,"children":97},{"class":69,"line":70},[98],{"type":24,"tag":67,"props":99,"children":100},{"style":74},[101],{"type":29,"value":102},"# 會看到這樣子的輸出，可以看到SIZE是8GB。\n",{"type":24,"tag":67,"props":104,"children":105},{"class":69,"line":80},[106,111,117,122,127],{"type":24,"tag":67,"props":107,"children":108},{"style":84},[109],{"type":29,"value":110},"NAME",{"type":24,"tag":67,"props":112,"children":114},{"style":113},"--shiki-default:#9ECBFF",[115],{"type":29,"value":116},"       TYPE",{"type":24,"tag":67,"props":118,"children":119},{"style":113},[120],{"type":29,"value":121},"      SIZE",{"type":24,"tag":67,"props":123,"children":124},{"style":113},[125],{"type":29,"value":126},"  USED",{"type":24,"tag":67,"props":128,"children":129},{"style":113},[130],{"type":29,"value":131}," PRIO\n",{"type":24,"tag":67,"props":133,"children":135},{"class":69,"line":134},3,[136,141,146,151,156],{"type":24,"tag":67,"props":137,"children":138},{"style":84},[139],{"type":29,"value":140},"/dev/zram0",{"type":24,"tag":67,"props":142,"children":143},{"style":113},[144],{"type":29,"value":145}," partition",{"type":24,"tag":67,"props":147,"children":148},{"style":113},[149],{"type":29,"value":150},"   8G",{"type":24,"tag":67,"props":152,"children":153},{"style":113},[154],{"type":29,"value":155}," 15.8M",{"type":24,"tag":67,"props":157,"children":159},{"style":158},"--shiki-default:#79B8FF",[160],{"type":29,"value":161},"  100\n",{"type":24,"tag":56,"props":163,"children":165},{"className":58,"code":164,"language":60,"meta":7,"style":7},"# 透過管理權限使用文字編輯器開啟設定檔\nsudo gedit /usr/lib/systemd/zram-generator.conf\n",[166],{"type":24,"tag":63,"props":167,"children":168},{"__ignoreMap":7},[169,177],{"type":24,"tag":67,"props":170,"children":171},{"class":69,"line":70},[172],{"type":24,"tag":67,"props":173,"children":174},{"style":74},[175],{"type":29,"value":176},"# 透過管理權限使用文字編輯器開啟設定檔\n",{"type":24,"tag":67,"props":178,"children":179},{"class":69,"line":80},[180,185,190],{"type":24,"tag":67,"props":181,"children":182},{"style":84},[183],{"type":29,"value":184},"sudo",{"type":24,"tag":67,"props":186,"children":187},{"style":113},[188],{"type":29,"value":189}," gedit",{"type":24,"tag":67,"props":191,"children":192},{"style":113},[193],{"type":29,"value":194}," /usr/lib/systemd/zram-generator.conf\n",{"type":24,"tag":25,"props":196,"children":197},{},[198],{"type":29,"value":199},"開啟這個檔案後，會看到如下的設定：",{"type":24,"tag":56,"props":201,"children":206},{"className":202,"code":203,"filename":204,"language":205,"meta":7,"style":7},"language-ini shiki shiki-themes github-dark","# This config file enables a /dev/zram0 device with the default settings:\n# — size — same as available RAM or 8GB, whichever is less\n# — compression — most likely lzo-rle\n#\n# To disable, uninstall zram-generator-defaults or create empty\n# /etc/systemd/zram-generator.conf file.\n[zram0]\nzram-size = min(ram, 8192)\n","zram-generator.conf","ini",[207],{"type":24,"tag":63,"props":208,"children":209},{"__ignoreMap":7},[210,218,226,234,243,252,261,270],{"type":24,"tag":67,"props":211,"children":212},{"class":69,"line":70},[213],{"type":24,"tag":67,"props":214,"children":215},{},[216],{"type":29,"value":217},"# This config file enables a /dev/zram0 device with the default settings:\n",{"type":24,"tag":67,"props":219,"children":220},{"class":69,"line":80},[221],{"type":24,"tag":67,"props":222,"children":223},{},[224],{"type":29,"value":225},"# — size — same as available RAM or 8GB, whichever is less\n",{"type":24,"tag":67,"props":227,"children":228},{"class":69,"line":134},[229],{"type":24,"tag":67,"props":230,"children":231},{},[232],{"type":29,"value":233},"# — compression — most likely lzo-rle\n",{"type":24,"tag":67,"props":235,"children":237},{"class":69,"line":236},4,[238],{"type":24,"tag":67,"props":239,"children":240},{},[241],{"type":29,"value":242},"#\n",{"type":24,"tag":67,"props":244,"children":246},{"class":69,"line":245},5,[247],{"type":24,"tag":67,"props":248,"children":249},{},[250],{"type":29,"value":251},"# To disable, uninstall zram-generator-defaults or create empty\n",{"type":24,"tag":67,"props":253,"children":255},{"class":69,"line":254},6,[256],{"type":24,"tag":67,"props":257,"children":258},{},[259],{"type":29,"value":260},"# /etc/systemd/zram-generator.conf file.\n",{"type":24,"tag":67,"props":262,"children":264},{"class":69,"line":263},7,[265],{"type":24,"tag":67,"props":266,"children":267},{},[268],{"type":29,"value":269},"[zram0]\n",{"type":24,"tag":67,"props":271,"children":273},{"class":69,"line":272},8,[274],{"type":24,"tag":67,"props":275,"children":276},{},[277],{"type":29,"value":278},"zram-size = min(ram, 8192)\n",{"type":24,"tag":25,"props":280,"children":281},{},[282,284,290],{"type":29,"value":283},"把",{"type":24,"tag":63,"props":285,"children":287},{"className":286},[],[288],{"type":29,"value":289},"min(ram, 8192)",{"type":29,"value":291},"改為 16384(16GB)就可以了，改完存檔後重啟。",{"type":24,"tag":56,"props":293,"children":295},{"className":58,"code":294,"language":60,"meta":7,"style":7},"# 檢查一下調整後的大小\nswapon\n",[296],{"type":24,"tag":63,"props":297,"children":298},{"__ignoreMap":7},[299,307],{"type":24,"tag":67,"props":300,"children":301},{"class":69,"line":70},[302],{"type":24,"tag":67,"props":303,"children":304},{"style":74},[305],{"type":29,"value":306},"# 檢查一下調整後的大小\n",{"type":24,"tag":67,"props":308,"children":309},{"class":69,"line":80},[310],{"type":24,"tag":67,"props":311,"children":312},{"style":84},[313],{"type":29,"value":87},{"type":24,"tag":56,"props":315,"children":317},{"className":58,"code":316,"language":60,"meta":7,"style":7},"# SIZE變成16GB就對囉\nNAME       TYPE      SIZE USED PRIO\n/dev/zram0 partition  16G   0B  100\n",[318],{"type":24,"tag":63,"props":319,"children":320},{"__ignoreMap":7},[321,329,353],{"type":24,"tag":67,"props":322,"children":323},{"class":69,"line":70},[324],{"type":24,"tag":67,"props":325,"children":326},{"style":74},[327],{"type":29,"value":328},"# SIZE變成16GB就對囉\n",{"type":24,"tag":67,"props":330,"children":331},{"class":69,"line":80},[332,336,340,344,349],{"type":24,"tag":67,"props":333,"children":334},{"style":84},[335],{"type":29,"value":110},{"type":24,"tag":67,"props":337,"children":338},{"style":113},[339],{"type":29,"value":116},{"type":24,"tag":67,"props":341,"children":342},{"style":113},[343],{"type":29,"value":121},{"type":24,"tag":67,"props":345,"children":346},{"style":113},[347],{"type":29,"value":348}," USED",{"type":24,"tag":67,"props":350,"children":351},{"style":113},[352],{"type":29,"value":131},{"type":24,"tag":67,"props":354,"children":355},{"class":69,"line":134},[356,360,364,369,374],{"type":24,"tag":67,"props":357,"children":358},{"style":84},[359],{"type":29,"value":140},{"type":24,"tag":67,"props":361,"children":362},{"style":113},[363],{"type":29,"value":145},{"type":24,"tag":67,"props":365,"children":366},{"style":113},[367],{"type":29,"value":368},"  16G",{"type":24,"tag":67,"props":370,"children":371},{"style":113},[372],{"type":29,"value":373},"   0B",{"type":24,"tag":67,"props":375,"children":376},{"style":158},[377],{"type":29,"value":161},{"type":24,"tag":52,"props":379,"children":380},{},[],{"type":24,"tag":382,"props":383,"children":385},"h2",{"id":384},"參考文獻",[386],{"type":29,"value":384},{"type":24,"tag":388,"props":389,"children":390},"ol",{},[391,404,414],{"type":24,"tag":392,"props":393,"children":394},"li",{},[395],{"type":24,"tag":396,"props":397,"children":401},"a",{"href":398,"rel":399},"https://github.com/systemd/zram-generator",[400],"nofollow",[402],{"type":29,"value":403},"zram-generator",{"type":24,"tag":392,"props":405,"children":406},{},[407],{"type":24,"tag":396,"props":408,"children":411},{"href":409,"rel":410},"https://github.com/systemd/zram-generator/blob/main/zram-generator.conf.example",[400],[412],{"type":29,"value":413},"zram-generator.conf.example",{"type":24,"tag":392,"props":415,"children":416},{},[417],{"type":24,"tag":396,"props":418,"children":421},{"href":419,"rel":420},"https://fedoraproject.org/wiki/Changes/Scale_ZRAM_to_full_memory_size",[400],[422],{"type":29,"value":423},"Changes/Scale ZRAM to full memory size",{"type":24,"tag":425,"props":426,"children":427},"style",{},[428],{"type":29,"value":429},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":80,"depth":80,"links":431},[432],{"id":384,"depth":80,"text":384},"markdown","content:articles:2023:fedora_zram_resize.md","content","articles/2023/fedora_zram_resize.md","articles/2023/fedora_zram_resize","md","2023-04-08T08:01:46.000Z","2024-01-24T07:26:04.000Z","fedora_zram_resize",[443,456,473],{"title":444,"description":445,"tags":446,"img":447,"readingTime":448,"createdAt":453,"updatedAt":454,"slug":455},"Fedora初始設定紀錄","本篇是將自己重灌 Fedora 時會做的一些事情，例如：移除沒在用的 Gnome 預設程式、安裝自己要用的程式、更新……等等的過程，以指令碼的形式紀錄下來，以求下次重灌完可以直接複製貼上執行之後就會最接近自己平常的使用狀態。",[12],"922/m6wo1h.jpg",{"text":449,"minutes":450,"time":451,"words":452},"3 min read",2.375,142500,475,"2023-01-02T08:03:40.000Z","2024-11-02T03:50:15.000Z","fedora_startup",{"title":457,"description":458,"tags":459,"img":464,"readingTime":465,"createdAt":470,"updatedAt":471,"slug":472},"使用Fedora刷Pixel 3a的LineageOS 過程紀錄","總之呢，官方公佈不保證在 5 月之後還會收到更新，而網路則說 7 月會迎來最後一次更新，因為手機狀況都還滿健康的，最愛保留舊手機舊電腦的我，就想說要來刷機了。",[12,460,461,462,463],"android","custom rom","Gooel Pixel 3a","lineageos","924/ioKHUr.jpg",{"text":466,"minutes":467,"time":468,"words":469},"13 min read",12.61,756600,2522,"2023-01-02T11:14:51.000Z","2023-12-11T10:19:13.000Z","pixel3a_custom_rom",{"title":474,"description":475,"img":476,"tags":477,"readingTime":482,"createdAt":487,"updatedAt":471,"slug":488},"使用WoeUSB在Fedora中製作Windows安裝USB","雖然脫離 Windows 很久，但有時候還是會需要幫朋友重灌電腦什麼的，所以就研究了一下如何在 Fedora 裡面製作 Windows 的安裝媒體。後來在網路上找到WoeUSB這個套件。","923/OleVsx.jpg",[12,478,479,480,481],"windows","usb","安裝","重灌",{"text":483,"minutes":484,"time":485,"words":486},"4 min read",3.54,212400,708,"2023-02-20T12:33:39.000Z","woeusb","在Fedora 38編譯Pixel 3a的LineageOS",1733405694284]