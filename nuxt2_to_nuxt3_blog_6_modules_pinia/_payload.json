[{"data":1,"prerenderedAt":1683},["Reactive",2],{"nuxt2_to_nuxt3_blog_6_modules_pinia":3,"titleMap":1064,"articles":1112},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"img":10,"tags":11,"category":19,"readingTime":20,"excerpt":25,"body":54,"_type":1011,"_id":1012,"_source":1013,"_file":1014,"_extension":1015,"createdAt":1016,"updatedAt":1016,"slug":1017,"plainTexts":1018},"/articles/2024/nuxt2_to_nuxt3_blog_6_modules_pinia","2024",false,"","部落格Nuxt 2升級Nuxt 3（六）：Vuex → Pinia","Nuxt 3 的狀態管理套件從 Nuxt 2 的 Vuex 改成了 Pinia，兩者差異不算大，部落格用到的功能也不多。其中比較要注意的就是 Nuxt 3 不再提供nuxtServerInit方法，若需要在 server 端初始化一些資料的話，就要透過其他作法來完成。","924/Ia2nWi.png",[12,13,14,15,16,17,18],"blog","nuxt","vue","nuxt2","nuxt3","vuex","pinia","frontend",{"text":21,"minutes":22,"time":23,"words":24},"5 min read",4.19,251400,838,{"type":26,"children":27},"root",[28],{"type":29,"tag":30,"props":31,"children":32},"element","p",{},[33,43,45,52],{"type":29,"tag":34,"props":35,"children":39},"a",{"href":36,"rel":37},"https://nuxt.com/docs/getting-started/state-management#using-third-party-libraries",[38],"nofollow",[40],{"type":41,"value":42},"text","Nuxt 3 的狀態管理套件從 Nuxt 2 的 Vuex 改成了 Pinia",{"type":41,"value":44},"，兩者差異不算大，部落格用到的功能也不多。其中比較要注意的就是 Nuxt 3 不再提供",{"type":29,"tag":46,"props":47,"children":49},"code",{"className":48},[],[50],{"type":41,"value":51},"nuxtServerInit",{"type":41,"value":53},"方法，若需要在 server 端初始化一些資料的話，就要透過其他作法來完成。",{"type":26,"children":55,"toc":1005},[56,71,76,80,86,91,116,119,125,145,166,426,439,629,634,637,643,648,685,946,959,968,973,986,989,994,999],{"type":29,"tag":30,"props":57,"children":58},{},[59,64,65,70],{"type":29,"tag":34,"props":60,"children":62},{"href":36,"rel":61},[38],[63],{"type":41,"value":42},{"type":41,"value":44},{"type":29,"tag":46,"props":66,"children":68},{"className":67},[],[69],{"type":41,"value":51},{"type":41,"value":53},{"type":29,"tag":30,"props":72,"children":73},{},[74],{"type":41,"value":75},"本來以為升級起來不會太困難，但踩了個小坑……。",{"type":29,"tag":77,"props":78,"children":79},"hr",{},[],{"type":29,"tag":81,"props":82,"children":84},"h2",{"id":83},"寫法差異",[85],{"type":41,"value":83},{"type":29,"tag":30,"props":87,"children":88},{},[89],{"type":41,"value":90},"這部份因為滿容易的，這邊僅列出官方文章做個參考紀錄：",{"type":29,"tag":92,"props":93,"children":94},"ul",{},[95,106],{"type":29,"tag":96,"props":97,"children":98},"li",{},[99],{"type":29,"tag":34,"props":100,"children":103},{"href":101,"rel":102},"https://pinia.vuejs.org/ssr/nuxt.html",[38],[104],{"type":41,"value":105},"Nuxt.js 整合指引",{"type":29,"tag":96,"props":107,"children":108},{},[109],{"type":29,"tag":34,"props":110,"children":113},{"href":111,"rel":112},"https://pinia.vuejs.org/cookbook/migration-vuex.html",[38],[114],{"type":41,"value":115},"Migrating from Vuex ≤ 4",{"type":29,"tag":77,"props":117,"children":118},{},[],{"type":29,"tag":81,"props":120,"children":122},{"id":121},"實作-nuxtserverinit",[123],{"type":41,"value":124},"實作 nuxtServerInit",{"type":29,"tag":30,"props":126,"children":127},{},[128,130,135,137,143],{"type":41,"value":129},"之前在 Nuxt 2 中使用",{"type":29,"tag":46,"props":131,"children":133},{"className":132},[],[134],{"type":41,"value":51},{"type":41,"value":136},"，是因為我會在此處先處理並紀錄一些 metada（例如各分類的文章數量與頁數）以供元件使用，Nuxt 3 並無提供此方式，參考網路上文章之後可以透過「只在 server 端執行的",{"type":29,"tag":46,"props":138,"children":140},{"className":139},[],[141],{"type":41,"value":142},"plugins",{"type":41,"value":144},"」來完成：",{"type":29,"tag":30,"props":146,"children":147},{},[148,150,156,158,164],{"type":41,"value":149},"首先在主要的",{"type":29,"tag":46,"props":151,"children":153},{"className":152},[],[154],{"type":41,"value":155},"store",{"type":41,"value":157},"下新增",{"type":29,"tag":46,"props":159,"children":161},{"className":160},[],[162],{"type":41,"value":163},"index.js",{"type":41,"value":165},"：",{"type":29,"tag":167,"props":168,"children":173},"pre",{"className":169,"code":170,"filename":171,"language":172,"meta":7,"style":7},"language-js shiki shiki-themes github-dark","import { defineStore } from 'pinia'\n\nimport { getCategories, setPageCount } from '~/utils/getCategories'\nimport getTags from '~/utils/getTags'\n\nexport const useMainStore = defineStore('main', {\n  state: () => ({\n    someState: '',\n  }),\n  actions: {\n    nuxtServerInit() {\n      // 這邊做原本nuxtServerInit要做的事\n    },\n  },\n})\n","store/index.js","js",[174],{"type":29,"tag":46,"props":175,"children":176},{"__ignoreMap":7},[177,206,216,238,260,268,314,338,357,366,375,389,399,408,417],{"type":29,"tag":178,"props":179,"children":182},"span",{"class":180,"line":181},"line",1,[183,189,195,200],{"type":29,"tag":178,"props":184,"children":186},{"style":185},"--shiki-default:#F97583",[187],{"type":41,"value":188},"import",{"type":29,"tag":178,"props":190,"children":192},{"style":191},"--shiki-default:#E1E4E8",[193],{"type":41,"value":194}," { defineStore } ",{"type":29,"tag":178,"props":196,"children":197},{"style":185},[198],{"type":41,"value":199},"from",{"type":29,"tag":178,"props":201,"children":203},{"style":202},"--shiki-default:#9ECBFF",[204],{"type":41,"value":205}," 'pinia'\n",{"type":29,"tag":178,"props":207,"children":209},{"class":180,"line":208},2,[210],{"type":29,"tag":178,"props":211,"children":213},{"emptyLinePlaceholder":212},true,[214],{"type":41,"value":215},"\n",{"type":29,"tag":178,"props":217,"children":219},{"class":180,"line":218},3,[220,224,229,233],{"type":29,"tag":178,"props":221,"children":222},{"style":185},[223],{"type":41,"value":188},{"type":29,"tag":178,"props":225,"children":226},{"style":191},[227],{"type":41,"value":228}," { getCategories, setPageCount } ",{"type":29,"tag":178,"props":230,"children":231},{"style":185},[232],{"type":41,"value":199},{"type":29,"tag":178,"props":234,"children":235},{"style":202},[236],{"type":41,"value":237}," '~/utils/getCategories'\n",{"type":29,"tag":178,"props":239,"children":241},{"class":180,"line":240},4,[242,246,251,255],{"type":29,"tag":178,"props":243,"children":244},{"style":185},[245],{"type":41,"value":188},{"type":29,"tag":178,"props":247,"children":248},{"style":191},[249],{"type":41,"value":250}," getTags ",{"type":29,"tag":178,"props":252,"children":253},{"style":185},[254],{"type":41,"value":199},{"type":29,"tag":178,"props":256,"children":257},{"style":202},[258],{"type":41,"value":259}," '~/utils/getTags'\n",{"type":29,"tag":178,"props":261,"children":263},{"class":180,"line":262},5,[264],{"type":29,"tag":178,"props":265,"children":266},{"emptyLinePlaceholder":212},[267],{"type":41,"value":215},{"type":29,"tag":178,"props":269,"children":271},{"class":180,"line":270},6,[272,277,282,288,293,299,304,309],{"type":29,"tag":178,"props":273,"children":274},{"style":185},[275],{"type":41,"value":276},"export",{"type":29,"tag":178,"props":278,"children":279},{"style":185},[280],{"type":41,"value":281}," const",{"type":29,"tag":178,"props":283,"children":285},{"style":284},"--shiki-default:#79B8FF",[286],{"type":41,"value":287}," useMainStore",{"type":29,"tag":178,"props":289,"children":290},{"style":185},[291],{"type":41,"value":292}," =",{"type":29,"tag":178,"props":294,"children":296},{"style":295},"--shiki-default:#B392F0",[297],{"type":41,"value":298}," defineStore",{"type":29,"tag":178,"props":300,"children":301},{"style":191},[302],{"type":41,"value":303},"(",{"type":29,"tag":178,"props":305,"children":306},{"style":202},[307],{"type":41,"value":308},"'main'",{"type":29,"tag":178,"props":310,"children":311},{"style":191},[312],{"type":41,"value":313},", {\n",{"type":29,"tag":178,"props":315,"children":317},{"class":180,"line":316},7,[318,323,328,333],{"type":29,"tag":178,"props":319,"children":320},{"style":295},[321],{"type":41,"value":322},"  state",{"type":29,"tag":178,"props":324,"children":325},{"style":191},[326],{"type":41,"value":327},": () ",{"type":29,"tag":178,"props":329,"children":330},{"style":185},[331],{"type":41,"value":332},"=>",{"type":29,"tag":178,"props":334,"children":335},{"style":191},[336],{"type":41,"value":337}," ({\n",{"type":29,"tag":178,"props":339,"children":341},{"class":180,"line":340},8,[342,347,352],{"type":29,"tag":178,"props":343,"children":344},{"style":191},[345],{"type":41,"value":346},"    someState: ",{"type":29,"tag":178,"props":348,"children":349},{"style":202},[350],{"type":41,"value":351},"''",{"type":29,"tag":178,"props":353,"children":354},{"style":191},[355],{"type":41,"value":356},",\n",{"type":29,"tag":178,"props":358,"children":360},{"class":180,"line":359},9,[361],{"type":29,"tag":178,"props":362,"children":363},{"style":191},[364],{"type":41,"value":365},"  }),\n",{"type":29,"tag":178,"props":367,"children":369},{"class":180,"line":368},10,[370],{"type":29,"tag":178,"props":371,"children":372},{"style":191},[373],{"type":41,"value":374},"  actions: {\n",{"type":29,"tag":178,"props":376,"children":378},{"class":180,"line":377},11,[379,384],{"type":29,"tag":178,"props":380,"children":381},{"style":295},[382],{"type":41,"value":383},"    nuxtServerInit",{"type":29,"tag":178,"props":385,"children":386},{"style":191},[387],{"type":41,"value":388},"() {\n",{"type":29,"tag":178,"props":390,"children":392},{"class":180,"line":391},12,[393],{"type":29,"tag":178,"props":394,"children":396},{"style":395},"--shiki-default:#6A737D",[397],{"type":41,"value":398},"      // 這邊做原本nuxtServerInit要做的事\n",{"type":29,"tag":178,"props":400,"children":402},{"class":180,"line":401},13,[403],{"type":29,"tag":178,"props":404,"children":405},{"style":191},[406],{"type":41,"value":407},"    },\n",{"type":29,"tag":178,"props":409,"children":411},{"class":180,"line":410},14,[412],{"type":29,"tag":178,"props":413,"children":414},{"style":191},[415],{"type":41,"value":416},"  },\n",{"type":29,"tag":178,"props":418,"children":420},{"class":180,"line":419},15,[421],{"type":29,"tag":178,"props":422,"children":423},{"style":191},[424],{"type":41,"value":425},"})\n",{"type":29,"tag":30,"props":427,"children":428},{},[429,431,437],{"type":41,"value":430},"接著新增只在 server 端執行的 plugin，可以在命名後加上後綴字",{"type":29,"tag":46,"props":432,"children":434},{"className":433},[],[435],{"type":41,"value":436},".server.js",{"type":41,"value":438},"來標明：",{"type":29,"tag":167,"props":440,"children":443},{"className":169,"code":441,"filename":442,"language":172,"meta":7,"style":7},"import { useMainStore } from '~/store'\n\nexport default defineNuxtPlugin(async ({ $pinia }) => {\n  const someAsyncData = await someAsyncFn()\n\n  // 這邊引用前段宣告的store，記得要把context的$pinia傳進去。\n  // 可參考：https://pinia.vuejs.org/ssr/nuxt.html#Awaiting-for-actions-in-pages\n  const mainStore = useMainStore($pinia)\n  mainStore.nuxtServerInit()\n})\n","plugins/init.server.js",[444],{"type":29,"tag":46,"props":445,"children":446},{"__ignoreMap":7},[447,468,475,526,558,565,573,581,606,622],{"type":29,"tag":178,"props":448,"children":449},{"class":180,"line":181},[450,454,459,463],{"type":29,"tag":178,"props":451,"children":452},{"style":185},[453],{"type":41,"value":188},{"type":29,"tag":178,"props":455,"children":456},{"style":191},[457],{"type":41,"value":458}," { useMainStore } ",{"type":29,"tag":178,"props":460,"children":461},{"style":185},[462],{"type":41,"value":199},{"type":29,"tag":178,"props":464,"children":465},{"style":202},[466],{"type":41,"value":467}," '~/store'\n",{"type":29,"tag":178,"props":469,"children":470},{"class":180,"line":208},[471],{"type":29,"tag":178,"props":472,"children":473},{"emptyLinePlaceholder":212},[474],{"type":41,"value":215},{"type":29,"tag":178,"props":476,"children":477},{"class":180,"line":218},[478,482,487,492,496,501,506,512,517,521],{"type":29,"tag":178,"props":479,"children":480},{"style":185},[481],{"type":41,"value":276},{"type":29,"tag":178,"props":483,"children":484},{"style":185},[485],{"type":41,"value":486}," default",{"type":29,"tag":178,"props":488,"children":489},{"style":295},[490],{"type":41,"value":491}," defineNuxtPlugin",{"type":29,"tag":178,"props":493,"children":494},{"style":191},[495],{"type":41,"value":303},{"type":29,"tag":178,"props":497,"children":498},{"style":185},[499],{"type":41,"value":500},"async",{"type":29,"tag":178,"props":502,"children":503},{"style":191},[504],{"type":41,"value":505}," ({ ",{"type":29,"tag":178,"props":507,"children":509},{"style":508},"--shiki-default:#FFAB70",[510],{"type":41,"value":511},"$pinia",{"type":29,"tag":178,"props":513,"children":514},{"style":191},[515],{"type":41,"value":516}," }) ",{"type":29,"tag":178,"props":518,"children":519},{"style":185},[520],{"type":41,"value":332},{"type":29,"tag":178,"props":522,"children":523},{"style":191},[524],{"type":41,"value":525}," {\n",{"type":29,"tag":178,"props":527,"children":528},{"class":180,"line":240},[529,534,539,543,548,553],{"type":29,"tag":178,"props":530,"children":531},{"style":185},[532],{"type":41,"value":533},"  const",{"type":29,"tag":178,"props":535,"children":536},{"style":284},[537],{"type":41,"value":538}," someAsyncData",{"type":29,"tag":178,"props":540,"children":541},{"style":185},[542],{"type":41,"value":292},{"type":29,"tag":178,"props":544,"children":545},{"style":185},[546],{"type":41,"value":547}," await",{"type":29,"tag":178,"props":549,"children":550},{"style":295},[551],{"type":41,"value":552}," someAsyncFn",{"type":29,"tag":178,"props":554,"children":555},{"style":191},[556],{"type":41,"value":557},"()\n",{"type":29,"tag":178,"props":559,"children":560},{"class":180,"line":262},[561],{"type":29,"tag":178,"props":562,"children":563},{"emptyLinePlaceholder":212},[564],{"type":41,"value":215},{"type":29,"tag":178,"props":566,"children":567},{"class":180,"line":270},[568],{"type":29,"tag":178,"props":569,"children":570},{"style":395},[571],{"type":41,"value":572},"  // 這邊引用前段宣告的store，記得要把context的$pinia傳進去。\n",{"type":29,"tag":178,"props":574,"children":575},{"class":180,"line":316},[576],{"type":29,"tag":178,"props":577,"children":578},{"style":395},[579],{"type":41,"value":580},"  // 可參考：https://pinia.vuejs.org/ssr/nuxt.html#Awaiting-for-actions-in-pages\n",{"type":29,"tag":178,"props":582,"children":583},{"class":180,"line":340},[584,588,593,597,601],{"type":29,"tag":178,"props":585,"children":586},{"style":185},[587],{"type":41,"value":533},{"type":29,"tag":178,"props":589,"children":590},{"style":284},[591],{"type":41,"value":592}," mainStore",{"type":29,"tag":178,"props":594,"children":595},{"style":185},[596],{"type":41,"value":292},{"type":29,"tag":178,"props":598,"children":599},{"style":295},[600],{"type":41,"value":287},{"type":29,"tag":178,"props":602,"children":603},{"style":191},[604],{"type":41,"value":605},"($pinia)\n",{"type":29,"tag":178,"props":607,"children":608},{"class":180,"line":359},[609,614,618],{"type":29,"tag":178,"props":610,"children":611},{"style":191},[612],{"type":41,"value":613},"  mainStore.",{"type":29,"tag":178,"props":615,"children":616},{"style":295},[617],{"type":41,"value":51},{"type":29,"tag":178,"props":619,"children":620},{"style":191},[621],{"type":41,"value":557},{"type":29,"tag":178,"props":623,"children":624},{"class":180,"line":368},[625],{"type":29,"tag":178,"props":626,"children":627},{"style":191},[628],{"type":41,"value":425},{"type":29,"tag":30,"props":630,"children":631},{},[632],{"type":41,"value":633},"這樣就完成囉。",{"type":29,"tag":77,"props":635,"children":636},{},[],{"type":29,"tag":81,"props":638,"children":640},{"id":639},"在-ssr-端修改-state-的眉角",[641],{"type":41,"value":642},"在 SSR 端修改 state 的眉角",{"type":29,"tag":30,"props":644,"children":645},{},[646],{"type":41,"value":647},"這中間踩了一個坑，本來以為是 Bug 但其實不是。",{"type":29,"tag":30,"props":649,"children":650},{},[651,653,659,661,667,669,675,677,683],{"type":41,"value":652},"總之是這樣的，我在頁面中去修改了某個在 store 中的屬性，而在 layout 中順序比",{"type":29,"tag":46,"props":654,"children":656},{"className":655},[],[657],{"type":41,"value":658},"\u003Cslot />",{"type":41,"value":660},"（也就是",{"type":29,"tag":46,"props":662,"children":664},{"className":663},[],[665],{"type":41,"value":666},"\u003CNuxtPage />",{"type":41,"value":668},"的置入點）前面的元件，若依賴了這個屬性去做",{"type":29,"tag":46,"props":670,"children":672},{"className":671},[],[673],{"type":41,"value":674},"v-if",{"type":41,"value":676},"的顯示，則會在直接進入頁面時出現",{"type":29,"tag":46,"props":678,"children":680},{"className":679},[],[681],{"type":41,"value":682},"Hydration node mismatch",{"type":41,"value":684},"的警告，暗示我 server 端與 client 端的元件長得不一樣（也就是資料不一致）。",{"type":29,"tag":167,"props":686,"children":690},{"className":687,"code":688,"filename":689,"language":14,"meta":7,"style":7},"language-vue shiki shiki-themes github-dark","\u003Ctemplate>\n  \u003Cdiv>\n    \u003C!-- 這裡面有個元素依賴了store的state切換顯示 -->\n    \u003C!-- TestHeader會出現Hydration node mismatch的問題 -->\n    \u003CTestHeader />\n\n    \u003C!-- 我在頁面元件中修改了store的state -->\n    \u003CNuxtPage />\n\n    \u003C!-- 放在NuxtPage後面的TestFooter不會出現同樣問題 -->\n    \u003CTestFooter />\n  \u003C/div>\n\u003C/template>\n\n\u003Cscript setup>\nimport TestHeader from '~/components/test-header.vue'\nimport TestFooter from '~/components/test-footer.vue'\n\u003C/script>\n","layouts/default.vue",[691],{"type":29,"tag":46,"props":692,"children":693},{"__ignoreMap":7},[694,713,730,738,746,764,771,779,795,802,810,826,842,858,865,886,908,930],{"type":29,"tag":178,"props":695,"children":696},{"class":180,"line":181},[697,702,708],{"type":29,"tag":178,"props":698,"children":699},{"style":191},[700],{"type":41,"value":701},"\u003C",{"type":29,"tag":178,"props":703,"children":705},{"style":704},"--shiki-default:#85E89D",[706],{"type":41,"value":707},"template",{"type":29,"tag":178,"props":709,"children":710},{"style":191},[711],{"type":41,"value":712},">\n",{"type":29,"tag":178,"props":714,"children":715},{"class":180,"line":208},[716,721,726],{"type":29,"tag":178,"props":717,"children":718},{"style":191},[719],{"type":41,"value":720},"  \u003C",{"type":29,"tag":178,"props":722,"children":723},{"style":704},[724],{"type":41,"value":725},"div",{"type":29,"tag":178,"props":727,"children":728},{"style":191},[729],{"type":41,"value":712},{"type":29,"tag":178,"props":731,"children":732},{"class":180,"line":218},[733],{"type":29,"tag":178,"props":734,"children":735},{"style":395},[736],{"type":41,"value":737},"    \u003C!-- 這裡面有個元素依賴了store的state切換顯示 -->\n",{"type":29,"tag":178,"props":739,"children":740},{"class":180,"line":240},[741],{"type":29,"tag":178,"props":742,"children":743},{"style":395},[744],{"type":41,"value":745},"    \u003C!-- TestHeader會出現Hydration node mismatch的問題 -->\n",{"type":29,"tag":178,"props":747,"children":748},{"class":180,"line":262},[749,754,759],{"type":29,"tag":178,"props":750,"children":751},{"style":191},[752],{"type":41,"value":753},"    \u003C",{"type":29,"tag":178,"props":755,"children":756},{"style":704},[757],{"type":41,"value":758},"TestHeader",{"type":29,"tag":178,"props":760,"children":761},{"style":191},[762],{"type":41,"value":763}," />\n",{"type":29,"tag":178,"props":765,"children":766},{"class":180,"line":270},[767],{"type":29,"tag":178,"props":768,"children":769},{"emptyLinePlaceholder":212},[770],{"type":41,"value":215},{"type":29,"tag":178,"props":772,"children":773},{"class":180,"line":316},[774],{"type":29,"tag":178,"props":775,"children":776},{"style":395},[777],{"type":41,"value":778},"    \u003C!-- 我在頁面元件中修改了store的state -->\n",{"type":29,"tag":178,"props":780,"children":781},{"class":180,"line":340},[782,786,791],{"type":29,"tag":178,"props":783,"children":784},{"style":191},[785],{"type":41,"value":753},{"type":29,"tag":178,"props":787,"children":788},{"style":704},[789],{"type":41,"value":790},"NuxtPage",{"type":29,"tag":178,"props":792,"children":793},{"style":191},[794],{"type":41,"value":763},{"type":29,"tag":178,"props":796,"children":797},{"class":180,"line":359},[798],{"type":29,"tag":178,"props":799,"children":800},{"emptyLinePlaceholder":212},[801],{"type":41,"value":215},{"type":29,"tag":178,"props":803,"children":804},{"class":180,"line":368},[805],{"type":29,"tag":178,"props":806,"children":807},{"style":395},[808],{"type":41,"value":809},"    \u003C!-- 放在NuxtPage後面的TestFooter不會出現同樣問題 -->\n",{"type":29,"tag":178,"props":811,"children":812},{"class":180,"line":377},[813,817,822],{"type":29,"tag":178,"props":814,"children":815},{"style":191},[816],{"type":41,"value":753},{"type":29,"tag":178,"props":818,"children":819},{"style":704},[820],{"type":41,"value":821},"TestFooter",{"type":29,"tag":178,"props":823,"children":824},{"style":191},[825],{"type":41,"value":763},{"type":29,"tag":178,"props":827,"children":828},{"class":180,"line":391},[829,834,838],{"type":29,"tag":178,"props":830,"children":831},{"style":191},[832],{"type":41,"value":833},"  \u003C/",{"type":29,"tag":178,"props":835,"children":836},{"style":704},[837],{"type":41,"value":725},{"type":29,"tag":178,"props":839,"children":840},{"style":191},[841],{"type":41,"value":712},{"type":29,"tag":178,"props":843,"children":844},{"class":180,"line":401},[845,850,854],{"type":29,"tag":178,"props":846,"children":847},{"style":191},[848],{"type":41,"value":849},"\u003C/",{"type":29,"tag":178,"props":851,"children":852},{"style":704},[853],{"type":41,"value":707},{"type":29,"tag":178,"props":855,"children":856},{"style":191},[857],{"type":41,"value":712},{"type":29,"tag":178,"props":859,"children":860},{"class":180,"line":410},[861],{"type":29,"tag":178,"props":862,"children":863},{"emptyLinePlaceholder":212},[864],{"type":41,"value":215},{"type":29,"tag":178,"props":866,"children":867},{"class":180,"line":419},[868,872,877,882],{"type":29,"tag":178,"props":869,"children":870},{"style":191},[871],{"type":41,"value":701},{"type":29,"tag":178,"props":873,"children":874},{"style":704},[875],{"type":41,"value":876},"script",{"type":29,"tag":178,"props":878,"children":879},{"style":295},[880],{"type":41,"value":881}," setup",{"type":29,"tag":178,"props":883,"children":884},{"style":191},[885],{"type":41,"value":712},{"type":29,"tag":178,"props":887,"children":889},{"class":180,"line":888},16,[890,894,899,903],{"type":29,"tag":178,"props":891,"children":892},{"style":185},[893],{"type":41,"value":188},{"type":29,"tag":178,"props":895,"children":896},{"style":191},[897],{"type":41,"value":898}," TestHeader ",{"type":29,"tag":178,"props":900,"children":901},{"style":185},[902],{"type":41,"value":199},{"type":29,"tag":178,"props":904,"children":905},{"style":202},[906],{"type":41,"value":907}," '~/components/test-header.vue'\n",{"type":29,"tag":178,"props":909,"children":911},{"class":180,"line":910},17,[912,916,921,925],{"type":29,"tag":178,"props":913,"children":914},{"style":185},[915],{"type":41,"value":188},{"type":29,"tag":178,"props":917,"children":918},{"style":191},[919],{"type":41,"value":920}," TestFooter ",{"type":29,"tag":178,"props":922,"children":923},{"style":185},[924],{"type":41,"value":199},{"type":29,"tag":178,"props":926,"children":927},{"style":202},[928],{"type":41,"value":929}," '~/components/test-footer.vue'\n",{"type":29,"tag":178,"props":931,"children":933},{"class":180,"line":932},18,[934,938,942],{"type":29,"tag":178,"props":935,"children":936},{"style":191},[937],{"type":41,"value":849},{"type":29,"tag":178,"props":939,"children":940},{"style":704},[941],{"type":41,"value":876},{"type":29,"tag":178,"props":943,"children":944},{"style":191},[945],{"type":41,"value":712},{"type":29,"tag":30,"props":947,"children":948},{},[949,951,958],{"type":41,"value":950},"幾經測試之後，發現好像是元件解析順序的問題，也在 Nuxt Github 的 Discussions 裡面有發現",{"type":29,"tag":34,"props":952,"children":955},{"href":953,"rel":954},"https://github.com/nuxt/nuxt/discussions/17011",[38],[956],{"type":41,"value":957},"相關討論",{"type":41,"value":165},{"type":29,"tag":960,"props":961,"children":962},"blockquote",{},[963],{"type":29,"tag":30,"props":964,"children":965},{},[966],{"type":41,"value":967},"This is a common SSR gotcha. The issue is that on SSR, Vue renders the HTML from top to bottom, outside to inside. And if you only fetch some data as you are rendering the 'inner' part of the page, it doesn't rerender the layout at the top of the page. (On client-side it's fine as can be reactive.) So if you have a common piece you rely on for rendering your page, make sure to fetch it in the layout, a plugin, or a middleware - somewhere outside of the rendering process.",{"type":29,"tag":30,"props":969,"children":970},{},[971],{"type":41,"value":972},"沒錯，如 Nuxt 團隊的領導人所說：這是一個「common SSR gotcha」（常見的 SSR 問題），無法被解決，只能在開發時自己小心了（是說 Nuxt 2 沒這問題呀……還是只是沒 WARN 而已？）。",{"type":29,"tag":30,"props":974,"children":975},{},[976,978,984],{"type":41,"value":977},"目前因為是 SEO 不敏感的區塊所以還好，解法是直接先把那一個區塊用",{"type":29,"tag":46,"props":979,"children":981},{"className":980},[],[982],{"type":41,"value":983},"\u003CClientOnly>",{"type":41,"value":985},"包起來，只是未來若遇到這樣的情境，而區塊剛好是 SEO 敏感的區塊……可能就要想想怎麼做了。",{"type":29,"tag":77,"props":987,"children":988},{},[],{"type":29,"tag":81,"props":990,"children":992},{"id":991},"後記",[993],{"type":41,"value":991},{"type":29,"tag":30,"props":995,"children":996},{},[997],{"type":41,"value":998},"大概是這樣，只能說 Nuxt 2 升 3 的坑其實不少啊……（顯示為精疲力盡）。",{"type":29,"tag":1000,"props":1001,"children":1002},"style",{},[1003],{"type":41,"value":1004},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":208,"depth":208,"links":1006},[1007,1008,1009,1010],{"id":83,"depth":208,"text":83},{"id":121,"depth":208,"text":124},{"id":639,"depth":208,"text":642},{"id":991,"depth":208,"text":991},"markdown","content:articles:2024:nuxt2_to_nuxt3_blog_6_modules_pinia.md","content","articles/2024/nuxt2_to_nuxt3_blog_6_modules_pinia.md","md","2024-01-24T07:26:04.000Z","nuxt2_to_nuxt3_blog_6_modules_pinia",[42,44,51,53,75,83,90,105,115,124,129,51,136,142,144,149,155,157,163,165,188,1019,199,1020,7,188,1021,199,1022,188,1023,199,1024,7,276,1025,1026,1027,1028,303,308,1029,1030,1031,332,1032,1033,351,1034,1035,1036,51,1037,1038,1039,1039,1040,430,436,438,188,1041,199,1042,7,276,1043,1044,303,500,1032,511,1040,332,1045,1025,1046,1027,1047,1048,1049,7,1050,1051,1025,1052,1027,1026,1053,1054,51,1049,1040,633,642,647,652,658,660,666,668,674,676,682,684,701,707,1055,701,725,1055,1056,1057,701,758,1058,7,1059,701,790,1058,7,1060,701,821,1058,849,725,1055,849,707,1055,7,701,876,1061,1055,188,758,199,1062,188,821,199,1063,849,876,1055,950,957,165,967,972,977,983,985,991,998,1004],"{ defineStore }","'pinia'","{ getCategories, setPageCount }","'~/utils/getCategories'","getTags","'~/utils/getTags'","const","useMainStore","=","defineStore",", {","state",": ()","({","someState:",",","}),","actions: {","() {","// 這邊做原本nuxtServerInit要做的事","},","})","{ useMainStore }","'~/store'","default","defineNuxtPlugin","{","someAsyncData","await","someAsyncFn","()","// 這邊引用前段宣告的store，記得要把context的$pinia傳進去。","// 可參考：https://pinia.vuejs.org/ssr/nuxt.html#Awaiting-for-actions-in-pages","mainStore","($pinia)","mainStore.",">","\u003C!-- 這裡面有個元素依賴了store的state切換顯示 -->","\u003C!-- TestHeader會出現Hydration node mismatch的問題 -->","/>","\u003C!-- 我在頁面元件中修改了store的state -->","\u003C!-- 放在NuxtPage後面的TestFooter不會出現同樣問題 -->","setup","'~/components/test-header.vue'","'~/components/test-footer.vue'",{"buy_me_a_tea":1065,"canned_fish_dha_epa":1066,"collections":1067,"crypto_after_ftx":1068,"crypto_liquidity_mining_v2":1069,"fedora_disable_turbo_boost":1070,"fedora_docker_startup":1071,"fedora_lineageos_sargo":1072,"fedora_megasync":1073,"fedora_startup":1074,"fedora_unrar":1075,"fedora_youtube_download":1076,"fedora_zram_resize":1077,"free_diving_seeing_friend_black_out_first_time":1078,"linux_ten_years_experience":1079,"macbook_air_2013_fedora":1080,"mark_forster":1081,"mobile_chrome_sticky_bottom":1082,"nuxt2_bootstrapvue_treeshaking":1083,"nuxt2_content_code_block_copy_paste":1084,"nuxt2_content_git":1085,"nuxt2_dynamic_routes_sitemap":1086,"okinawa_first_day_2023":1087,"okinawa_foods_2023":1088,"okinawa_fourth_day_2023":1089,"okinawa_hotel_2023":1090,"okinawa_one_day_tour_bus_2023_south":1091,"okinawa_one_day_tour_bus_2023":1092,"online_survey_money":1093,"pixel3a_custom_rom":1094,"ubuntu_lineageos_sargo":1095,"ubuntu_swap_resize":1096,"what_we_know_rainbow_parent":1097,"what_we_know_rainbow_therapy":1098,"woeusb":1099,"chrome_os_flex_asus_e203na":1100,"compare_blog":1101,"crypto_liquidity_mining_v3":1102,"nuxt2_to_nuxt3_blog_0_intro":1103,"nuxt2_to_nuxt3_blog_1_ui":1104,"nuxt2_to_nuxt3_blog_2_settings":1105,"nuxt2_to_nuxt3_blog_3_modules_content":1106,"nuxt2_to_nuxt3_blog_4_modules_pwa":1107,"nuxt2_to_nuxt3_blog_5_modules_sitemap":1108,"nuxt2_to_nuxt3_blog_6_modules_pinia":8,"nuxt3_vite_pwa":1109,"vue_stack_deployment_pm2":1110,"vue_stack_development_devcontainer":1111},"關於我跟隨機手札的二三事","透過魚罐頭補充Omega 3(EPA / DHA)的可行性","個人作品集","寫在FTX事件之後：冷錢包中那些看不見的管理及使用成本","流動性挖礦v2心得記錄","在Fedora 38中關閉Intel Turbo Boost","在Fedora 38中安裝Docker","在Fedora 38編譯Pixel 3a的LineageOS","MEGA - 完整支援Fedora Workstation 38的雲端硬碟","Fedora初始設定紀錄","在Fedora 38中使用unrar解壓縮RAR檔案","在Fedora 38中使用video-downloader下載Youtube影片","調整Fedora中的ZRAM大小","寫在第一次目睹潛友淺水昏迷之後","哪些人適合嘗試Linux發行版？｜Linux發行版十年使用心得","在MacBook Air 2013上安裝Fedora 38","完全不懂德文的人喜歡上的Mark Forster","解決底部Sticky元素在Android Chrome滾動時渲染位置錯誤的問題","Nuxt2中的BootstrapVue TreeShaking","在Nuxt Content v1中實現程式碼區塊複製貼上功能","使用nuxt-content-git取得Nuxt2 Content中正確的檔案時間","在Nuxt 2中建立動態routes的sitemap","2023沖繩自由行：第一天——首里城","2023沖繩自由行：食物篇——沖繩蕎麥麵、敘敘院燒肉、A&W、豬肉蛋飯糰、貢茶、吉野家、琉球新麵通堂、Blue Seal","2023沖繩自由行：第四天——市區單軌列車耍廢晃晃","2023沖繩自由行：住宿篇——東急STAY沖繩那霸","2023沖繩自由行：第三天——觀光巴士南部一日遊","2023沖繩自由行：第二天——觀光巴士北部一日遊","線上問卷調查賺取「額外微薄收入」心得","使用Fedora刷Pixel 3a的LineageOS 過程紀錄","在Ubuntu 22.04編譯Pixel 3a的LineageOS 20.0","調整Ubuntu中的SWAP大小","同志家庭中的兒少福祉——學術研究怎麼說？","性傾向轉換療法的有效性——學術研究怎麼說？","使用WoeUSB在Fedora中製作Windows安裝USB","ChromeOS Flex 試用心得 @ ASUS E203NA","部落格遊牧紀錄：Blogger、Medium、Matters、Github Pages","流動性挖礦v3心得記錄","部落格Nuxt 2升級Nuxt 3：前言","部落格Nuxt 2升級Nuxt 3（一）：bootstrapVue置換成自製的bootrap5元件","部落格Nuxt 2升級Nuxt 3（二）：基本架構與設定值","部落格Nuxt 2升級Nuxt 3（三）：Nuxt Content v1 → v2","部落格Nuxt 2升級Nuxt 3（四）：PWA模組 @nuxt/pwa → @vite-pwa/nuxt","部落格Nuxt 2升級Nuxt 3（五）：Sitemap模組升級","Nuxt3中使用vite-pwa實現pwa功能","設定PM2來管理Nuxt SSR網站","使用VSCode搭配DevContainer容器化開發Vue專案",[1113,1127,1138,1154,1172,1182,1194,1209,1217,1227,1237,1247,1250,1259,1271,1283,1299,1315,1334,1348,1359,1372,1382,1394,1406,1416,1427,1440,1454,1465,1478,1487,1501,1513,1524,1534,1546,1560,1574,1584,1594,1604,1615,1629,1639,1652,1662,1673],{"title":1111,"description":1114,"img":1115,"tags":1116,"readingTime":1120,"createdAt":1125,"updatedAt":1125,"slug":1126},"在這個什麼都可以容器化的年代，開發也是可以容器化的。容器化的好處多多，其中自己覺得最重要的部份就是不再需要寫繁雜的設定步驟文件流傳後代（？），只要寫好 dockerfile，就能 1:1 重製開發環境。","924/uCCnpK.jpg",[1117,1118,1119],"docker","vscode","devcontainer",{"text":1121,"minutes":1122,"time":1123,"words":1124},"4 min read",3.195,191700,639,"2024-06-02T12:48:40.000Z","vue_stack_development_devcontainer",{"title":1110,"description":1128,"img":1129,"tags":1130,"readingTime":1132,"createdAt":1136,"updatedAt":1136,"slug":1137},"最近想整理一下自己在工作中用到的工具集，回頭看發現比較不熟的是 pm2 的初始設定，畢竟設定好之後也只會用到pm2 status、pm2 logs、pm2 monit……這些維護用的指令而已，就決定先從 pm2 開始紀錄了。","924/Crirxh.jpg",[13,14,1131],"pm2",{"text":1121,"minutes":1133,"time":1134,"words":1135},3.83,229800,766,"2024-06-02T02:55:15.000Z","vue_stack_deployment_pm2",{"title":1087,"description":1139,"img":1140,"tags":1141,"readingTime":1148,"createdAt":1152,"updatedAt":1152,"slug":1153},"本來要開始寫菲律賓宿霧薄荷島的遊記，結果發現去年的沖繩還沒寫完啊！所以就回頭來寫了。這次因為是買大約沖繩時間中午到的飛機，入個住之後白天剩沒多少時間，想說去首里城看一下就好，入住的飯店很不錯，會額外寫一篇介紹。","922/6iMitZ.jpg",[1142,1143,1144,1145,1146,1147],"沖繩","自助旅行","自由行","okinawa","首里城","單軌列車",{"text":21,"minutes":1149,"time":1150,"words":1151},4.66,279600,932,"2024-03-21T07:44:12.000Z","okinawa_first_day_2023",{"title":1088,"description":1155,"img":1156,"tags":1157,"readingTime":1166,"createdAt":1152,"updatedAt":1152,"slug":1171},"這次來沖繩除了特別訂好的敘敘院燒肉以外，吃得比較隨意，有時候直接吃飯店附近的吉野家，有時去吃類似沖繩麥當勞的 A&W，或是隨便在 Google 地圖找了一間 SOBA 來吃，令人驚訝的是都沒踩什麼大雷，即便是吉野家也比台灣的好吃幾十倍。","923/12Txpj.jpg",[1142,1143,1144,1145,1158,1159,1160,1161,1162,1163,1164,1165],"沖繩蕎麥麵","敘敘院燒肉","A&W","豬肉蛋飯糰","貢茶","吉野家","琉球新麵通堂","Blue Seal",{"text":1167,"minutes":1168,"time":1169,"words":1170},"15 min read",14.375,862500,2875,"okinawa_foods_2023",{"title":1089,"description":1173,"img":1174,"tags":1175,"readingTime":1178,"createdAt":1152,"updatedAt":1152,"slug":1181},"前兩天坐著觀光巴士跑完南北部較遠的景點後，這一天就想說坐單軌列車在市區內晃晃就好了，順便採買一些要帶回去的紀念品。早上吃完飯店早餐之後去了波上宮，吃完中餐後去了沖繩縣立博物館・美術館。","923/cLSor8.jpg",[1142,1143,1144,1145,1176,1147,1177],"波上宮","沖繩縣立博物館・美術館",{"text":1121,"minutes":240,"time":1179,"words":1180},240000,800,"okinawa_fourth_day_2023",{"title":1090,"description":1183,"img":1184,"tags":1185,"readingTime":1189,"createdAt":1152,"updatedAt":1152,"slug":1193},"這次住宿我們是住在 Klook 上看到的東急（Tokyu）Stay 沖繩那霸，覺得非常不錯且 CP 值很高，特地打一篇文章以茲紀錄。","922/HXajvv.jpg",[1142,1143,1144,1145,1186,1187,1188],"住宿","東急","Tokyu Stay",{"text":21,"minutes":1190,"time":1191,"words":1192},4.3,258000,860,"okinawa_hotel_2023",{"title":1102,"description":1195,"img":1196,"tags":1197,"readingTime":1202,"createdAt":1207,"updatedAt":1207,"slug":1208},"在 2023 年 4 月 1 日 Uniswap v3 原始碼許可證過期後，許多其他鏈上的龍頭交易所已紛紛分叉其原始碼並將流動性挖礦功能升級到 v3，大部分的 v2 流動性礦池已無利益可言，原本我在 Pancakeswap 上的 v2 流動性也須隨之轉換。","922/wa2rhz.jpg",[1198,1199,1200,1201],"DeFi","投資","流動性挖礦","加密貨幣",{"text":1203,"minutes":1204,"time":1205,"words":1206},"11 min read",10.595,635700,2119,"2024-02-17T07:08:48.000Z","crypto_liquidity_mining_v3",{"title":1105,"description":1210,"img":10,"tags":1211,"readingTime":1212,"createdAt":1016,"updatedAt":1016,"slug":1216},"在抽換 UI 框架之後，接下來就開始真正的升級之旅了。參考官方的升級指南，第一步就是先修改設定值。",[12,13,14,15,16],{"text":1121,"minutes":1213,"time":1214,"words":1215},3.835,230100,767,"nuxt2_to_nuxt3_blog_2_settings",{"title":1106,"description":1218,"img":10,"tags":1219,"readingTime":1221,"createdAt":1016,"updatedAt":1016,"slug":1226},"在初步修改非模組的設定值之後，接著就要開始著手模組的升級，這部份是連同改寫為 composition api 一起做的，畢竟不可能只升級特定模組的用法而不去動到其他程式碼，但為了讓文章閱讀容易，就還是分模組來紀錄。",[12,13,14,15,16,1220],"nuxt content",{"text":1222,"minutes":1223,"time":1224,"words":1225},"7 min read",6.025,361500,1205,"nuxt2_to_nuxt3_blog_3_modules_content",{"title":1107,"description":1228,"img":10,"tags":1229,"readingTime":1231,"createdAt":1016,"updatedAt":1016,"slug":1236},"在紀錄了最重要的Nuxt Content升級過程之後，接著是 PWA 模組。",[12,13,14,15,16,1230],"pwa",{"text":1232,"minutes":1233,"time":1234,"words":1235},"1 min read",0.505,30300,101,"nuxt2_to_nuxt3_blog_4_modules_pwa",{"title":1108,"description":1238,"img":10,"tags":1239,"readingTime":1241,"createdAt":1016,"updatedAt":1016,"slug":1246},"原本使用的 Sitemap 模組 @nuxtjs/sitemap 有支援 Nuxt 3 的版本，所以升級起來不如前面幾篇困難，主要就是修改一下設定值而已。",[12,13,14,15,16,1240],"sitemap",{"text":1242,"minutes":1243,"time":1244,"words":1245},"2 min read",1.72,103200,344,"nuxt2_to_nuxt3_blog_5_modules_sitemap",{"title":8,"description":9,"img":10,"tags":1248,"readingTime":1249,"createdAt":1016,"updatedAt":1016,"slug":1017},[12,13,14,15,16,17,18],{"text":21,"minutes":22,"time":23,"words":24},{"title":1103,"description":1251,"img":10,"tags":1252,"readingTime":1253,"createdAt":1257,"updatedAt":1016,"slug":1258},"從去年年初開始建置的這個部落格網站，邊寫文章的同時陸陸續續補上功能後，大概到上個月才終於像是有個部落格的樣子。但由於 Nuxt2 即將在 2024/06/30 停止官方支援，而作為基底的 Vue2 更是在 2023/12/31 已停止官方支援，所以……想說要做的新功能可能先放著，先把部落格從 Nuxt2 升級到 Nuxt3 比較好。",[12,13,14,15,16],{"text":21,"minutes":1254,"time":1255,"words":1256},4.28,256800,856,"2024-01-23T05:33:23.000Z","nuxt2_to_nuxt3_blog_0_intro",{"title":1104,"description":1260,"img":10,"tags":1261,"readingTime":1266,"createdAt":1257,"updatedAt":1016,"slug":1270},"如之前規劃，部落格升級 Nuxt3 的第一步是先把 bootstrapVue 抽換成自己實做的 bootstrap5。這篇是紀錄過程中覺得特別困難或是需要研究的部份。",[12,13,14,15,16,1262,1263,1264,1265],"bootstrapVue","bootstrap 4","bootstrap 5","bootstrap",{"text":1121,"minutes":1267,"time":1268,"words":1269},3.53,211800,706,"nuxt2_to_nuxt3_blog_1_ui",{"title":1109,"description":1272,"img":1273,"tags":1274,"readingTime":1276,"createdAt":1281,"updatedAt":1281,"slug":1282},"之前在 Nuxt2 時可以滿無痛的使用 nuxt/pwa 來為網站新增 PWA 功能，但因為此模組沒有開發 Nuxt3 版本，最近開始接觸 Nuxt3 後得尋找替代品，在官方模組清單頁面中搜尋 pwa 只發現一個模組：vite-pwa-nuxt。","923/XCrOen.png",[13,16,14,1230,1275],"vite-pwa",{"text":1277,"minutes":1278,"time":1279,"words":1280},"6 min read",5.085,305100,1017,"2024-01-18T05:22:42.000Z","nuxt3_vite_pwa",{"title":1101,"description":1284,"img":1285,"tags":1286,"readingTime":1292,"createdAt":1296,"updatedAt":1297,"slug":1298},"在接連嘗試過 Blogger、Medium 以及 Matters 之後，最後決定還是把部落格收回來自己架在 Github Pages 上，此篇文章除了紀錄其中的心路歷程，也順便分享在不同平臺體驗到的優缺點，以及爲何決定要收回來自己架的原因。","922/Ua5JaZ.png",[1287,1288,1289,1290,1291],"部落格","Medium","Blogger","Matters","Github Pages",{"text":1167,"minutes":1293,"time":1294,"words":1295},14.21,852600,2842,"2024-01-05T10:08:47.000Z","2024-01-07T05:41:22.000Z","compare_blog",{"title":1100,"description":1300,"img":1301,"tags":1302,"readingTime":1308,"createdAt":1313,"updatedAt":1313,"slug":1314},"接觸了 Linux 之後，一直都覺得舊電腦救星非 Fedora、Ubuntu 這種主流的 Linux 發布板莫屬，然而在 Google 釋出 ChromeOS Flex 之後，便覺得這個寶座或許已經換人坐了，尤其是在硬體更加有限的小筆電領域更是如此。","922/EhAxVV.png",[1303,1304,1305,1306,1307],"chromeos flex","chromeos","asus","asus e203na","舊筆電復活",{"text":1309,"minutes":1310,"time":1311,"words":1312},"10 min read",9.865,591900,1973,"2024-01-01T08:53:27.000Z","chrome_os_flex_asus_e203na",{"title":1091,"description":1316,"img":1317,"tags":1318,"readingTime":1328,"createdAt":1332,"updatedAt":1152,"slug":1333},"繼上一篇搭觀光巴士玩了沖繩北部之後，想當然也要來一台南部的。","923/we47q4.jpg",[1142,1143,1144,1145,1319,1320,1321,1322,1323,1324,1325,1326,1327],"觀光巴士","知念岬","玉泉洞","王國村","沖繩世界","糸満漁市場","Ashibinaa","outlet","瀨長島",{"text":1309,"minutes":1329,"time":1330,"words":1331},9.925,595500,1985,"2023-12-24T07:57:36.000Z","okinawa_one_day_tour_bus_2023_south",{"title":1092,"description":1335,"img":1336,"tags":1337,"readingTime":1342,"createdAt":1346,"updatedAt":1152,"slug":1347},"之前去沖繩的時候還不會開車，所以跟朋友租了機車；這次去沖繩雖然會開車了，但會了才知道自己真的不是開車的料，連在台灣都不敢開了，去沖繩還要不同方向駕駛就更不敢了。於是出發前就在查各種大眾交通資訊，還被朋友質疑去沖繩沒自駕是要玩什麼。","923/8gQwby.jpg",[1142,1143,1144,1145,1319,1338,1339,1340,1341],"萬座毛","古宇利島","美麗海水族館","美國村",{"text":1203,"minutes":1343,"time":1344,"words":1345},10.895,653700,2179,"2023-12-23T14:35:11.000Z","okinawa_one_day_tour_bus_2023",{"title":1084,"description":1349,"img":1350,"tags":1351,"readingTime":1353,"createdAt":1357,"updatedAt":1357,"slug":1358},"用 Nuxt Content 作為部落格的基底讓我最開心的部份，就是 markdown 中的程式碼區塊了，自動上色、格式化、支援的語言非常多，這是很多部落格平台都無法提供的，但若需要程式碼複製貼上功能，就得自己額外處理。","923/YRlYZO.jpg",[13,15,1352,1220,1011],"nuxt content v1",{"text":1121,"minutes":1354,"time":1355,"words":1356},3.32,199200,664,"2023-12-12T05:50:50.000Z","nuxt2_content_code_block_copy_paste",{"title":1070,"description":1360,"img":1361,"tags":1362,"readingTime":1365,"createdAt":1369,"updatedAt":1370,"slug":1371},"在 Macbook Air 2013 上 安裝 Fedora後，發現會有容易過熱的問題（溫度直上 90°C 甚至 100 °C），找到了一個解決方式是直接關閉 Intel Turbo Boost。因為過程稍微複雜一些，所以就把他紀錄下來了。","922/JKLlrl.png",[1363,1364],"fedora","intel turbo boost",{"text":1277,"minutes":1366,"time":1367,"words":1368},5.15,309000,1030,"2023-10-31T00:01:43.000Z","2024-02-19T10:00:23.000Z","fedora_disable_turbo_boost",{"title":1086,"description":1373,"img":1374,"tags":1375,"readingTime":1376,"createdAt":1380,"updatedAt":1380,"slug":1381},"Sitemap 雖然對網站來說非必要，但為了 SEO 考量通常都還是會建立。而在 Nuxt 2 中可以透過@nuxt/sitemap模組來簡單建立 sitemap。但若遇到動態頁面，這個模組無法自動新增，官方文件要求使用者必須自行新增，而官方建議的作法以及網路上查到的方式好像都滿麻煩的，所以自己搞了一個小撇步出來，覺得頗方便，所以就紀錄下來。","923/KaAGJw.png",[13,14,1240],{"text":1121,"minutes":1377,"time":1378,"words":1379},3.37,202200,674,"2023-10-30T09:24:31.000Z","nuxt2_dynamic_routes_sitemap",{"title":1093,"description":1383,"img":1384,"tags":1385,"readingTime":1388,"createdAt":1380,"updatedAt":1016,"slug":1393},"從去年回到家鄉後，工作趨於穩定，生活也漸漸變得單調，在思考著人生意義的同時又不想虛度光陰，就想說要把這些時間拿去看能不能換成錢，其中一個想到的管道就是之前已經嘗試過的線上問卷調查。目前使用了半年多，想說紀錄一下當作心得分享。","922/VdqfnF.jpg",[1386,1387],"額外收入","問卷調查",{"text":1389,"minutes":1390,"time":1391,"words":1392},"9 min read",8.96,537600,1792,"online_survey_money",{"title":1068,"description":1395,"img":1396,"tags":1397,"readingTime":1400,"createdAt":1404,"updatedAt":1404,"slug":1405},"自 FTX 宣告破產後，對中心化交易所的絕望在幣圈掀起一波「自己保管資產」的浪潮，往後一周，人們搜尋「冷錢包」（hardware wallet）的熱度達到了當年度的最高峰。而那幾天，也是我第一次從身邊一些幣圈散戶朋友的口中聽到「冷錢包」三個字。","924/QMpdb8.jpg",[1198,1398,1201,1399],"冷錢包","FTX",{"text":1167,"minutes":1401,"time":1402,"words":1403},14.555,873300,2911,"2023-10-26T09:40:37.000Z","crypto_after_ftx",{"title":1069,"description":1407,"img":1408,"tags":1409,"readingTime":1410,"createdAt":1414,"updatedAt":1016,"slug":1415},"在幣圈跌撞這兩年，知道自己不是一個好的交易員，無法判斷買賣點更不會看線圖，也不想隨時都要盯著幣圈資訊，但對於 DeFi 蓬勃的生態與創新的概念感到很有興趣，最後選擇了有存幣色彩的流動性挖礦。","923/58C075.jpg",[1198,1199,1200,1201],{"text":1167,"minutes":1411,"time":1412,"words":1413},14.61,876600,2922,"2023-10-25T09:56:52.000Z","crypto_liquidity_mining_v2",{"title":1078,"description":1417,"img":1418,"tags":1419,"readingTime":1422,"createdAt":1414,"updatedAt":1414,"slug":1426},"推薦我去上 AIDA 2 課的朋友們因為跟我一樣都是沒上課時考過的好潛友（誤），於是乎這個夏天周末幾乎是沒有一周不去練習自潛的，不過在上周末的時候發生了一個意外，當時衝擊實在很大，這幾天情緒平復之後想紀錄一下。","923/ELgOAu.jpg",[1420,1421],"自由潛水","潛水",{"text":1167,"minutes":1423,"time":1424,"words":1425},14.7,882000,2940,"free_diving_seeing_friend_black_out_first_time",{"title":1079,"description":1428,"img":1429,"tags":1430,"readingTime":1433,"createdAt":1438,"updatedAt":1438,"slug":1439},"想想自己從大學開始到現在，從接觸 Fedora，到桌機是 Windows 而不常用的筆電改用 Fedora，到前幾年連桌機都換成 Fedora 並正式擺脫 Windows；過程中也見證了 Linux 各家發行版的 GUI，是如何地變得成熟而到達能開箱即用的地步，甚至如今已經可以透過 Steam 無痛地玩許多遊戲，實是感觸良多。","924/zSc9p4.jpg",[1431,1432],"linux","Windows",{"text":1434,"minutes":1435,"time":1436,"words":1437},"12 min read",11.675,700500,2335,"2023-10-25T07:46:11.000Z","linux_ten_years_experience",{"title":1066,"description":1441,"img":1442,"tags":1443,"readingTime":1446,"createdAt":1451,"updatedAt":1452,"slug":1453},"最近發現由於自己不是很愛吃魚的關係，有飲食中缺乏部分 Omega 3 來源的問題，所以轉向罐頭食品下手。在網路上 Google 一陣子之後發現這方面的中文資訊有點少，不然就是可能由內容農場網站撰寫，不知來源可信度，所以這篇文章就誕生了。","922/YF2sjK.jpg",[1444,1445],"罐頭","飲食",{"text":1447,"minutes":1448,"time":1449,"words":1450},"13 min read",12.42,745200,2484,"2023-10-17T09:54:19.000Z","2023-12-11T03:54:57.000Z","canned_fish_dha_epa",{"title":1081,"description":1455,"img":1456,"tags":1457,"readingTime":1460,"createdAt":1451,"updatedAt":1452,"slug":1464},"來介紹我眾多老公之一（？）：Mark Forster。","924/rhxHZ5.jpg",[1458,1459],"德國男歌手","音樂",{"text":1309,"minutes":1461,"time":1462,"words":1463},9.15,549000,1830,"mark_forster",{"title":1097,"description":1466,"img":1467,"tags":1468,"readingTime":1472,"createdAt":1451,"updatedAt":1452,"slug":1477},"本文翻譯自康乃爾大學的《What we know》計劃中（現已轉移至社會不平等研究中心），針對同志家庭所扶養兒少福祉的學術研究回顧專文：《What does the scholarly research say about the well-being of children with gay or lesbian parents? 》","924/d7KQrW.jpg",[1469,1470,1471],"社會議題","LGBT","翻譯",{"text":1473,"minutes":1474,"time":1475,"words":1476},"16 min read",15.755,945300,3151,"what_we_know_rainbow_parent",{"title":1098,"description":1479,"img":1480,"tags":1481,"readingTime":1482,"createdAt":1451,"updatedAt":1452,"slug":1486},"本文翻譯自康乃爾大學的《What we know》計劃中（現已轉移至社會不平等研究中心），針對性傾向轉換療法的學術研究回顧專文：《What does the scholarly research say about whether conversion therapy can alter sexual orientation without causing harm?》","923/IUrogW.jpg",[1469,1470,1471],{"text":1203,"minutes":1483,"time":1484,"words":1485},10.83,649800,2166,"what_we_know_rainbow_therapy",{"title":1073,"description":1488,"tags":1489,"img":1493,"readingTime":1494,"createdAt":1498,"updatedAt":1499,"slug":1500},"在雲端硬碟供應商中，有官方原生支援 Fedora 的桌面應用程式可安裝，又有完整繁體中文界面的，就我所知只有Dropbox與MEGA兩家，個人是使用 MEGA。MEGA 能使用的免費容量非常佛心，有 20GB 這麼多（點我註冊），相對於 Dropbox 免費容量只有 2GB 差了十倍啊！",[1363,1490,1491,1492],"mega","megasync","雲端硬碟","922/b56SXt.jpg",{"text":1277,"minutes":1495,"time":1496,"words":1497},5.715,342900,1143,"2023-09-27T05:59:25.000Z","2023-12-11T10:19:13.000Z","fedora_megasync",{"title":1080,"description":1502,"tags":1503,"img":1506,"readingTime":1507,"createdAt":1511,"updatedAt":1313,"slug":1512},"日前從朋友那邊收到一台他塵封已久的 MacBook Air 2013，作為去沖繩幫他帶藥妝的回禮，沒想到平常極度排斥封閉環境的 Apple 產品的我，就這樣擁有了第一台萬惡的 Apple 裝置了。心想若灌成 Fedora 沒啥大問題，那似乎就這樣拿來當成個人筆電用也無不可，又環保（？）。",[1363,1504,1505,1307],"macbook air","apple","922/4x6lR7.jpg",{"text":1389,"minutes":1508,"time":1509,"words":1510},8.3,498000,1660,"2023-09-18T14:35:32.000Z","macbook_air_2013_fedora",{"title":1067,"description":1514,"img":1515,"tags":1516,"readingTime":1519,"createdAt":1523,"updatedAt":1452,"slug":1518},"這篇是整理自己工作中產出或參與的可公開網站，以及自己開發的一些個人專案紀錄。","924/j9gCap.jpg",[1517,1518],"portfolio","collections",{"text":1242,"minutes":1520,"time":1521,"words":1522},1.935,116100,387,"2023-08-10T06:23:47.000Z",{"title":1076,"description":1525,"tags":1526,"img":1528,"readingTime":1529,"createdAt":1532,"updatedAt":1451,"slug":1533},"之前在 Fedora 中我都是使用clipgrab下載 Youtube 影片，最近發現套件庫中多了一個叫做 video-downloader 的軟體就載來試用了一下，覺得比起 clipgrab 簡潔許多，而且界面也跟 GNOME 風格一致，就轉去使用它了。",[1363,1527],"youtube","924/GXLkgw.jpg",{"text":1242,"minutes":208,"time":1530,"words":1531},120000,400,"2023-08-07T05:13:48.000Z","fedora_youtube_download",{"title":1075,"description":1535,"tags":1536,"img":1539,"readingTime":1540,"createdAt":1544,"updatedAt":1452,"slug":1545},"在 Fedora 使用的libarchive中已經內建了對.rar 檔案的部分支援，所以遇到.rar 檔案的時候可以先嘗試直接使用桌面環境內建的解壓縮軟體開看看，如果失敗（例如我是遇到RAR encryption support unavailable.），再嘗試使用 rpmfusion 所打包的非開源版本。",[1363,1537,1538],"rar","unrar","922/yodiaF.jpg",{"text":1242,"minutes":1541,"time":1542,"words":1543},1.275,76500,255,"2023-07-23T02:19:27.000Z","fedora_unrar",{"title":1082,"description":1547,"img":1548,"tags":1549,"readingTime":1554,"createdAt":1558,"updatedAt":1452,"slug":1559},"如果不是複雜的需求，對於在元素流中有滾動後要固定的元素，像是頂部 header 滾動後要固定或底部 footer 在滾動前要固定，我都會偏好用position: sticky這個方式去處理，簡單粗暴，不像position: fixed那樣要去計算高度來給其他元素 padding 以防遮住主要內容，或是滾動後要用 JS 去偵測來修改，瀏覽器會幫你做好運算。","922/iRFPQu.jpg",[1550,1551,1552,1553],"css","html","android","chrome",{"text":1242,"minutes":1555,"time":1556,"words":1557},1.685,101100,337,"2023-07-14T07:26:50.000Z","mobile_chrome_sticky_bottom",{"title":1095,"description":1561,"tags":1562,"img":1567,"readingTime":1568,"createdAt":1572,"updatedAt":1016,"slug":1573},"之前因為 LineageOS 各裝置紛紛升上 LineageOS 20.0（Android 13），但手上的 Pixel 3a 卻遲遲沒有消息，後來上了 XDA 看了一下討論串，發現開發者說是因為 eSIM 無法使用的關係，所以之前才無法公告升級上去。心裡想著反正我也用不到 eSIM，不如就來順便學學怎麼自己編譯 LineageOS 好了。",[1563,1552,1564,1565,1566],"ubuntu","custom rom","Gooel Pixel 3a","lineageos","922/DxakSn.jpg",{"text":1389,"minutes":1569,"time":1570,"words":1571},8.785,527100,1757,"2023-04-15T11:38:12.000Z","ubuntu_lineageos_sargo",{"title":1096,"description":1575,"img":1576,"tags":1577,"readingTime":1579,"createdAt":1572,"updatedAt":1452,"slug":1583},"在Ubuntu 中嘗試編譯 LineageOS時，因為實體記憶體不足的關係，上網查了一下資料發現或許能透過增加虛擬記憶體 SWAP 來解決，所以就紀錄了下來。","924/Ld14Ra.jpg",[1563,1578],"swap",{"text":1232,"minutes":1580,"time":1581,"words":1582},0.89,53400,178,"ubuntu_swap_resize",{"title":1071,"description":1585,"img":1586,"tags":1587,"readingTime":1588,"createdAt":1592,"updatedAt":1452,"slug":1593},"本篇記錄了在 Fedora 中安裝及安裝後設定 Docker 的過程。","924/lduYJH.jpg",[1363,1117],{"text":1232,"minutes":1589,"time":1590,"words":1591},0.875,52500,175,"2023-04-08T08:01:46.000Z","fedora_docker_startup",{"title":1077,"description":1595,"img":1596,"tags":1597,"readingTime":1599,"createdAt":1592,"updatedAt":1016,"slug":1603},"這篇是在 Fedora 環境中編譯 LineageOS時，嘗試複製在 Ubuntu 中可透過增加 SWAP 來補足記憶體不足的作法。後來發現即便把 ZRAM 增大也會編譯失敗，就很乾脆擴充實體 RAM，本篇就當個紀錄這樣。","924/Rj6CAF.jpg",[1363,1598],"zram",{"text":1242,"minutes":1600,"time":1601,"words":1602},1.23,73800,246,"fedora_zram_resize",{"title":1072,"description":1605,"img":1606,"tags":1607,"readingTime":1608,"createdAt":1613,"updatedAt":1499,"slug":1614},"本篇文章是試圖移植之前的文章：的過程至 Fedora 上的心得紀錄，畢竟自己平常主要使用的系統為 Fedora，想說都是 Linux 應該是可以移植過來。","924/LsYE8j.jpg",[1363,1552,1564,1565,1566],{"text":1609,"minutes":1610,"time":1611,"words":1612},"3 min read",2.765,165900,553,"2023-04-07T09:03:17.000Z","fedora_lineageos_sargo",{"title":1099,"description":1616,"img":1617,"tags":1618,"readingTime":1623,"createdAt":1627,"updatedAt":1499,"slug":1628},"雖然脫離 Windows 很久，但有時候還是會需要幫朋友重灌電腦什麼的，所以就研究了一下如何在 Fedora 裡面製作 Windows 的安裝媒體。後來在網路上找到WoeUSB這個套件。","923/OleVsx.jpg",[1363,1619,1620,1621,1622],"windows","usb","安裝","重灌",{"text":1121,"minutes":1624,"time":1625,"words":1626},3.54,212400,708,"2023-02-20T12:33:39.000Z","woeusb",{"title":1085,"description":1630,"tags":1631,"img":1632,"readingTime":1633,"createdAt":1637,"updatedAt":1380,"slug":1638},"建完這個部落格之後，發現好像不太對，怎麼前幾天發的文章，日期卻變成今天。後來發現是因為若從 A 電腦更新文章，在 B 電腦用 git 同步更新檔案之後，檔案的更新日期會變成當下的時間。",[14,13],"924/WCeWkF.jpg",{"text":1242,"minutes":1634,"time":1635,"words":1636},1.55,93000,310,"2023-01-06T13:35:19.000Z","nuxt2_content_git",{"title":1065,"description":1640,"img":1641,"tags":1642,"readingTime":1645,"createdAt":1649,"updatedAt":1650,"slug":1651},"總之就是做個簡單的自我介紹，並也描述一下這個部落格以及使用的技術（雖然 github 上都看得到），最後不知羞恥地附上贊助方式。","923/Id0UIh.jpg",[1287,1643,1644],"關於我","贊助",{"text":1121,"minutes":1646,"time":1647,"words":1648},3.815,228900,763,"2023-01-05T14:11:03.000Z","2024-01-19T10:08:29.000Z","buy_me_a_tea",{"title":1094,"description":1653,"tags":1654,"img":1655,"readingTime":1656,"createdAt":1660,"updatedAt":1499,"slug":1661},"總之呢，官方公佈不保證在 5 月之後還會收到更新，而網路則說 7 月會迎來最後一次更新，因為手機狀況都還滿健康的，最愛保留舊手機舊電腦的我，就想說要來刷機了。",[1363,1552,1564,1565,1566],"924/ioKHUr.jpg",{"text":1447,"minutes":1657,"time":1658,"words":1659},12.61,756600,2522,"2023-01-02T11:14:51.000Z","pixel3a_custom_rom",{"title":1074,"description":1663,"tags":1664,"img":1665,"readingTime":1666,"createdAt":1670,"updatedAt":1671,"slug":1672},"本篇是將自己重灌 Fedora 時會做的一些事情，例如：移除沒在用的 Gnome 預設程式、安裝自己要用的程式、更新……等等的過程，以指令碼的形式紀錄下來，以求下次重灌完可以直接複製貼上執行之後就會最接近自己平常的使用狀態。",[1363],"922/m6wo1h.jpg",{"text":1609,"minutes":1667,"time":1668,"words":1669},2.505,150300,501,"2023-01-02T08:03:40.000Z","2024-05-20T14:37:14.000Z","fedora_startup",{"title":1083,"description":1674,"img":1675,"tags":1676,"readingTime":1677,"createdAt":1681,"updatedAt":1499,"slug":1682},"Bootstrap 是個很好用的 UI 框架，在 Vue 生態系中主要由 Bootstrap Vue 去作銜接，然而在專案中幾乎不會完全使用到 Bootstrap 的所有功能，這時如果把不必要的 css / js 編譯移除，可以降低編譯後專案的大小，這種行為也被稱為 Tree shaking。本篇紀錄了自己在 Nuxt2 中使用 Bootstrap Vue 時，Tree Shaking 的一些步驟。","924/Oqxy2g.jpg",[14,13,1265],{"text":1121,"minutes":1678,"time":1679,"words":1680},3.56,213600,712,"2023-01-02T08:03:25.000Z","nuxt2_bootstrapvue_treeshaking",1718178743611]