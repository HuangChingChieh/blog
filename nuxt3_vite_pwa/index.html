<!doctype html>
<html data-bs-theme="dark" data-n-head-ssr lang="zh-Hant-TW" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22zh-Hant-TW%22%7D%7D">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KHMFPTGCC2"></script>
    <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KHMFPTGCC2")</script>

    <!-- Google Fonts  -->
    <!-- <link
      data-n-head="ssr"
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      data-n-head="ssr"
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin="true"
    />
    <link
      data-n-head="ssr"
      rel="preload"
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100;300;400;500;700;900&amp;display=swap"
      as="style"
      onload="this.onload=null;this.rel='stylesheet'"
    /> -->

    <meta data-n-head="ssr" data-hid="charset" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" http-equiv="X-UA-Compatible" content="ie=edge"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" data-hid="og:site_name" property="og:site_name" content="隨機手札"><meta data-n-head="ssr" data-hid="og:locale" property="og:locale" content="zh_TW"><meta data-n-head="ssr" data-hid="apple-mobile-web-app-title" name="apple-mobile-web-app-title" content="隨機手札"><meta data-n-head="ssr" data-hid="mobile-web-app-capable" name="mobile-web-app-capable" content="yes"><meta data-n-head="ssr" data-hid="description" name="description" content="之前在 Nuxt2 時可以滿無痛的使用 nuxt/pwa 來為網站新增 PWA 功能，但因為此模組沒有開發 Nuxt3 版本，最近開始接觸 Nuxt3 後得尋找替代品，在官方模組清單頁面中搜尋 pwa 只發現一個模組：vite-pwa-nuxt。"><meta data-n-head="ssr" data-hid="og:url" property="og:url" content="https://huangchingchieh.github.io/blog/nuxt3_vite_pwa"><meta data-n-head="ssr" data-hid="og:type" property="og:type" content="article"><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="Nuxt3中使用vite-pwa實現pwa功能"><meta data-n-head="ssr" data-hid="og:description" property="og:description" content="之前在 Nuxt2 時可以滿無痛的使用 nuxt/pwa 來為網站新增 PWA 功能，但因為此模組沒有開發 Nuxt3 版本，最近開始接觸 Nuxt3 後得尋找替代品，在官方模組清單頁面中搜尋 pwa 只發現一個模組：vite-pwa-nuxt。"><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="https://imagizer.imageshack.com/v2/1600x1200q100/923/XCrOen.png"><meta data-n-head="ssr" data-hid="og:article:published_time" property="og:article:published_time" content="2024-01-18T05:22:42.000Z"><meta data-n-head="ssr" data-hid="og:article:modified_time" property="og:article:modified_time" content="2024-01-18T05:22:42.000Z"><meta data-n-head="ssr" property="og:article:tag" content="nuxt"><meta data-n-head="ssr" property="og:article:tag" content="nuxt3"><meta data-n-head="ssr" property="og:article:tag" content="vue"><meta data-n-head="ssr" property="og:article:tag" content="pwa"><meta data-n-head="ssr" property="og:article:tag" content="vite-pwa"><title>Nuxt3中使用vite-pwa實現pwa功能｜隨機手札</title><base href="/blog/"><link data-n-head="ssr" data-hid="shortcut-icon" rel="shortcut icon" href="/blog/_nuxt/icons/icon_64x64.4af7d7.png"><link data-n-head="ssr" data-hid="apple-touch-icon" rel="apple-touch-icon" href="/blog/_nuxt/icons/icon_512x512.4af7d7.png" sizes="512x512"><link data-n-head="ssr" rel="manifest" href="/blog/_nuxt/manifest.509239d9.json" data-hid="manifest"><link data-n-head="ssr" data-hid="923/XCrOen.png" rel="preload" as="image" href="https://imagizer.imageshack.com/v2/923/XCrOen.png" imagesrcset="https://imagizer.imageshack.com/v2/100x75q70/923/XCrOen.png 100w, https://imagizer.imageshack.com/v2/150x100q70/923/XCrOen.png 150w, https://imagizer.imageshack.com/v2/280x200q70/923/XCrOen.png 280w, https://imagizer.imageshack.com/v2/320x240q70/923/XCrOen.png 320w, https://imagizer.imageshack.com/v2/640x480q70/923/XCrOen.png 640w, https://imagizer.imageshack.com/v2/800x600q70/923/XCrOen.png 800w, https://imagizer.imageshack.com/v2/1024x768q70/923/XCrOen.png 1024w, https://imagizer.imageshack.com/v2/1280x1024q70/923/XCrOen.png 1280w, https://imagizer.imageshack.com/v2/1600x1200q70/923/XCrOen.png 1600w" imagesizes="(min-width: 992px) 800px,(min-width: 768px) 640px,640px"><script data-n-head="ssr" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Nuxt3中使用vite-pwa實現pwa功能","image":["https://imagizer.imageshack.com/v2/1600x1200q100/923/XCrOen.png"],"datePublished":"2024-01-18T05:22:42.000Z","dateModified":"2024-01-18T05:22:42.000Z","author":[{"@type":"Person","name":"HuangChingChieh","url":"https://huangchingchieh.github.io/"}]}</script><link rel="modulepreload" href="/blog/_nuxt/4519b95.modern.js" as="script"><link rel="modulepreload" href="/blog/_nuxt/46c710f.modern.js" as="script"><link rel="modulepreload" href="/blog/_nuxt/ef86e30.modern.js" as="script"><link rel="preload" href="/blog/_nuxt/css/5fc220c.css" as="style"><link rel="modulepreload" href="/blog/_nuxt/6aab916.modern.js" as="script"><link rel="preload" href="/blog/_nuxt/css/ff5d7d3.css" as="style"><link rel="modulepreload" href="/blog/_nuxt/8557734.modern.js" as="script"><link rel="preload" href="/blog/_nuxt/css/65ecef9.css" as="style"><link rel="modulepreload" href="/blog/_nuxt/b09fdcb.modern.js" as="script"><link rel="preload" href="/blog/_nuxt/css/db3452b.css" as="style"><link rel="modulepreload" href="/blog/_nuxt/b229352.modern.js" as="script"><link rel="stylesheet" href="/blog/_nuxt/css/5fc220c.css"><link rel="stylesheet" href="/blog/_nuxt/css/ff5d7d3.css"><link rel="stylesheet" href="/blog/_nuxt/css/65ecef9.css"><link rel="stylesheet" href="/blog/_nuxt/css/db3452b.css"><link rel="preload" href="/blog/_nuxt/static/1705932919/nuxt3_vite_pwa/state.js" as="script"><link rel="preload" href="/blog/_nuxt/static/1705932919/nuxt3_vite_pwa/payload.js" as="script"><link rel="preload" href="/blog/_nuxt/static/1705932919/manifest.js" as="script">
  </head>
  <body class="position-relative">
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><main><header class="pt-sm-4 header_3ExSZ"><div class="container d-flex flex-row align-items-center container-sm py-sm-3"><img src="/blog/_nuxt/icons/icon_64x64.4af7d7.png" height="64" width="64" class="common-icon rounded-circle shadow-sm bordered bordered_oiBje logo_JIMdK"> <div class="ms-3 flex-grow-1"><a href="/blog/" class="font-weight-bold text-body d-block text-decoration-none nuxt-link-active">
        隨機手札
      </a> <small class="text-muted d-none d-sm-block">雜七雜八之地</small></div> <div class="d-flex align-items-center justify-content-end"><button type="button" to="" title="文章分類" class="btn d-flex align-items-center text-decoration-none ms-4 btn-link icon_O4teI d-flex"><i class="h5 mb-0 d-flex bi-folder"></i> </button> <button type="button" to="" title="文章摘要" class="btn d-flex align-items-center text-decoration-none ms-4 btn-link icon_O4teI d-flex"><i class="h5 mb-0 d-flex bi-card-list"></i> </button> <button type="button" to="" class="btn d-flex align-items-center text-decoration-none ms-4 btn-link icon_O4teI d-flex"><i class="h5 mb-0 d-flex bi-moon-stars"></i> </button> <button type="button" to="" title="搜尋文章" class="btn d-flex align-items-center text-decoration-none ms-4 btn-link icon_O4teI d-flex"><i class="h5 mb-0 d-flex bi-search"></i> </button></div></div> <div></div></header> <div class="container py-4 container-sm"><div><div class="p-sm-5 container_n1z3i"><article class="article_FRdWG"><h1 class="title_ioou6">
    Nuxt3中使用vite-pwa實現pwa功能
  </h1> <div class="d-flex flex-row align-items-center my-2"><time class="d-flex align-items-center flex-row text-muted small mb-0 date_1i8vM"><i class="me-1 bi-calendar-event"></i> <span class="me-3">2024/01/18</span></time> <span class="text-muted small d-inline-flex align-items-center"><i class="me-1 bi-clock"></i> <span class="me-3">6 min</span></span> <a href="/blog/category/frontend/1/" class="text-muted small d-inline-flex align-items-center"><i class="me-1 bi-folder"></i> <span>前端筆記</span></a></div> <div class="d-flex flex-wrap my-2 tags_YFb3h"><span class="badge bg-secondary text-bg-secondary d-inline-block font-weight-normal text-monospace me-1 mb-1">
  #nuxt</span><span class="badge bg-secondary text-bg-secondary d-inline-block font-weight-normal text-monospace me-1 mb-1">
  #nuxt3</span><span class="badge bg-secondary text-bg-secondary d-inline-block font-weight-normal text-monospace me-1 mb-1">
  #vue</span><span class="badge bg-secondary text-bg-secondary d-inline-block font-weight-normal text-monospace me-1 mb-1">
  #pwa</span><span class="badge bg-secondary text-bg-secondary d-inline-block font-weight-normal text-monospace me-1 mb-1">
  #vite-pwa</span></div> <div class="position-relative rounded banner_MK7pm"><img srcset="https://imagizer.imageshack.com/v2/100x75q70/923/XCrOen.png 100w, https://imagizer.imageshack.com/v2/150x100q70/923/XCrOen.png 150w, https://imagizer.imageshack.com/v2/280x200q70/923/XCrOen.png 280w, https://imagizer.imageshack.com/v2/320x240q70/923/XCrOen.png 320w, https://imagizer.imageshack.com/v2/640x480q70/923/XCrOen.png 640w, https://imagizer.imageshack.com/v2/800x600q70/923/XCrOen.png 800w, https://imagizer.imageshack.com/v2/1024x768q70/923/XCrOen.png 1024w, https://imagizer.imageshack.com/v2/1280x1024q70/923/XCrOen.png 1280w, https://imagizer.imageshack.com/v2/1600x1200q70/923/XCrOen.png 1600w" src="https://imagizer.imageshack.com/v2/923/XCrOen.png" sizes="(min-width: 992px) 800px,(min-width: 768px) 640px,640px" loading="lazy" class="img_vqRp5 rounded"></div> <div class="nuxt-content"><p>之前在 Nuxt2 時可以滿無痛的使用 <a href="https://pwa.nuxtjs.org/" rel="nofollow noopener noreferrer" target="_blank">nuxt/pwa</a> 來為網站新增 PWA 功能，但因為此模組沒有開發 Nuxt3 版本，最近開始接觸 Nuxt3 後得尋找替代品，在<a href="https://nuxt.com/modules?q=pwa" rel="nofollow noopener noreferrer" target="_blank">官方模組清單頁面中搜尋 pwa</a> 只發現一個模組：vite-pwa-nuxt。</p>

<p class="article-note small px-3 py-2 rounded align-middle"><i class="me-1 bi-lightbulb"></i> 
關於 PWA，可參考
<a href="https://developer.mozilla.org/zh-TW/docs/Web/Progressive_web_apps" rel="nofollow noopener noreferrer" target="_blank">MDN 文件</a>
。
</p>
<p>雖然號稱是「Zero-config」 PWA Plugin for Nuxt 3 ，但實際套用之後發現還是要做一些設定，而且這個模組的文件……真的有點混亂，所以就寫這篇文章紀錄一下。</p>
<hr>
<h2 id="安裝與基本設定"><a href="#%E5%AE%89%E8%A3%9D%E8%88%87%E5%9F%BA%E6%9C%AC%E8%A8%AD%E5%AE%9A" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>安裝與基本設定</h2>
<p>如模組的名稱所示，這個模組只能跟 vite 一起使用，若是使用 webpack 就要找其他解決方案了。首先是安裝，這邊我使用 npm。</p>
<div class="article-code position-relative"><div class="d-flex flex-row align-items-center text-white py-2 px-3 rounded-top bg-secondary"><div class="flex-grow-1 text-truncate pe-3 small font-weight-bold text-monospace">
      
    </div> <button type="button" to="" class="btn p-0 d-flex align-items-center justify-content-center text-white btn-link"><i class="bi-clipboard"></i></button></div> <div class="rounded-bottom"><pre tabindex="0" class="shiki dark-plus" style="background-color:#1e1e1e"><code><span class="line"><span style="color:#dcdcaa">npm</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">install</span><span style="color:#d4d4d4"> </span><span style="color:#569cd6">-D</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">@vite-pwa/nuxt</span></span>
<span class="line"></span></code></pre></div></div>
<p>接著引用模組，這個跟其他 Nuxt3 模組差不多。然後根據官方文件填上一些需要的基本值。</p>
<div class="article-code position-relative"><div class="d-flex flex-row align-items-center text-white py-2 px-3 rounded-top bg-secondary"><div class="flex-grow-1 text-truncate pe-3 small font-weight-bold text-monospace">
      nuxt.config.ts
    </div> <button type="button" to="" class="btn p-0 d-flex align-items-center justify-content-center text-white btn-link"><i class="bi-clipboard"></i></button></div> <div class="rounded-bottom"><pre tabindex="0" class="shiki dark-plus" style="background-color:#1e1e1e"><code><span class="line"><span style="color:#c586c0">export</span><span style="color:#d4d4d4"> </span><span style="color:#c586c0">default</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">defineNuxtConfig</span><span style="color:#d4d4d4">({</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">modules:</span><span style="color:#d4d4d4"> [</span><span style="color:#ce9178">'@vite-pwa/nuxt'</span><span style="color:#d4d4d4">],</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">pwa:</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#6a9955">// 設定是否有更新時自動更新，因為我的網站只是單純展示用，直接設定autoUpdate。</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">registerType:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'autoUpdate'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#6a9955">// 設定是否要在開發的時候（npm run dev）啟用pwa功能，為了方便測試，我是把他開啟。</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">devOptions:</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">enabled:</span><span style="color:#d4d4d4"> </span><span style="color:#569cd6">true</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">    },</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#6a9955">// pwa的描述檔</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">manifest:</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">name:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'網站名稱'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">short_name:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'網站名稱'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">description:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'網站描述'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">lang:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'zh-Hant-TW'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">theme_color:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'#000000'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">    },</span></span>
<span class="line"><span style="color:#d4d4d4">  },</span></span>
<span class="line"><span style="color:#d4d4d4">})</span></span>
<span class="line"></span></code></pre></div></div>
<hr>
<h2 id="icon-設定"><a href="#icon-%E8%A8%AD%E5%AE%9A" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>ICON 設定</h2>
<p>之後一些設定都會用到 icon，所以先來設定。</p>
<p>之前 Nuxt2 的 nuxt/pwa 模組可以在編譯時從一張源圖自動產生 pwa 所有需要的 icon，但 vite-pwa 需要先自己手動產生（或是把產生的部份寫成程式整合到編譯流程）。先用 npm 安裝<a href="https://vite-pwa-org.netlify.app/assets-generator/cli.html" rel="nofollow noopener noreferrer" target="_blank">官方提供的 icon 產生工具</a>：</p>
<div class="article-code position-relative"><div class="d-flex flex-row align-items-center text-white py-2 px-3 rounded-top bg-secondary"><div class="flex-grow-1 text-truncate pe-3 small font-weight-bold text-monospace">
      
    </div> <button type="button" to="" class="btn p-0 d-flex align-items-center justify-content-center text-white btn-link"><i class="bi-clipboard"></i></button></div> <div class="rounded-bottom"><pre tabindex="0" class="shiki dark-plus" style="background-color:#1e1e1e"><code><span class="line"><span style="color:#dcdcaa">npm</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">install</span><span style="color:#d4d4d4"> </span><span style="color:#569cd6">-D</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">@vite-pwa/assets-generator</span></span>
<span class="line"></span></code></pre></div></div>
<p>接著把指令放到 package.json 中，這裡使用模組內建的<code>minimal-2023</code>設定值來產生 icon 圖組。</p>
<div class="article-code position-relative"><div class="d-flex flex-row align-items-center text-white py-2 px-3 rounded-top bg-secondary"><div class="flex-grow-1 text-truncate pe-3 small font-weight-bold text-monospace">
      
    </div> <button type="button" to="" class="btn p-0 d-flex align-items-center justify-content-center text-white btn-link"><i class="bi-clipboard"></i></button></div> <div class="rounded-bottom"><pre tabindex="0" class="shiki dark-plus" style="background-color:#1e1e1e"><code><span class="line"><span style="color:#d4d4d4">{</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">"scripts"</span><span style="color:#d4d4d4">: {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#6a9955">// 這裡的public/icon.png要改成源圖路徑</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">"generate-pwa-assets"</span><span style="color:#d4d4d4">: </span><span style="color:#ce9178">"pwa-assets-generator --preset minimal-2023 public/icon.png"</span></span>
<span class="line"><span style="color:#d4d4d4">  }</span></span>
<span class="line"><span style="color:#d4d4d4">}</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="額外設定值選擇性"><a href="#%E9%A1%8D%E5%A4%96%E8%A8%AD%E5%AE%9A%E5%80%BC%E9%81%B8%E6%93%87%E6%80%A7" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>額外設定值(選擇性)</h3>
<p>因為官方的 icon 產生工具在產生時會給 icon 一個 <a href="https://vite-pwa-org.netlify.app/assets-generator/cli.html#png-padding" rel="nofollow noopener noreferrer" target="_blank">padding</a>，產生出來的圖會有白邊（猜測是預防在各種圖案形狀時被截掉），覺得很醜，決定額外設定為 0。首先在專案的根目錄新增<code>pwa-assets.config.ts</code>檔案：</p>
<div class="article-code position-relative"><div class="d-flex flex-row align-items-center text-white py-2 px-3 rounded-top bg-secondary"><div class="flex-grow-1 text-truncate pe-3 small font-weight-bold text-monospace">
      pwa-assets.config.ts
    </div> <button type="button" to="" class="btn p-0 d-flex align-items-center justify-content-center text-white btn-link"><i class="bi-clipboard"></i></button></div> <div class="rounded-bottom"><pre tabindex="0" class="shiki dark-plus" style="background-color:#1e1e1e"><code><span class="line"><span style="color:#c586c0">import</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">defineConfig</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">minimal2023Preset</span><span style="color:#d4d4d4"> </span><span style="color:#c586c0">as</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">preset</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">} </span><span style="color:#c586c0">from</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'@vite-pwa/assets-generator/config'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6a9955">// 把設定值的icon padding都設為0</span></span>
<span class="line"><span style="color:#9cdcfe">preset</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">apple</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">padding</span><span style="color:#d4d4d4"> = </span><span style="color:#b5cea8">0</span></span>
<span class="line"><span style="color:#9cdcfe">preset</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">maskable</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">padding</span><span style="color:#d4d4d4"> = </span><span style="color:#b5cea8">0</span></span>
<span class="line"><span style="color:#9cdcfe">preset</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">transparent</span><span style="color:#d4d4d4">.</span><span style="color:#9cdcfe">padding</span><span style="color:#d4d4d4"> = </span><span style="color:#b5cea8">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#c586c0">export</span><span style="color:#d4d4d4"> </span><span style="color:#c586c0">default</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">defineConfig</span><span style="color:#d4d4d4">({</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">preset</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">})</span></span>
<span class="line"></span></code></pre></div></div>
<h3 id="執行指令"><a href="#%E5%9F%B7%E8%A1%8C%E6%8C%87%E4%BB%A4" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>執行指令</h3>
<p>準備好源圖放在對應的路徑之後，就可以執行指令：</p>
<div class="article-code position-relative"><div class="d-flex flex-row align-items-center text-white py-2 px-3 rounded-top bg-secondary"><div class="flex-grow-1 text-truncate pe-3 small font-weight-bold text-monospace">
      
    </div> <button type="button" to="" class="btn p-0 d-flex align-items-center justify-content-center text-white btn-link"><i class="bi-clipboard"></i></button></div> <div class="rounded-bottom"><pre tabindex="0" class="shiki dark-plus" style="background-color:#1e1e1e"><code><span class="line"><span style="color:#dcdcaa">npm</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">run</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">generate-pwa-assets</span></span>
<span class="line"></span></code></pre></div></div>
<p>執行完之後會印出 icon 的設定，再把他複製過去<code>nuxt.config.ts</code>裡面。</p>
<div class="article-code position-relative"><div class="d-flex flex-row align-items-center text-white py-2 px-3 rounded-top bg-secondary"><div class="flex-grow-1 text-truncate pe-3 small font-weight-bold text-monospace">
      nuxt.config.ts
    </div> <button type="button" to="" class="btn p-0 d-flex align-items-center justify-content-center text-white btn-link"><i class="bi-clipboard"></i></button></div> <div class="rounded-bottom"><pre tabindex="0" class="shiki dark-plus" style="background-color:#1e1e1e"><code><span class="line"><span style="color:#c586c0">export</span><span style="color:#d4d4d4"> </span><span style="color:#c586c0">default</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">defineNuxtConfig</span><span style="color:#d4d4d4">({</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">pwa:</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">icons:</span><span style="color:#d4d4d4"> [</span></span>
<span class="line"><span style="color:#d4d4d4">      {</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">src:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'pwa-64x64.png'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">sizes:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'64x64'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">type:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'image/png'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">      },</span></span>
<span class="line"><span style="color:#d4d4d4">      {</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">src:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'pwa-192x192.png'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">sizes:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'192x192'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">type:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'image/png'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">      },</span></span>
<span class="line"><span style="color:#d4d4d4">      {</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">src:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'pwa-512x512.png'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">sizes:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'512x512'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">type:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'image/png'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">      },</span></span>
<span class="line"><span style="color:#d4d4d4">      {</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">src:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'maskable-icon-512x512.png'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">sizes:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'512x512'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">type:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'image/png'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        </span><span style="color:#9cdcfe">purpose:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'maskable'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">      },</span></span>
<span class="line"><span style="color:#d4d4d4">    ],</span></span>
<span class="line"><span style="color:#d4d4d4">  },</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">modules:</span><span style="color:#d4d4d4"> [</span><span style="color:#ce9178">'@vite-pwa/nuxt'</span><span style="color:#d4d4d4">],</span></span>
<span class="line"><span style="color:#d4d4d4">})</span></span>
<span class="line"></span></code></pre></div></div>
<p>icon 的部份就完成囉。</p>
<hr>
<h2 id="meta-設定"><a href="#meta-%E8%A8%AD%E5%AE%9A" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>META 設定</h2>
<p>根據官方文件所述，PWA 的基本需求需要在網站首頁有以下<code>meta</code>標籤：</p>
<div class="article-code position-relative"><div class="d-flex flex-row align-items-center text-white py-2 px-3 rounded-top bg-secondary"><div class="flex-grow-1 text-truncate pe-3 small font-weight-bold text-monospace">
      
    </div> <button type="button" to="" class="btn p-0 d-flex align-items-center justify-content-center text-white btn-link"><i class="bi-clipboard"></i></button></div> <div class="rounded-bottom"><pre tabindex="0" class="shiki dark-plus" style="background-color:#1e1e1e"><code><span class="line"><span style="color:grey">&lt;</span><span style="color:#569cd6">head</span><span style="color:grey">></span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:grey">&lt;</span><span style="color:#569cd6">meta</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">name</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"viewport"</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">content</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"width=device-width,initial-scale=1"</span><span style="color:#d4d4d4"> </span><span style="color:grey">/></span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:grey">&lt;</span><span style="color:#569cd6">title</span><span style="color:grey">></span><span style="color:#d4d4d4">My Awesome App</span><span style="color:grey">&lt;/</span><span style="color:#569cd6">title</span><span style="color:grey">></span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:grey">&lt;</span><span style="color:#569cd6">meta</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">name</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"description"</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">content</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"My Awesome App description"</span><span style="color:#d4d4d4"> </span><span style="color:grey">/></span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:grey">&lt;</span><span style="color:#569cd6">link</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">rel</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"icon"</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">href</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"/favicon.ico"</span><span style="color:#d4d4d4"> </span><span style="color:grey">/></span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:grey">&lt;</span><span style="color:#569cd6">link</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">rel</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"apple-touch-icon"</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">href</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"/apple-touch-icon.png"</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">sizes</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"180x180"</span><span style="color:#d4d4d4"> </span><span style="color:grey">/></span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:grey">&lt;</span><span style="color:#569cd6">link</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">rel</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"mask-icon"</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">href</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"/mask-icon.svg"</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">color</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"#FFFFFF"</span><span style="color:#d4d4d4"> </span><span style="color:grey">/></span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:grey">&lt;</span><span style="color:#569cd6">meta</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">name</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"theme-color"</span><span style="color:#d4d4d4"> </span><span style="color:#9cdcfe">content</span><span style="color:#d4d4d4">=</span><span style="color:#ce9178">"#ffffff"</span><span style="color:#d4d4d4"> </span><span style="color:grey">/></span></span>
<span class="line"><span style="color:grey">&lt;/</span><span style="color:#569cd6">head</span><span style="color:grey">></span></span>
<span class="line"></span></code></pre></div></div>
<p>因此要新增對應的 meta 設定，這邊設定在<code>nuxt.config.ts</code>中：</p>
<div class="article-code position-relative"><div class="d-flex flex-row align-items-center text-white py-2 px-3 rounded-top bg-secondary"><div class="flex-grow-1 text-truncate pe-3 small font-weight-bold text-monospace">
      nuxt.config.ts
    </div> <button type="button" to="" class="btn p-0 d-flex align-items-center justify-content-center text-white btn-link"><i class="bi-clipboard"></i></button></div> <div class="rounded-bottom"><pre tabindex="0" class="shiki dark-plus" style="background-color:#1e1e1e"><code><span class="line"><span style="color:#c586c0">export</span><span style="color:#d4d4d4"> </span><span style="color:#c586c0">default</span><span style="color:#d4d4d4"> </span><span style="color:#dcdcaa">defineNuxtConfig</span><span style="color:#d4d4d4">({</span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:#9cdcfe">app:</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:#9cdcfe">head:</span><span style="color:#d4d4d4"> {</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">title:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'網站名稱'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">viewport:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'width=device-width, initial-scale=1.0'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">meta:</span><span style="color:#d4d4d4"> [</span></span>
<span class="line"><span style="color:#d4d4d4">        { </span><span style="color:#9cdcfe">name:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'網站描述'</span><span style="color:#d4d4d4">, </span><span style="color:#9cdcfe">content:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'網站描述'</span><span style="color:#d4d4d4"> },</span></span>
<span class="line"><span style="color:#d4d4d4">        {</span></span>
<span class="line"><span style="color:#d4d4d4">          </span><span style="color:#9cdcfe">name:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'theme-color'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">          </span><span style="color:#9cdcfe">content:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'#ffffff'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        },</span></span>
<span class="line"><span style="color:#d4d4d4">      ],</span></span>
<span class="line"><span style="color:#d4d4d4">      </span><span style="color:#9cdcfe">link:</span><span style="color:#d4d4d4"> [</span></span>
<span class="line"><span style="color:#d4d4d4">        {</span></span>
<span class="line"><span style="color:#d4d4d4">          </span><span style="color:#9cdcfe">rel:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'icon'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">          </span><span style="color:#9cdcfe">href:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">`/favicon.ico`</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        },</span></span>
<span class="line"><span style="color:#d4d4d4">        {</span></span>
<span class="line"><span style="color:#d4d4d4">          </span><span style="color:#9cdcfe">rel:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'apple-touch-icon'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">          </span><span style="color:#6a9955">// 這裡使用前一段@vite-pwa/assets-generator產生出來的圖片路徑</span></span>
<span class="line"><span style="color:#d4d4d4">          </span><span style="color:#9cdcfe">href:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">`/pwa-192x192.png`</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        },</span></span>
<span class="line"><span style="color:#d4d4d4">        {</span></span>
<span class="line"><span style="color:#d4d4d4">          </span><span style="color:#9cdcfe">rel:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'mask-icon'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">          </span><span style="color:#6a9955">// 這裡使用前一段@vite-pwa/assets-generator產生出來的圖片路徑</span></span>
<span class="line"><span style="color:#d4d4d4">          </span><span style="color:#9cdcfe">href:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">`/maskable-icon-512x512.png`</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">          </span><span style="color:#9cdcfe">content:</span><span style="color:#d4d4d4"> </span><span style="color:#ce9178">'#ffffff'</span><span style="color:#d4d4d4">,</span></span>
<span class="line"><span style="color:#d4d4d4">        },</span></span>
<span class="line"><span style="color:#d4d4d4">      ],</span></span>
<span class="line"><span style="color:#d4d4d4">    },</span></span>
<span class="line"><span style="color:#d4d4d4">  },</span></span>
<span class="line"><span style="color:#d4d4d4">})</span></span>
<span class="line"></span></code></pre></div></div>
<hr>
<h2 id="在根層級引入-vite-pwa-的-manifest-元件"><a href="#%E5%9C%A8%E6%A0%B9%E5%B1%A4%E7%B4%9A%E5%BC%95%E5%85%A5-vite-pwa-%E7%9A%84-manifest-%E5%85%83%E4%BB%B6" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>在根層級引入 vite-pwa 的 manifest 元件</h2>
<p>最後一步就是在根層級（例如<code>app.vue</code>或是全域使用的<code>layouts/default.vue</code>）引入<code>&lt;VitePwaManifest /></code>或是<code>&lt;NuxtPwaManifest /></code>。我是放在<code>app.vue</code>：</p>
<div class="article-code position-relative"><div class="d-flex flex-row align-items-center text-white py-2 px-3 rounded-top bg-secondary"><div class="flex-grow-1 text-truncate pe-3 small font-weight-bold text-monospace">
      app.vue
    </div> <button type="button" to="" class="btn p-0 d-flex align-items-center justify-content-center text-white btn-link"><i class="bi-clipboard"></i></button></div> <div class="rounded-bottom"><pre tabindex="0" class="shiki dark-plus" style="background-color:#1e1e1e"><code><span class="line"><span style="color:grey">&lt;</span><span style="color:#569cd6">template</span><span style="color:grey">></span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:grey">&lt;</span><span style="color:#f44747">VitePwaManifest</span><span style="color:grey"> /></span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:grey">&lt;</span><span style="color:#f44747">NuxtLayout</span><span style="color:grey">></span></span>
<span class="line"><span style="color:#d4d4d4">    </span><span style="color:grey">&lt;</span><span style="color:#f44747">NuxtPage</span><span style="color:grey"> /></span></span>
<span class="line"><span style="color:#d4d4d4">  </span><span style="color:grey">&lt;/</span><span style="color:#f44747">NuxtLayout</span><span style="color:grey">></span></span>
<span class="line"><span style="color:grey">&lt;/</span><span style="color:#569cd6">template</span><span style="color:grey">></span></span>
<span class="line"></span></code></pre></div></div>
<p>這樣就大功告成囉，可以試試看<code>npm run dev</code>，看看 Chrome 有沒有出現「安裝」圖示，有的話就代表設定成功。</p>
<hr>
<h2 id="後記"><a href="#%E5%BE%8C%E8%A8%98" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>後記</h2>
<p>不知道為什麼，Nuxt3 的模組只要是非官方開發的，文件的複雜度感覺都升了一個層級……，想到這部落格也要找時間升上 Nuxt3 就覺得頭很痛啊。</p></div></article></div> <hr class="d-block d-sm-none"> <div class="giscus mt-5"></div> <div class="mt-5"><div class="h5 mb-4 text-center">相關文章</div> <article data-fetch-key="0" class="d-flex flex-column align-items-stretch rounded mt-3 flex-sm-row card_p7zN4"><div class="d-flex flex-column flex-grow-1 px-3 py-3 order-2 order-sm-1 px-sm-4"><div class="content_RWD6E"><h4 class="text-body text-two-line title_6af34">
        在Nuxt 2中建立動態routes的sitemap
      </h4> <p title="Sitemap 雖然對網站來說非必要，但為了 SEO 考量通常都還是會建立。而在 Nuxt 2 中可以透過@nuxt/sitemap模組來簡單建立 sitemap。但若遇到動態頁面，這個模組無法自動新增，官方文件要求使用者必須自行新增，而官方建議的作法以及網路上查到的方式好像都滿麻煩的，所以自己搞了一個小撇步出來，覺得頗方便，所以就紀錄下來。" class="text-muted text-two-line description_dM9JU">
        Sitemap 雖然對網站來說非必要，但為了 SEO 考量通常都還是會建立。而在 Nuxt 2 中可以透過@nuxt/sitemap模組來簡單建立 sitemap。但若遇到動態頁面，這個模組無法自動新增，官方文件要求使用者必須自行新增，而官方建議的作法以及網路上查到的方式好像都滿麻煩的，所以自己搞了一個小撇步出來，覺得頗方便，所以就紀錄下來。
      </p></div> <div class="d-flex flex-row align-items-center mt-sm-3"><time class="d-flex align-items-center flex-row text-muted small mb-0 small"><i class="me-1 bi-calendar-event"></i> <span class="me-3">2023/10/30</span></time> <span class="text-muted small d-inline-flex align-items-center"><i class="me-1 bi-clock"></i> <span class="me-3">4 min</span></span> <!----> <div class="text-end flex-grow-1"><a href="/blog/nuxt2_dynamic_routes_sitemap/" class="btn d-inline-flex flex-row align-items-center btn-primary btn-sm btn_7HlBi"> 閱讀更多 <i class="bi-arrow-right icon_bjDiw"></i></a></div></div></div> <div class="position-relative align-self-stretch order-1 order-sm-2 banner_rsu9F"><img srcset="https://imagizer.imageshack.com/v2/100x75q70/923/KaAGJw.png 100w, https://imagizer.imageshack.com/v2/150x100q70/923/KaAGJw.png 150w, https://imagizer.imageshack.com/v2/280x200q70/923/KaAGJw.png 280w, https://imagizer.imageshack.com/v2/320x240q70/923/KaAGJw.png 320w, https://imagizer.imageshack.com/v2/640x480q70/923/KaAGJw.png 640w, https://imagizer.imageshack.com/v2/800x600q70/923/KaAGJw.png 800w, https://imagizer.imageshack.com/v2/1024x768q70/923/KaAGJw.png 1024w, https://imagizer.imageshack.com/v2/1280x1024q70/923/KaAGJw.png 1280w, https://imagizer.imageshack.com/v2/1600x1200q70/923/KaAGJw.png 1600w" src="https://imagizer.imageshack.com/v2/923/KaAGJw.png" sizes="(min-width: 992px) 320px,(min-width: 768px) 640px,640px" loading="lazy" class="img_vqRp5 img_ZMK2p"></div></article><article data-fetch-key="1" class="d-flex flex-column align-items-stretch rounded mt-3 flex-sm-row card_p7zN4"><div class="d-flex flex-column flex-grow-1 px-3 py-3 order-2 order-sm-1 px-sm-4"><div class="content_RWD6E"><h4 class="text-body text-two-line title_6af34">
        使用nuxt-content-git取得Nuxt2 Content中正確的檔案時間
      </h4> <p title="建完這個部落格之後，發現好像不太對，怎麼前幾天發的文章，日期卻變成今天。後來發現是因為若從 A 電腦更新文章，在 B 電腦用 git 同步更新檔案之後，檔案的更新日期會變成當下的時間。
上網查了一下後，發現已經有人針對這個問題提出解方：那就是去撈這個檔案在 git 紀錄上的建立與更新時間，來取代本機檔案的建立與更新時間。" class="text-muted text-two-line description_dM9JU">
        建完這個部落格之後，發現好像不太對，怎麼前幾天發的文章，日期卻變成今天。後來發現是因為若從 A 電腦更新文章，在 B 電腦用 git 同步更新檔案之後，檔案的更新日期會變成當下的時間。
上網查了一下後，發現已經有人針對這個問題提出解方：那就是去撈這個檔案在 git 紀錄上的建立與更新時間，來取代本機檔案的建立與更新時間。
      </p></div> <div class="d-flex flex-row align-items-center mt-sm-3"><time class="d-flex align-items-center flex-row text-muted small mb-0 small"><i class="me-1 bi-pencil-square"></i> <span class="me-3">2023/10/30</span></time> <span class="text-muted small d-inline-flex align-items-center"><i class="me-1 bi-clock"></i> <span class="me-3">2 min</span></span> <!----> <div class="text-end flex-grow-1"><a href="/blog/nuxt2_content_git/" class="btn d-inline-flex flex-row align-items-center btn-primary btn-sm btn_7HlBi"> 閱讀更多 <i class="bi-arrow-right icon_bjDiw"></i></a></div></div></div> <div class="position-relative align-self-stretch order-1 order-sm-2 banner_rsu9F"><img srcset="https://imagizer.imageshack.com/v2/100x75q70/924/WCeWkF.jpg 100w, https://imagizer.imageshack.com/v2/150x100q70/924/WCeWkF.jpg 150w, https://imagizer.imageshack.com/v2/280x200q70/924/WCeWkF.jpg 280w, https://imagizer.imageshack.com/v2/320x240q70/924/WCeWkF.jpg 320w, https://imagizer.imageshack.com/v2/640x480q70/924/WCeWkF.jpg 640w, https://imagizer.imageshack.com/v2/800x600q70/924/WCeWkF.jpg 800w, https://imagizer.imageshack.com/v2/1024x768q70/924/WCeWkF.jpg 1024w, https://imagizer.imageshack.com/v2/1280x1024q70/924/WCeWkF.jpg 1280w, https://imagizer.imageshack.com/v2/1600x1200q70/924/WCeWkF.jpg 1600w" src="https://imagizer.imageshack.com/v2/924/WCeWkF.jpg" sizes="(min-width: 992px) 320px,(min-width: 768px) 640px,640px" loading="lazy" class="img_vqRp5 img_ZMK2p"></div></article><article data-fetch-key="2" class="d-flex flex-column align-items-stretch rounded mt-3 flex-sm-row card_p7zN4"><div class="d-flex flex-column flex-grow-1 px-3 py-3 order-2 order-sm-1 px-sm-4"><div class="content_RWD6E"><h4 class="text-body text-two-line title_6af34">
        Nuxt2中的BootstrapVue TreeShaking
      </h4> <p title="Bootstrap 是個很好用的 UI 框架，在 Vue 生態系中主要由 Bootstrap Vue 去作銜接，然而在專案中幾乎不會完全使用到 Bootstrap 的所有功能，這時如果把不必要的 css / js 編譯移除，可以降低編譯後專案的大小，這種行為也被稱為 Tree shaking。本篇紀錄了自己在 Nuxt2 中使用 Bootstrap Vue 時，Tree Shaking 的一些步驟。" class="text-muted text-two-line description_dM9JU">
        Bootstrap 是個很好用的 UI 框架，在 Vue 生態系中主要由 Bootstrap Vue 去作銜接，然而在專案中幾乎不會完全使用到 Bootstrap 的所有功能，這時如果把不必要的 css / js 編譯移除，可以降低編譯後專案的大小，這種行為也被稱為 Tree shaking。本篇紀錄了自己在 Nuxt2 中使用 Bootstrap Vue 時，Tree Shaking 的一些步驟。
      </p></div> <div class="d-flex flex-row align-items-center mt-sm-3"><time class="d-flex align-items-center flex-row text-muted small mb-0 small"><i class="me-1 bi-pencil-square"></i> <span class="me-3">2023/12/11</span></time> <span class="text-muted small d-inline-flex align-items-center"><i class="me-1 bi-clock"></i> <span class="me-3">4 min</span></span> <!----> <div class="text-end flex-grow-1"><a href="/blog/nuxt2_bootstrapvue_treeshaking/" class="btn d-inline-flex flex-row align-items-center btn-primary btn-sm btn_7HlBi"> 閱讀更多 <i class="bi-arrow-right icon_bjDiw"></i></a></div></div></div> <div class="position-relative align-self-stretch order-1 order-sm-2 banner_rsu9F"><img srcset="https://imagizer.imageshack.com/v2/100x75q70/924/Oqxy2g.jpg 100w, https://imagizer.imageshack.com/v2/150x100q70/924/Oqxy2g.jpg 150w, https://imagizer.imageshack.com/v2/280x200q70/924/Oqxy2g.jpg 280w, https://imagizer.imageshack.com/v2/320x240q70/924/Oqxy2g.jpg 320w, https://imagizer.imageshack.com/v2/640x480q70/924/Oqxy2g.jpg 640w, https://imagizer.imageshack.com/v2/800x600q70/924/Oqxy2g.jpg 800w, https://imagizer.imageshack.com/v2/1024x768q70/924/Oqxy2g.jpg 1024w, https://imagizer.imageshack.com/v2/1280x1024q70/924/Oqxy2g.jpg 1280w, https://imagizer.imageshack.com/v2/1600x1200q70/924/Oqxy2g.jpg 1600w" src="https://imagizer.imageshack.com/v2/924/Oqxy2g.jpg" sizes="(min-width: 992px) 320px,(min-width: 768px) 640px,640px" loading="lazy" class="img_vqRp5 img_ZMK2p"></div></article></div></div></div> <footer class="pb-5 mt-4 footer_E9WbI"><div class="container text-white container-sm"><div class="row"><div class="mt-5 col-sm-4 col12"><div class="font-weight-bold mb-2 d-flex align-items-center h6 text-primary"><a href="/blog/buy_me_a_tea#關於我" class="text-primary">關於我</a> <img src="/blog/_nuxt/icons/icon_64x64.4af7d7.png" height="16" width="16" class="common-icon rounded-circle shadow-sm ms-2"></div> <div class="small">
          工作時若不喝上一杯飲料就無法做事的前端小碼農。三大前端框架陣營中屬於
          Vue 陣營。
        </div></div> <div class="mt-5 col-sm-4 col12"><div class="font-weight-bold mb-2 d-flex align-items-center h6 text-primary"><a href="/blog/buy_me_a_tea#關於隨機手札" class="text-primary">關於隨機手札</a></div> <div class="small">使用
          <a href="https://v2.nuxt.com/" target="_blank" rel="noopener noreferrer" class="text-white">Nuxt 2</a>
          建置於
          <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer" class="text-white">Github Pages</a>
          上，全站文字皆在
          <a href="https://creativecommons.org/licenses/by-nd/4.0/legalcode.zh-hant" target="_blank" rel="noopener noreferrer" class="text-white">創用CC BY-ND 4.0 條款</a>
          下提供。
        </div></div> <div class="mt-5 col-sm-4 col12"><div class="font-weight-bold mb-2 d-flex align-items-center h6 text-primary"><a href="/blog/buy_me_a_tea#請我喝杯手搖飲吧！" class="text-primary">請我喝杯手搖飲吧！</a></div> <div class="small">若這裡的經驗分享有幫助到你，可以透過<a href="https://ko-fi.com/chaoschaoshuang" target="_blank" rel="noopener noreferrer" class="text-white">Ko-fi</a>請我喝杯手搖飲哦！</div></div></div></div></footer> <div tabindex="-1" aria-hidden="true" class="modal fade modal_mSdUb modal-toc"><div class="modal-dialog modal-dialog-centered modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><div class="modal-title h5">摘要</div> <button type="button" aria-label="關閉" class="btn-close"></button></div> <div class="modal-body"><ul class="nav flex-column"><li class="nav-item"><a href="/blog/nuxt3_vite_pwa#安裝與基本設定" class="nav-link p-0 border-start navLink_OkqUQ"><span class="d-block px-3 py-2"><span class="d-block" style="padding-left:0;opacity:1"> 安裝與基本設定</span></span></a></li><li class="nav-item"><a href="/blog/nuxt3_vite_pwa#icon-設定" class="nav-link p-0 border-start navLink_OkqUQ"><span class="d-block px-3 py-2"><span class="d-block" style="padding-left:0;opacity:1"> ICON 設定</span></span></a></li><li class="nav-item"><a href="/blog/nuxt3_vite_pwa#額外設定值選擇性" class="nav-link p-0 border-start navLink_OkqUQ"><span class="d-block px-3 py-2 text-muted"><span class="d-block" style="padding-left:1rem;opacity:.9"> 額外設定值(選擇性)</span></span></a></li><li class="nav-item"><a href="/blog/nuxt3_vite_pwa#執行指令" class="nav-link p-0 border-start navLink_OkqUQ"><span class="d-block px-3 py-2 text-muted"><span class="d-block" style="padding-left:1rem;opacity:.9"> 執行指令</span></span></a></li><li class="nav-item"><a href="/blog/nuxt3_vite_pwa#meta-設定" class="nav-link p-0 border-start navLink_OkqUQ"><span class="d-block px-3 py-2"><span class="d-block" style="padding-left:0;opacity:1"> META 設定</span></span></a></li><li class="nav-item"><a href="/blog/nuxt3_vite_pwa#在根層級引入-vite-pwa-的-manifest-元件" class="nav-link p-0 border-start navLink_OkqUQ"><span class="d-block px-3 py-2"><span class="d-block" style="padding-left:0;opacity:1"> 在根層級引入 vite-pwa 的 manifest 元件</span></span></a></li><li class="nav-item"><a href="/blog/nuxt3_vite_pwa#後記" class="nav-link p-0 border-start navLink_OkqUQ"><span class="d-block px-3 py-2"><span class="d-block" style="padding-left:0;opacity:1"> 後記</span></span></a></li></ul></div></div></div></div> <div tabindex="-1" aria-hidden="true" class="modal fade"><div class="modal-dialog modal-dialog-centered modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><div class="modal-title h5">文章分類</div> <button type="button" aria-label="關閉" class="btn-close"></button></div> <div class="modal-body"><ul class="nav flex-column"><li class="nav-item"><a href="/blog/category/all/1/" class="nav-link">最新文章</a></li><li class="nav-item"><a href="/blog/category/linux/1/" class="nav-link">Linux心得</a></li><li class="nav-item"><a href="/blog/category/frontend/1/" class="nav-link">前端筆記</a></li><li class="nav-item"><a href="/blog/category/life/1/" class="nav-link">生活雜記</a></li></ul></div></div></div></div> <div tabindex="-1" aria-hidden="true" class="modal fade"><div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg"><div class="modal-content"><div class="modal-header"><div class="modal-title h5">搜尋文章</div> <button type="button" aria-label="關閉" class="btn-close"></button></div> <div class="modal-body"><div class="d-flex flex-column"><div class="position-relative inputGroup_cLFd3"><input placeholder="請輸入關鍵字" class="form-control input_N4gzH"> <div class="d-flex align-items-center justify-content-center px-3 iconWrapper_5XWwN"><i class="bi-search icon_aoqcS"></i></div></div> <div class="mt-3 results_hNZti"><!----></div></div></div></div></div></div></main></div></div><script defer src="/blog/_nuxt/static/1705932919/nuxt3_vite_pwa/state.js"></script><script>!function(){var t,e=document,n=e.createElement("script");!("noModule"in n)&&"onbeforeload"in n&&(t=!1,e.addEventListener("beforeload",function(e){if(e.target===n)t=!0;else if(!e.target.hasAttribute("nomodule")||!t)return;e.preventDefault()},!0),n.type="module",n.src=".",e.head.appendChild(n),n.remove())}()</script><script nomodule src="/blog/_nuxt/6735825.js" defer></script><script type="module" src="/blog/_nuxt/4519b95.modern.js" defer></script><script nomodule src="/blog/_nuxt/442b997.js" defer></script><script type="module" src="/blog/_nuxt/8557734.modern.js" defer></script><script nomodule src="/blog/_nuxt/63d9c30.js" defer></script><script type="module" src="/blog/_nuxt/b09fdcb.modern.js" defer></script><script nomodule src="/blog/_nuxt/79baf64.js" defer></script><script type="module" src="/blog/_nuxt/b229352.modern.js" defer></script><script nomodule src="/blog/_nuxt/e87c939.js" defer></script><script type="module" src="/blog/_nuxt/46c710f.modern.js" defer></script><script nomodule src="/blog/_nuxt/7d83a9b.js" defer></script><script type="module" src="/blog/_nuxt/ef86e30.modern.js" defer></script><script nomodule src="/blog/_nuxt/24a31c4.js" defer></script><script type="module" src="/blog/_nuxt/6aab916.modern.js" defer></script>

    <!-- 解決底部sticky問題 -->
    <div style="position:fixed"></div>
  </body>
</html>
